
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="utPLSQL Ultimate Testing Framework for Oracle PL/SQL & SQL">
      
      
      
        <link rel="canonical" href="http://utPLSQL.org/v3.1.11/userguide/annotations.html">
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.6">
    
    
      
        <title>Annotations - utPLSQL-framework</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#annotations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="utPLSQL-framework" class="md-header__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            utPLSQL-framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Annotations
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link md-tabs__link--active">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="reporters.html" class="md-tabs__link">
        Reporting
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../about/project-details.html" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="utPLSQL-framework" class="md-nav__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    utPLSQL-framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="install.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started.html" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Annotations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="annotations.html" class="md-nav__link md-nav__link--active">
        Annotations
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#procedure-level-annotations" class="md-nav__link">
    Procedure level annotations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-level-annotations" class="md-nav__link">
    Package level annotations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-annotations" class="md-nav__link">
    Supported annotations
  </a>
  
    <nav class="md-nav" aria-label="Supported annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#suite" class="md-nav__link">
    Suite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disabled" class="md-nav__link">
    Disabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforeall" class="md-nav__link">
    Beforeall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afterall" class="md-nav__link">
    Afterall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforeeach" class="md-nav__link">
    Beforeeach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aftereach" class="md-nav__link">
    Aftereach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforetest" class="md-nav__link">
    Beforetest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aftertest" class="md-nav__link">
    Aftertest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    Context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#name" class="md-nav__link">
    Name
  </a>
  
    <nav class="md-nav" aria-label="Name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name-naming-convention" class="md-nav__link">
    Name naming convention
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    Tags
  </a>
  
    <nav class="md-nav" aria-label="Tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-naming-convention" class="md-nav__link">
    Tag naming convention
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-testssuites-by-tags" class="md-nav__link">
    Excluding tests/suites by tags
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suitepath" class="md-nav__link">
    Suitepath
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollback" class="md-nav__link">
    Rollback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throws" class="md-nav__link">
    Throws
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-of-execution" class="md-nav__link">
    Order of execution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sys_context" class="md-nav__link">
    sys_context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotation-cache" class="md-nav__link">
    Annotation cache
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="expectations.html" class="md-nav__link">
        Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="advanced_data_comparison.html" class="md-nav__link">
        Advanced data comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="running-unit-tests.html" class="md-nav__link">
        Running unit tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="querying_suites.html" class="md-nav__link">
        Querying for test suites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="best-practices.html" class="md-nav__link">
        Testing best practices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        Upgrade utPLSQL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Reporting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reporting" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Reporting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="reporters.html" class="md-nav__link">
        Using reporters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="coverage.html" class="md-nav__link">
        Code coverage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="exception-reporting.html" class="md-nav__link">
        Error handling and reporting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/project-details.html" class="md-nav__link">
        Project Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/support.html" class="md-nav__link">
        Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/authors.html" class="md-nav__link">
        Authors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/utPLSQL/utPLSQL/edit/master/docs/userguide/annotations.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<p><img alt="version" src="https://img.shields.io/badge/version-v3.1.11.3557-blue.svg" /></p>
<h1 id="annotations">Annotations<a class="headerlink" href="#annotations" title="Permanent link">&para;</a></h1>
<p>Annotations are used to configure tests and suites in a declarative way similar to modern OOP languages. This way, test configuration is stored along with the test logic inside the test package.
No additional configuration files or tables are needed for test cases. The annotation names are based on popular testing frameworks such as JUnit.
The framework runner searches for all the suitable annotated packages, automatically configures suites, forms the suite hierarchy, executes it and reports results in specified formats.</p>
<p>Annotation is defined by:
- single line comment <code>--</code> (double hyphen)
- followed directly by a <code>%</code> (percent)
- followed by annotation name 
- followed by optional annotation text placed in single brackets. </p>
<p>All of text between first opening bracket and last closing bracket in annotation line is considered to be annotation text</p>
<p>Examples:
<code>--%suite(The name of my test suite)</code> - represents <code>suite</code> annotation with text <code>The name of my test suite</code>  </p>
<p>utPLSQL interprets the whole line of annotation and will treat all the text from the first opening bracket in the line to the last closing bracket </p>
<p>Example:
 <code>--%suite(Stuff) -- we should name this ( correctly )</code> - represents <code>suite</code> annotation with text <code>Stuff) -- we should name this ( correctly</code>  </p>
<p>Do not place comments within annotation line to avoid unexpected behaviors.</p>
<p><strong>Note:</strong></p>
<blockquote>
<p>Annotations are interpreted only in the package specification and are case-insensitive. We strongly recommend using lower-case annotations as described in this documentation.</p>
</blockquote>
<p>There are two distinct types of annotations, identified by their location in package.
- package annotations
- procedure annotations</p>
<h3 id="procedure-level-annotations">Procedure level annotations<a class="headerlink" href="#procedure-level-annotations" title="Permanent link">&para;</a></h3>
<p>Annotation placed directly before a procedure (<code>--%test</code>, <code>--%beforeall</code>, <code>--%beforeeach</code> etc.).
There <strong>can not</strong> be any empty lines or comments between annotation line and procedure line.
There can be many annotations for a procedure. </p>
<p>Valid procedure annotations example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="c1">--%test()</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="c1">--%disabled</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">  </span><span class="err">$</span><span class="k">if</span><span class="w"> </span><span class="n">dbms_db_version</span><span class="p">.</span><span class="k">version</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="err">$</span><span class="k">then</span><span class="w"> </span><span class="c1">--This is ok - annotation before procedure </span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span><span class="c1">--%test() </span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span><span class="err">$</span><span class="k">end</span><span class="w"></span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">  </span><span class="c1">--A comment goes before annotations</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">  </span><span class="c1">--%test()</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>Invalid procedure annotations examples:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="c1">--%test()   --This is wrong as there is an empty line between procedure and annotation</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="c1">--%test()</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">  </span><span class="c1">--This is wrong as there is a comment line between procedure and annotation</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">proc1</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="c1">--%test() --This is wrong as there is a compiler directive between procedure and annotation</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="err">$</span><span class="k">if</span><span class="w"> </span><span class="n">dbms_db_version</span><span class="p">.</span><span class="k">version</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="err">$</span><span class="k">then</span><span class="w">  </span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">proc_12</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">  </span><span class="err">$</span><span class="k">end</span><span class="w"></span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">  </span><span class="c1">--%test()  </span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">  </span><span class="c1">-- procedure another_proc; </span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">  </span><span class="cm">/* The above is wrong as the procedure is commented out </span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="cm">     and annotation is not procedure annotation anymore */</span><span class="w"></span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<h3 id="package-level-annotations">Package level annotations<a class="headerlink" href="#package-level-annotations" title="Permanent link">&para;</a></h3>
<p>Those annotations placed at any place in package except directly before procedure (<code>--%suite</code>, <code>--%suitepath</code> etc.).
We strongly recommend putting package level annotations at the very top of package except for the <code>--%context</code> annotations (described below)  </p>
<p>Valid package annotations example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="c1">--%suitepath(org.utplsql.example) </span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="c1">--%beforeall(some_package.some_procedure)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="c1">--%context</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">  </span><span class="c1">--%test()</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>Invalid  package annotations examples:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="c1">--%suite               --This is wrong as suite annotation is not a procedure annotation</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">irrelevant</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">  </span><span class="c1">--%context  --This is wrong as there is no empty line between package level annotation and procedure level annotation</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="c1">--%test()   </span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">my_first_procedure</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<h2 id="supported-annotations">Supported annotations<a class="headerlink" href="#supported-annotations" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Annotation</th>
<th>Level</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--%suite(&lt;description&gt;)</code></td>
<td>Package</td>
<td>Mandatory. Marks package as a test suite. Optional suite description can be provided (see <code>displayname</code>).</td>
</tr>
<tr>
<td><code>--%suitepath(&lt;path&gt;)</code></td>
<td>Package</td>
<td>Similar to java package. The annotation allows logical grouping of suites into hierarchies.</td>
</tr>
<tr>
<td><code>--%displayname(&lt;description&gt;)</code></td>
<td>Package/procedure</td>
<td>Human-readable and meaningful description of a context/suite/test. Overrides the <code>&lt;description&gt;</code> provided with <code>suite</code>/<code>test</code>/<code>context</code> annotation. This annotation is redundant and might be removed in future releases.</td>
</tr>
<tr>
<td><code>--%test(&lt;description&gt;)</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure is a unit test procedure.  Optional test description can by provided (see <code>displayname</code>).</td>
</tr>
<tr>
<td><code>--%throws(&lt;exception&gt;[,...])</code></td>
<td>Procedure</td>
<td>Denotes that the annotated test procedure must throw one of the exceptions provided. Supported forms of exceptions are: numeric literals, numeric constant names, exception constant names, predefined Oracle exception names.</td>
</tr>
<tr>
<td><code>--%beforeall</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed once before all elements of the suite.</td>
</tr>
<tr>
<td><code>--%beforeall([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Package</td>
<td>Denotes that the mentioned procedure(s) should be executed once before all elements of the suite.</td>
</tr>
<tr>
<td><code>--%afterall</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed once after all elements of the suite.</td>
</tr>
<tr>
<td><code>--%afterall([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Package</td>
<td>Denotes that the mentioned procedure(s) should be executed once after all elements of the suite.</td>
</tr>
<tr>
<td><code>--%beforeeach</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed before each <code>%test</code> procedure in the suite.</td>
</tr>
<tr>
<td><code>--%beforeeach([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Package</td>
<td>Denotes that the mentioned procedure(s) should be executed before each <code>%test</code> procedure in the suite.</td>
</tr>
<tr>
<td><code>--%aftereach</code></td>
<td>Procedure</td>
<td>Denotes that the annotated procedure should be executed after each <code>%test</code> procedure in the suite.</td>
</tr>
<tr>
<td><code>--%aftereach([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Package</td>
<td>Denotes that the mentioned procedure(s) should be executed after each <code>%test</code> procedure in the suite.</td>
</tr>
<tr>
<td><code>--%beforetest([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Procedure</td>
<td>Denotes that mentioned procedure(s) should be executed before the annotated <code>%test</code> procedure.</td>
</tr>
<tr>
<td><code>--%aftertest([[&lt;owner&gt;.]&lt;package&gt;.]&lt;procedure&gt;[,...])</code></td>
<td>Procedure</td>
<td>Denotes that mentioned procedure(s) should be executed after the annotated <code>%test</code> procedure.</td>
</tr>
<tr>
<td><code>--%rollback(&lt;type&gt;)</code></td>
<td>Package/procedure</td>
<td>Defines transaction control. Supported values: <code>auto</code>(default) - a savepoint is created before invocation of each "before block" is and a rollback to specific savepoint is issued after each "after" block; <code>manual</code> - rollback is never issued automatically. Property can be overridden for child element (test in suite)</td>
</tr>
<tr>
<td><code>--%disabled</code></td>
<td>Package/procedure</td>
<td>Used to disable a suite or a test. Disabled suites/tests do not get executed, they are however marked and reported as disabled in a test run.</td>
</tr>
<tr>
<td><code>--%context(&lt;description&gt;)</code></td>
<td>Package</td>
<td>Denotes start of a named context (sub-suite) in a suite package an optional description for context can be provided.</td>
</tr>
<tr>
<td><code>--%name(&lt;name&gt;)</code></td>
<td>Package</td>
<td>Denotes name for a context. Must be placed after the context annotation and before start of nested context.</td>
</tr>
<tr>
<td><code>--%endcontext</code></td>
<td>Package</td>
<td>Denotes end of a nested context (sub-suite) in a suite package</td>
</tr>
<tr>
<td><code>--%tags</code></td>
<td>Package/procedure</td>
<td>Used to label a test or a suite for purpose of identification</td>
</tr>
</tbody>
</table>
<h3 id="suite">Suite<a class="headerlink" href="#suite" title="Permanent link">&para;</a></h3>
<p>The <code>--%suite</code> annotation denotes PLSQL package as a unit test suite.
It accepts an optional description that will be visible when running the tests.
When description is not provided, package name is displayed on report.</p>
<p><strong>Note</strong></p>
<blockquote>
<p>Package is considered a test-suite only when package specification contains the <code>--%suite</code> annotation at the package level.</p>
<p>Some annotations like <code>--%suite</code>, <code>--%test</code> and <code>--%displayname</code> accept parameters. The parameters for annotations need to be placed in brackets.
Values for parameters should be provided without any quotation marks.
If the parameters are placed without brackets or with incomplete brackets, they will be ignored.</p>
<p>Example: <code>--%suite(The name of suite without closing bracket</code>
Example: <code>--%suite The name of suite without brackets</code></p>
</blockquote>
<p>Suite package without description.
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>test_package
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>Finished in .002415 seconds
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>0 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>Suite package with description.
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Tests for a package
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>Finished in .001646 seconds
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>0 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>When multiple <code>--%suite</code> annotations are specified in package, the first annotation will be used and a warning message will appear indicating duplicate annotation.
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="c1">--%suite(Bad annotation)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Tests for a package
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>Warnings:
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>  1) test_package
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>      Duplicate annotation &quot;--%suite&quot;. Annotation ignored.
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>      at &quot;TESTS_OWNER.TEST_PACKAGE&quot;, line 3
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>Finished in .003318 seconds
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>0 tests, 0 failed, 0 errored, 0 disabled, 1 warning(s)
</code></pre></div></p>
<p>When <code>--%suite</code> annotation is bound to procedure, it is ignored and results in package not getting recognized as test suite.
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_proc</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ORA-20204: Suite package TESTS_OWNER.test_package not found
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>ORA-06512: at &quot;UT3.UT_RUNNER&quot;, line 106
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>ORA-06512: at &quot;UT3.UT&quot;, line 115
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>ORA-06512: at &quot;UT3.UT&quot;, line 306
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>ORA-06512: at &quot;UT3.UT&quot;, line 364
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>ORA-06512: at line 1
</code></pre></div></p>
<h3 id="test">Test<a class="headerlink" href="#test" title="Permanent link">&para;</a></h3>
<p>The <code>--%test</code> annotation denotes procedure withing test suite as a unit test.
It accepts an optional description that will be reported when the test is executed.
When description is not provided, procedure name is displayed on report.</p>
<p>If <code>--%test</code> raises an unhandled exception the following will happen:
- the test will be marked as errored and exception stack trace will be captured and reported
- the <code>--%aftertest</code>, <code>--%aftereach</code> procedures <strong>will be executed</strong> for the errored test
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for rest of the suite </p>
<p>Test procedure without description.
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="c1">--%test</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Tests for a package
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>  some_test [.003 sec]
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Finished in .004109 seconds
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>1 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>Test procedure with description.
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>Tests for a package
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>  Description of tested behavior [.005 sec]
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>Finished in .006828 seconds
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>1 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>When multiple <code>--%test</code> annotations are specified for a procedure, the first annotation will be used and a warning message will appear indicating duplicate annotation.
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span><span class="c1">--%test(Duplicate description)</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>Tests for a package
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>  Description of tested behavior [.007 sec]
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>Warnings:
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>  1) test_package
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>      Duplicate annotation &quot;--%test&quot;. Annotation ignored.
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>      at &quot;TESTS_OWNER.TEST_PACKAGE.SOME_TEST&quot;, line 5
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>Finished in .008815 seconds
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>1 tests, 0 failed, 0 errored, 0 disabled, 1 warning(s)
</code></pre></div></p>
<h3 id="disabled">Disabled<a class="headerlink" href="#disabled" title="Permanent link">&para;</a></h3>
<p>Marks annotated suite package or test procedure as disabled.</p>
<p>Disabling suite.
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">  </span><span class="c1">--%disabled</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>Tests for a package
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>  Description of tested behavior [0 sec] (DISABLED)
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>  Description of another behavior [0 sec] (DISABLED)
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>Finished in .001441 seconds
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>2 tests, 0 failed, 0 errored, 2 disabled, 0 warning(s)
</code></pre></div></p>
<p>Disabling individual test(s).
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">  </span><span class="c1">--%disabled</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>Tests for a package
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>  Description of tested behavior [.004 sec]
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>  Description of another behavior [0 sec] (DISABLED)
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>Finished in .005868 seconds
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>2 tests, 0 failed, 0 errored, 1 disabled, 0 warning(s)
</code></pre></div></p>
<h3 id="beforeall">Beforeall<a class="headerlink" href="#beforeall" title="Permanent link">&para;</a></h3>
<p>There are two possible ways  to use the <code>--%beforeall</code> annotation.</p>
<p>As a procedure level annotation:
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="c1">--%beforeall</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_before_all</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="c1">--%test</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Marks annotated procedure to be executed before all test procedures in a suite.</p>
<p>As a package level annotation (not associated with any procedure).
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="c1">--%beforeall(to_be_executed_before_all, other_package.some_setup)</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="c1">--%test</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_before_all</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Indicates that the procedure(s) mentioned as the annotation parameter are to be executed before all test procedures in a suite.</p>
<p>If <code>--%beforeall</code> raises an exception, suite content cannot be safely executed as the setup was not executed successfully for the suite. </p>
<p>If <code>--%beforeall</code> raises an exception the following will happen:
- the <code>--%beforeall</code> procedures that follow the failed one, <strong>will not be executed</strong>
- all <code>--%test</code> procedures and their <code>--%beforeeach</code>, <code>--%aftereach</code>, <code>--%beforetest</code> and <code>--%aftertest</code> procedures within suite package <strong>will not be executed</strong>
- all <code>--%test</code> procedures <strong>will be marked as failed</strong>
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for other suite packages </p>
<p>When multiple <code>--%beforeall</code> procedures are defined in a suite package, all of them will be executed before invoking any test.</p>
<p>For multiple <code>--%beforeall</code> procedures order of execution is defined by annotation position in the package specification.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_stuff</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_stuff</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- SETUP_STUFF invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>Tests for a package
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>  --- SETUP_STUFF invoked ---
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>  Description of tested behavior [.004 sec]
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>  Description of another behavior [.003 sec]
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>Finished in .012292 seconds
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>In the below example a combination pacakge and procedure level <code>--%beforeall</code> annotations is used.
The order of execution of the beforeall procedures is determined by the annotation position in package. 
All of the <code>--%beforeall</code> procedures get invoked before any test is executed in a suite.<br />
 <div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">   </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">   </span><span class="c1">--%beforeall(initial_setup,test_package.another_setup)</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">   </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">   </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">   </span><span class="c1">--%beforeall</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">next_setup</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">   </span><span class="c1">--%beforeall(one_more_setup)</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_setup</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">one_more_setup</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">initial_setup</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="w"> </span><span class="o">/</span><span class="w"></span>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">one_more_setup</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="w">     </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- ONE_MORE_SETUP invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">next_setup</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="w">     </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- NEXT_SETUP invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a>
<a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_setup</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="w">     </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- ANOTHER_SETUP invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a>
<a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">initial_setup</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a><span class="w">     </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- INITIAL_SETUP invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a>
<a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a>
<a id="__codelineno-36-46" name="__codelineno-36-46" href="#__codelineno-36-46"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-47" name="__codelineno-36-47" href="#__codelineno-36-47"></a><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-36-48" name="__codelineno-36-48" href="#__codelineno-36-48"></a><span class="w"> </span><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
 ```
Tests for a package
  --- INITIAL_SETUP invoked ---
  --- ANOTHER_SETUP invoked ---
  --- NEXT_SETUP invoked ---
  --- ONE_MORE_SETUP invoked ---
  Description of tested behavior [.003 sec]
  Description of another behavior [.002 sec]</p>
<p>Finished in .018944 seconds
2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
 ```</p>
<p>When multiple <code>--%beforeall</code> annotations are specified for a procedure, the first annotation will be used and a warning message will appear indicating duplicate annotation.<br />
When procedure is annotated as both <code>--%beforeall</code> and <code>--%test</code>, the procedure will become a test and a warning message will appear indicating invalid annotation combination.  <br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">   </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">   </span><span class="c1">--%beforeall</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">   </span><span class="c1">--%beforeall</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">initial_setup</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">   </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">   </span><span class="c1">--%beforeall</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">   </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w"> </span><span class="o">/</span><span class="w"></span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">initial_setup</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">     </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;--- INITIAL_SETUP invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a><span class="w"> </span><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
 ```
Tests for a package
  --- INITIAL_SETUP invoked ---
  Description of tested behavior [.003 sec]
  Description of another behavior [.004 sec]</p>
<p>Warnings:</p>
<p>1) test_package
      Duplicate annotation "--%beforeall". Annotation ignored.
      at "UT3_TESTER.TEST_PACKAGE.INITIAL_SETUP", line 5
  2) test_package
      Annotation "--%beforeall" cannot be used with annotation: "--%test"
      at "UT3_TESTER.TEST_PACKAGE.SOME_TEST", line 9</p>
<p>Finished in .012158 seconds
2 tests, 0 failed, 0 errored, 0 disabled, 2 warning(s)
 ```</p>
<h3 id="afterall">Afterall<a class="headerlink" href="#afterall" title="Permanent link">&para;</a></h3>
<p>There are two possible ways  to use the <code>--%afterall</code> annotation.</p>
<p>As a procedure level annotation:
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="c1">--%afterall</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_after_all</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="c1">--%test</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Marks annotated procedure to be executed after all test procedures in a suite.</p>
<p>As a package level annotation (not associated with any procedure).
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="c1">--%afterall(to_be_executed_after_all, other_package.some_cleanup)</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="c1">--%test</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_after_all</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Indicates that the procedure(s) mentioned as the annotation parameter are to be executed after all test procedures in a suite.</p>
<p>If <code>--%afterall</code> raises an exception the following will happen:
- a warning will be raised, indicating that <code>--%afterall</code> procedure has failed
- execution will continue uninterrupted for rest of the suite </p>
<p>If <code>--%afterall</code> raises an exception, it can have negative impact on other tests, as the environment was not cleaned-up after the tests. 
This however doesn't have direct impact on test execution within current suite, as the tests are already complete by the time <code>--%afterall</code> is called. </p>
<p>When multiple <code>--%afterall</code> procedures are defined in a suite, all of them will be executed after invoking all tests from the suite.</p>
<p>For multiple <code>--%afterall</code> procedures order of execution is defined by annotation position in the package specification.</p>
<p>All rules defined for <code>--%beforeall</code> also apply for <code>--%afterall</code> annotation. See <a href="#Beforeall">beforeall</a> for more details.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">  </span><span class="c1">--%afterall</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_stuff</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_stuff</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---CLEANUP_STUFF invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">begin</span><span class="w"> </span><span class="k">null</span><span class="p">;</span><span class="w"> </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>Tests for a package
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>  Description of tested behavior [.003 sec]
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>  Description of another behavior [.005 sec]
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>  ---CLEANUP_STUFF invoked ---
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>Finished in .014161 seconds
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<h3 id="beforeeach">Beforeeach<a class="headerlink" href="#beforeeach" title="Permanent link">&para;</a></h3>
<p>The procedure annotated as <code>--%beforeeach</code> is getting executed before each test in a suite.
That means that the procedure will be executed as many times as there are test in suite package.</p>
<p>There are two possible ways  to use the <code>--%beforeeach</code> annotation.</p>
<p>As a procedure level annotation:
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="c1">--%beforeeach</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_before_each</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="c1">--%test</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Marks annotated procedure to be executed before each test procedures in a suite.</p>
<p>As a package level annotation (not associated with any procedure).
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="c1">--%beforeeach(to_be_executed_before_each, other_package.some_setup)</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="c1">--%test</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_before_each</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Indicates that the procedure(s) mentioned as the annotation parameter are to be executed before each test procedure in a suite.</p>
<p>If a test is marked as disabled the <code>--%beforeeach</code> procedure is not invoked for that test.</p>
<p>If <code>--%beforeeach</code> raises an unhandled exception the following will happen:
- the following <code>--%beforeeach</code> as well as all <code>--%beforetest</code> for that test <strong>will not be executed</strong>
- the test will be marked as errored and exception stack trace will be captured and reported
- the <code>--%aftertest</code>, <code>--%aftereach</code> procedures <strong>will be executed</strong> for the errored test
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for rest of the suite </p>
<p>As a rule, the <code>--%beforeeach</code> execution gets aborted if preceding <code>--%beforeeach</code> failed. </p>
<p>When multiple <code>--%beforeeach</code> procedures are defined in a suite, all of them will be executed before invoking each test.</p>
<p>For multiple <code>--%beforeeach</code> procedures order of execution is defined by annotation position in the package specification.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">  </span><span class="c1">--%beforeeach</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_stuff</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_stuff</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SETUP_STUFF invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SETUP_FOR_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a>
<a id="__codelineno-47-28" name="__codelineno-47-28" href="#__codelineno-47-28"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-47-29" name="__codelineno-47-29" href="#__codelineno-47-29"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-47-30" name="__codelineno-47-30" href="#__codelineno-47-30"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SOME_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-31" name="__codelineno-47-31" href="#__codelineno-47-31"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-32" name="__codelineno-47-32" href="#__codelineno-47-32"></a>
<a id="__codelineno-47-33" name="__codelineno-47-33" href="#__codelineno-47-33"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-47-34" name="__codelineno-47-34" href="#__codelineno-47-34"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-47-35" name="__codelineno-47-35" href="#__codelineno-47-35"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---OTHER_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-47-36" name="__codelineno-47-36" href="#__codelineno-47-36"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-37" name="__codelineno-47-37" href="#__codelineno-47-37"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-47-38" name="__codelineno-47-38" href="#__codelineno-47-38"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>Tests for a package
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>  ---SETUP_STUFF invoked ---
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>  Description of tested behavior [.004 sec]
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>  ---SETUP_FOR_TEST invoked ---
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>  ---SOME_TEST invoked ---
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>  Description of another behavior [.006 sec]
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>  ---SETUP_FOR_TEST invoked ---
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a>  ---OTHER_TEST invoked ---
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>Finished in .014683 seconds
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>See <a href="#Beforeall">beforeall</a> for more examples.</p>
<h3 id="aftereach">Aftereach<a class="headerlink" href="#aftereach" title="Permanent link">&para;</a></h3>
<p>Marks annotated procedure to be executed after each test procedure in a suite.</p>
<p>The procedure annotated as <code>--%aftereach</code> is getting executed after each test in a suite.
That means that the procedure will be executed as many times as there are test in suite package.</p>
<p>There are two possible ways  to use the <code>--%aftereach</code> annotation.</p>
<p>As a procedure level annotation:
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="c1">--%aftereach</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_after_each</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="c1">--%test</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Marks annotated procedure to be executed after each test procedures in a suite.</p>
<p>As a package level annotation (not associated with any procedure).
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1">--%suite(Some test suite)</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="c1">--%aftereach(to_be_executed_after_each, other_package.some_setup)</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="c1">--%test</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="k">procedure</span><span class="w"> </span><span class="n">to_be_executed_after_each</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
Indicates that the procedure(s) mentioned as the annotation parameter are to be executed after each test procedure in a suite.</p>
<p>If a test is marked as disabled the <code>--%aftereach</code> procedure is not invoked for that test.</p>
<p>If <code>--%aftereach</code> raises an unhandled exception the following will happen:
- the test will be marked as errored and exception stack trace will be captured and reported
- the <code>--%aftertest</code>, <code>--%aftereach</code> procedures <strong>will be executed</strong> for the errored test
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for rest of the suite </p>
<p>When multiple <code>--%aftereach</code> procedures are defined in a suite, all of them will be executed after invoking each test.</p>
<p>For multiple <code>--%aftereach</code> procedures order of execution is defined by the annotation position in the package specification.</p>
<p>As a rule, the <code>--%aftereach</code> gets executed even if the associated <code>--%beforeeach</code>, <code>--%beforetest</code>, <code>--%test</code> or other <code>--%aftereach</code> procedures have raised unhandled exceptions. </p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a>
<a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">  </span><span class="c1">--%aftereach</span>
<a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_for_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a>
<a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="w">  </span><span class="c1">--%afterall</span>
<a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_stuff</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_stuff</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-52-19" name="__codelineno-52-19" href="#__codelineno-52-19"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-52-20" name="__codelineno-52-20" href="#__codelineno-52-20"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---CLEANUP_STUFF invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-52-21" name="__codelineno-52-21" href="#__codelineno-52-21"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-22" name="__codelineno-52-22" href="#__codelineno-52-22"></a>
<a id="__codelineno-52-23" name="__codelineno-52-23" href="#__codelineno-52-23"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_for_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-52-24" name="__codelineno-52-24" href="#__codelineno-52-24"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-52-25" name="__codelineno-52-25" href="#__codelineno-52-25"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---CLEANUP_FOR_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-52-26" name="__codelineno-52-26" href="#__codelineno-52-26"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-27" name="__codelineno-52-27" href="#__codelineno-52-27"></a>
<a id="__codelineno-52-28" name="__codelineno-52-28" href="#__codelineno-52-28"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-52-29" name="__codelineno-52-29" href="#__codelineno-52-29"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-52-30" name="__codelineno-52-30" href="#__codelineno-52-30"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SOME_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-52-31" name="__codelineno-52-31" href="#__codelineno-52-31"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-32" name="__codelineno-52-32" href="#__codelineno-52-32"></a>
<a id="__codelineno-52-33" name="__codelineno-52-33" href="#__codelineno-52-33"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-52-34" name="__codelineno-52-34" href="#__codelineno-52-34"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-52-35" name="__codelineno-52-35" href="#__codelineno-52-35"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---OTHER_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-52-36" name="__codelineno-52-36" href="#__codelineno-52-36"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-37" name="__codelineno-52-37" href="#__codelineno-52-37"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-52-38" name="__codelineno-52-38" href="#__codelineno-52-38"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>Tests for a package
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>  Description of tested behavior [.006 sec]
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>  ---SOME_TEST invoked ---
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>  ---CLEANUP_FOR_TEST invoked ---
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>  Description of another behavior [.006 sec]
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>  ---OTHER_TEST invoked ---
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>  ---CLEANUP_FOR_TEST invoked ---
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>  ---CLEANUP_STUFF invoked ---
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>Finished in .018115 seconds
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>See <a href="#Beforeall">beforeall</a> for more examples.</p>
<h3 id="beforetest">Beforetest<a class="headerlink" href="#beforetest" title="Permanent link">&para;</a></h3>
<p>Indicates specific setup procedure(s) to be executed for a test. The procedure(s) can be located either:
- within current package (package name is optional)
- within another package </p>
<p>The annotation need to be placed alongside <code>--%test</code> annotation.</p>
<p>The <code>--%beforetest</code> procedures are executed after invoking all <code>--%beforeeach</code> for a test.</p>
<p>If a test is marked as disabled the <code>--%beforetest</code> procedures are not invoked for that test.</p>
<p>If <code>--%beforetest</code> raises an unhandled exception the following will happen:
- the following <code>--%beforetest</code> for that test <strong>will not be executed</strong>
- the test will be marked as errored and exception stack trace will be captured and reported
- the <code>--%aftertest</code>, <code>--%aftereach</code> procedures <strong>will be executed</strong> for the errored test
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for rest of the suite </p>
<p>When multiple <code>--%beforetest</code> procedures are defined for a test, all of them will be executed before invoking the test.</p>
<p>The order of execution for <code>--%beforetest</code> procedures is defined by:
- position of procedure on the list within single annotation
- annotation position</p>
<p>As a rule, the <code>--%beforetest</code> execution gets aborted if preceding <code>--%beforeeach</code> or <code>--%beforetest</code> failed. </p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">  </span><span class="c1">--%beforetest(test_package.setup_for_a_test)</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">  </span><span class="c1">--%beforetest(another_setup_for_a_test)</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">  </span><span class="c1">--%beforetest(test_package.setup_for_a_test, another_setup_for_a_test)</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a>
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_setup_for_a_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a>
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_a_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a>
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_a_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SETUP_FOR_A_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a>
<a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_setup_for_a_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---ANOTHER_SETUP_FOR_A_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a>
<a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SOME_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a>
<a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---OTHER_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-55-38" name="__codelineno-55-38" href="#__codelineno-55-38"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-39" name="__codelineno-55-39" href="#__codelineno-55-39"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-55-40" name="__codelineno-55-40" href="#__codelineno-55-40"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>Tests for a package
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>  Description of tested behavior [.008 sec]
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>  ---SETUP_FOR_A_TEST invoked ---
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>  ---ANOTHER_SETUP_FOR_A_TEST invoked ---
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a>  ---SOME_TEST invoked ---
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>  Description of another behavior [.005 sec]
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>  ---SETUP_FOR_A_TEST invoked ---
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>  ---ANOTHER_SETUP_FOR_A_TEST invoked ---
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a>  ---OTHER_TEST invoked ---
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a>
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a>Finished in .015185 seconds
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<h3 id="aftertest">Aftertest<a class="headerlink" href="#aftertest" title="Permanent link">&para;</a></h3>
<p>Indicates specific cleanup procedure(s) to be executed for a test. The procedure(s) can be located either:
- within current package (package name is optional)
- within another package </p>
<p>The annotation need to be placed alongside <code>--%test</code> annotation.</p>
<p>If a test is marked as disabled the <code>--%aftertest</code> procedures are not invoked for that test.</p>
<p>If <code>--%aftertest</code> raises an unhandled exception the following will happen:
- the test will be marked as errored and exception stack trace will be captured and reported
- the following <code>--%aftertest</code> and all <code>--%aftereach</code> procedures <strong>will be executed</strong> for the errored test
- the <code>--%afterall</code> procedures <strong>will be executed</strong>
- test execution will continue uninterrupted for rest of the suite </p>
<p>When multiple <code>--%aftertest</code> procedures are defined for a test, all of them will be executed after invoking the test.</p>
<p>The order of execution for <code>--%aftertest</code> procedures is defined by:
- position of procedure on the list within single annotation
- annotation position</p>
<p>As a rule, the <code>--%aftertest</code> gets executed even if the associated <code>--%beforeeach</code>, <code>--%beforetest</code>, <code>--%test</code> or other <code>--%aftertest</code> procedures have raised unhandled exceptions. </p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">  </span><span class="c1">--%suite(Tests for a package)</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">  </span><span class="c1">--%test(Description of tested behavior)</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">  </span><span class="c1">--%aftertest(test_package.cleanup_for_a_test)</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">  </span><span class="c1">--%aftertest(another_cleanup_for_a_test)</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="w">  </span><span class="c1">--%test(Description of another behavior)</span>
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">  </span><span class="c1">--%aftertest(test_package.cleanup_for_a_test, another_cleanup_for_a_test)</span>
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a>
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_cleanup_for_a_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a>
<a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_for_a_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a>
<a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_package</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_for_a_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---CLEANUP_FOR_A_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a>
<a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">another_cleanup_for_a_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---ANOTHER_CLEANUP_FOR_A_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-29" name="__codelineno-58-29" href="#__codelineno-58-29"></a>
<a id="__codelineno-58-30" name="__codelineno-58-30" href="#__codelineno-58-30"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-58-31" name="__codelineno-58-31" href="#__codelineno-58-31"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-58-32" name="__codelineno-58-32" href="#__codelineno-58-32"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SOME_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-33" name="__codelineno-58-33" href="#__codelineno-58-33"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-34" name="__codelineno-58-34" href="#__codelineno-58-34"></a>
<a id="__codelineno-58-35" name="__codelineno-58-35" href="#__codelineno-58-35"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">other_test</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-58-36" name="__codelineno-58-36" href="#__codelineno-58-36"></a><span class="w">  </span><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-58-37" name="__codelineno-58-37" href="#__codelineno-58-37"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---OTHER_TEST invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-58-38" name="__codelineno-58-38" href="#__codelineno-58-38"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-39" name="__codelineno-58-39" href="#__codelineno-58-39"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-58-40" name="__codelineno-58-40" href="#__codelineno-58-40"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_package&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>Tests for a package
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>  Description of tested behavior [.008 sec]
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>  ---SOME_TEST invoked ---
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>  ---CLEANUP_FOR_A_TEST invoked ---
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>  ---ANOTHER_CLEANUP_FOR_A_TEST invoked ---
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>  Description of another behavior [.006 sec]
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a>  ---OTHER_TEST invoked ---
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a>  ---CLEANUP_FOR_A_TEST invoked ---
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a>  ---ANOTHER_CLEANUP_FOR_A_TEST invoked ---
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a>
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a>Finished in .016873 seconds
<a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<h3 id="context">Context<a class="headerlink" href="#context" title="Permanent link">&para;</a></h3>
<p>In most of the cases, the code to be tested is consisting of PLSQL packages containing procedures and functions.
When creating test suites, it's quite common to maintain <code>one to one</code> relationship between test suite packages and tested code.</p>
<p>When it comes to test procedures themselves, it is best practice to have one test procedure for one tested behavior of the code that is tested.
The relationship between test procedure and tested code will be therefore <code>many to one</code> or <code>many to many</code> in most of the cases.</p>
<p>With this comes a challenge. How to group tests, related to one tested behavior, so that it is obvious that they relate to the same thing.</p>
<p>This is where utPLSQL contexts come handy. </p>
<p>Contexts allow for creating sub-suites within a suite package and they allow for grouping of tests that are somehow related.</p>
<p>In essence, context behaves like a suite within a suite. </p>
<p>Context have following characteristics:
- context starts with the <code>--%context</code> annotation and ends with <code>--%endcontext</code>. Everything placed between those two annotations belongs to that context
- can have a description provided as parameter for example <code>--%context(Some interesting stuff)</code>. 
- can have a name provided with <code>--%name</code> annotation. This is different than with <code>suite</code> and <code>test</code> annotations, where name is taken from <code>package/procedure</code> name.
- contexts can be nested, you can place a context inside another context
- when no name is provided for context, the context is named <code>context_N</code> where <code>N</code> is the number of the context in suite or parent context.
- context name must be unique within it's parent (suite / parent context)
- if context name is not unique within it's parent, context and it's entire content is excluded from execution 
- context name should not contain spaces or special characters
- context name cannot contain a <code>.</code> (full stop/period) character
- suite/context can have multiple nested sibling contexts in it 
- contexts can have their own <code>--%beforeall</code>, <code>--%beforeeach</code>, <code>--%afterall</code> and <code>--%aftereach</code> procedures
- <code>--%beforeall</code>, <code>--%beforeeach</code>, <code>--%afterall</code> and <code>--%aftereach</code> procedures defined at ancestor level, propagate to context
- if <code>--%endcontext</code> is missing for a context, the context spans to the end of package specification</p>
<p>The below example illustrates usage of <code>--%context</code> for separating tests for individual procedures of package.</p>
<p>Sample tables and code
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">  </span><span class="n">room_key</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"></span>
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">room_contents</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">  </span><span class="n">contents_key</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">  </span><span class="n">room_key</span><span class="w">     </span><span class="nb">number</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="w">  </span><span class="n">name</span><span class="w">         </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">  </span><span class="n">create_date</span><span class="w">  </span><span class="k">timestamp</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">current_timestamp</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="w">  </span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_rooms</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">room_key</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="p">(</span><span class="n">room_key</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">rooms_management</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">remove_rooms_by_name</span><span class="p">(</span><span class="w"> </span><span class="n">a_name</span><span class="w"> </span><span class="n">rooms</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a>
<a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_rooms_content</span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a><span class="w">    </span><span class="n">a_room_name</span><span class="w">    </span><span class="n">rooms</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a><span class="w">    </span><span class="n">a_content_name</span><span class="w"> </span><span class="n">room_contents</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="w"></span>
<a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="w">  </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a>
<a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a>
<a id="__codelineno-61-26" name="__codelineno-61-26" href="#__codelineno-61-26"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">rooms_management</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-61-27" name="__codelineno-61-27" href="#__codelineno-61-27"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">remove_rooms_by_name</span><span class="p">(</span><span class="w"> </span><span class="n">a_name</span><span class="w"> </span><span class="n">rooms</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-61-28" name="__codelineno-61-28" href="#__codelineno-61-28"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-61-29" name="__codelineno-61-29" href="#__codelineno-61-29"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">a_name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">then</span><span class="w"></span>
<a id="__codelineno-61-30" name="__codelineno-61-30" href="#__codelineno-61-30"></a><span class="w">      </span><span class="n">raise</span><span class="w"> </span><span class="n">program_error</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-31" name="__codelineno-61-31" href="#__codelineno-61-31"></a><span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-32" name="__codelineno-61-32" href="#__codelineno-61-32"></a><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="n">a_name</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-33" name="__codelineno-61-33" href="#__codelineno-61-33"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-34" name="__codelineno-61-34" href="#__codelineno-61-34"></a>
<a id="__codelineno-61-35" name="__codelineno-61-35" href="#__codelineno-61-35"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_rooms_content</span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-61-36" name="__codelineno-61-36" href="#__codelineno-61-36"></a><span class="w">    </span><span class="n">a_room_name</span><span class="w">    </span><span class="n">rooms</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-37" name="__codelineno-61-37" href="#__codelineno-61-37"></a><span class="w">    </span><span class="n">a_content_name</span><span class="w"> </span><span class="n">room_contents</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="w"></span>
<a id="__codelineno-61-38" name="__codelineno-61-38" href="#__codelineno-61-38"></a><span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-61-39" name="__codelineno-61-39" href="#__codelineno-61-39"></a><span class="w">    </span><span class="n">l_room_key</span><span class="w">     </span><span class="n">rooms</span><span class="p">.</span><span class="n">room_key</span><span class="o">%</span><span class="k">type</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-40" name="__codelineno-61-40" href="#__codelineno-61-40"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-61-41" name="__codelineno-61-41" href="#__codelineno-61-41"></a>
<a id="__codelineno-61-42" name="__codelineno-61-42" href="#__codelineno-61-42"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="n">room_key</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">l_room_key</span><span class="w"> </span>
<a id="__codelineno-61-43" name="__codelineno-61-43" href="#__codelineno-61-43"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a_room_name</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-44" name="__codelineno-61-44" href="#__codelineno-61-44"></a>
<a id="__codelineno-61-45" name="__codelineno-61-45" href="#__codelineno-61-45"></a><span class="w">    </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">room_contents</span><span class="w"></span>
<a id="__codelineno-61-46" name="__codelineno-61-46" href="#__codelineno-61-46"></a><span class="w">          </span><span class="p">(</span><span class="n">contents_key</span><span class="p">,</span><span class="w"> </span><span class="n">room_key</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-61-47" name="__codelineno-61-47" href="#__codelineno-61-47"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="n">nvl</span><span class="p">(</span><span class="k">max</span><span class="p">(</span><span class="n">contents_key</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">contents_key</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-48" name="__codelineno-61-48" href="#__codelineno-61-48"></a><span class="w">           </span><span class="n">l_room_key</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-61-49" name="__codelineno-61-49" href="#__codelineno-61-49"></a><span class="w">           </span><span class="n">a_content_name</span><span class="w"></span>
<a id="__codelineno-61-50" name="__codelineno-61-50" href="#__codelineno-61-50"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">room_contents</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-51" name="__codelineno-61-51" href="#__codelineno-61-51"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-52" name="__codelineno-61-52" href="#__codelineno-61-52"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-61-53" name="__codelineno-61-53" href="#__codelineno-61-53"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p>Below test suite defines:
- <code>--%beforeall</code> outside of context, that will be executed before all tests
- <code>--%context(remove_rooms_by_name)</code> to group tests related to <code>remove_rooms_by_name</code> functionality
- <code>--%context(add_rooms_content)</code> to group tests related to <code>add_rooms_content</code> functionality</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_rooms_management</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">  </span><span class="n">gc_null_value_exception</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1400</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">  </span><span class="c1">--%suite(Rooms management)</span>
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_rooms</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a>
<a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a>
<a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">  </span><span class="c1">--%context(remove_rooms_by_name)</span>
<a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">  </span><span class="c1">--%displayname(Remove rooms by name)</span>
<a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a>
<a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="w">    </span><span class="c1">--%test(Removes a room without content in it)</span>
<a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">remove_empty_room</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a>
<a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a><span class="w">    </span><span class="c1">--%test(Raises exception when null room name given)</span>
<a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a><span class="w">    </span><span class="c1">--%throws(-6501)</span>
<a id="__codelineno-62-18" name="__codelineno-62-18" href="#__codelineno-62-18"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">null_room_name</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-62-19" name="__codelineno-62-19" href="#__codelineno-62-19"></a>
<a id="__codelineno-62-20" name="__codelineno-62-20" href="#__codelineno-62-20"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-62-21" name="__codelineno-62-21" href="#__codelineno-62-21"></a>
<a id="__codelineno-62-22" name="__codelineno-62-22" href="#__codelineno-62-22"></a><span class="w">  </span><span class="c1">--%context(add_rooms_content)</span>
<a id="__codelineno-62-23" name="__codelineno-62-23" href="#__codelineno-62-23"></a><span class="w">  </span><span class="c1">--%displayname(Add content to a room)</span>
<a id="__codelineno-62-24" name="__codelineno-62-24" href="#__codelineno-62-24"></a>
<a id="__codelineno-62-25" name="__codelineno-62-25" href="#__codelineno-62-25"></a><span class="w">    </span><span class="c1">--%test(Fails when room name is not valid)</span>
<a id="__codelineno-62-26" name="__codelineno-62-26" href="#__codelineno-62-26"></a><span class="w">    </span><span class="c1">--%throws(no_data_found)</span>
<a id="__codelineno-62-27" name="__codelineno-62-27" href="#__codelineno-62-27"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">fails_on_room_name_invalid</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-28" name="__codelineno-62-28" href="#__codelineno-62-28"></a>
<a id="__codelineno-62-29" name="__codelineno-62-29" href="#__codelineno-62-29"></a><span class="w">    </span><span class="c1">--%test(Fails when content name is null)</span>
<a id="__codelineno-62-30" name="__codelineno-62-30" href="#__codelineno-62-30"></a><span class="w">    </span><span class="c1">--%throws(test_rooms_management.gc_null_value_exception)</span>
<a id="__codelineno-62-31" name="__codelineno-62-31" href="#__codelineno-62-31"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">fails_on_content_null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-32" name="__codelineno-62-32" href="#__codelineno-62-32"></a>
<a id="__codelineno-62-33" name="__codelineno-62-33" href="#__codelineno-62-33"></a><span class="w">    </span><span class="c1">--%test(Adds a content to existing room)</span>
<a id="__codelineno-62-34" name="__codelineno-62-34" href="#__codelineno-62-34"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_content_success</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-35" name="__codelineno-62-35" href="#__codelineno-62-35"></a>
<a id="__codelineno-62-36" name="__codelineno-62-36" href="#__codelineno-62-36"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-62-37" name="__codelineno-62-37" href="#__codelineno-62-37"></a>
<a id="__codelineno-62-38" name="__codelineno-62-38" href="#__codelineno-62-38"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-39" name="__codelineno-62-39" href="#__codelineno-62-39"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-62-40" name="__codelineno-62-40" href="#__codelineno-62-40"></a>
<a id="__codelineno-62-41" name="__codelineno-62-41" href="#__codelineno-62-41"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_rooms_management</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-42" name="__codelineno-62-42" href="#__codelineno-62-42"></a>
<a id="__codelineno-62-43" name="__codelineno-62-43" href="#__codelineno-62-43"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_rooms</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-44" name="__codelineno-62-44" href="#__codelineno-62-44"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-45" name="__codelineno-62-45" href="#__codelineno-62-45"></a><span class="w">    </span><span class="k">insert</span><span class="w"> </span><span class="k">all</span><span class="w"></span>
<a id="__codelineno-62-46" name="__codelineno-62-46" href="#__codelineno-62-46"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Dining Room&#39;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-47" name="__codelineno-62-47" href="#__codelineno-62-47"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Living Room&#39;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-48" name="__codelineno-62-48" href="#__codelineno-62-48"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Bathroom&#39;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-49" name="__codelineno-62-49" href="#__codelineno-62-49"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-50" name="__codelineno-62-50" href="#__codelineno-62-50"></a>
<a id="__codelineno-62-51" name="__codelineno-62-51" href="#__codelineno-62-51"></a><span class="w">    </span><span class="k">insert</span><span class="w"> </span><span class="k">all</span><span class="w"></span>
<a id="__codelineno-62-52" name="__codelineno-62-52" href="#__codelineno-62-52"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">room_contents</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Table&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">sysdate</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-53" name="__codelineno-62-53" href="#__codelineno-62-53"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">room_contents</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Chair&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">sysdate</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-54" name="__codelineno-62-54" href="#__codelineno-62-54"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">room_contents</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Sofa&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">sysdate</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-55" name="__codelineno-62-55" href="#__codelineno-62-55"></a><span class="w">      </span><span class="k">into</span><span class="w"> </span><span class="n">room_contents</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Lamp&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">sysdate</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-62-56" name="__codelineno-62-56" href="#__codelineno-62-56"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-57" name="__codelineno-62-57" href="#__codelineno-62-57"></a>
<a id="__codelineno-62-58" name="__codelineno-62-58" href="#__codelineno-62-58"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;---SETUP_ROOMS invoked ---&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-59" name="__codelineno-62-59" href="#__codelineno-62-59"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-60" name="__codelineno-62-60" href="#__codelineno-62-60"></a>
<a id="__codelineno-62-61" name="__codelineno-62-61" href="#__codelineno-62-61"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">remove_empty_room</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-62" name="__codelineno-62-62" href="#__codelineno-62-62"></a><span class="w">    </span><span class="n">l_rooms_not_named_b</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-63" name="__codelineno-62-63" href="#__codelineno-62-63"></a><span class="w">    </span><span class="n">l_remaining_rooms</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-64" name="__codelineno-62-64" href="#__codelineno-62-64"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-65" name="__codelineno-62-65" href="#__codelineno-62-65"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_rooms_not_named_b</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rooms</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;B%&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-66" name="__codelineno-62-66" href="#__codelineno-62-66"></a>
<a id="__codelineno-62-67" name="__codelineno-62-67" href="#__codelineno-62-67"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">remove_rooms_by_name</span><span class="p">(</span><span class="s1">&#39;B%&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-68" name="__codelineno-62-68" href="#__codelineno-62-68"></a>
<a id="__codelineno-62-69" name="__codelineno-62-69" href="#__codelineno-62-69"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_remaining_rooms</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rooms</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-70" name="__codelineno-62-70" href="#__codelineno-62-70"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_remaining_rooms</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">l_rooms_not_named_b</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-71" name="__codelineno-62-71" href="#__codelineno-62-71"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-72" name="__codelineno-62-72" href="#__codelineno-62-72"></a>
<a id="__codelineno-62-73" name="__codelineno-62-73" href="#__codelineno-62-73"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">room_with_content</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-74" name="__codelineno-62-74" href="#__codelineno-62-74"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-75" name="__codelineno-62-75" href="#__codelineno-62-75"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">remove_rooms_by_name</span><span class="p">(</span><span class="s1">&#39;Living Room&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-76" name="__codelineno-62-76" href="#__codelineno-62-76"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-77" name="__codelineno-62-77" href="#__codelineno-62-77"></a>
<a id="__codelineno-62-78" name="__codelineno-62-78" href="#__codelineno-62-78"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">null_room_name</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-79" name="__codelineno-62-79" href="#__codelineno-62-79"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-80" name="__codelineno-62-80" href="#__codelineno-62-80"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-62-81" name="__codelineno-62-81" href="#__codelineno-62-81"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">remove_rooms_by_name</span><span class="p">(</span><span class="k">NULL</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-82" name="__codelineno-62-82" href="#__codelineno-62-82"></a><span class="w">    </span><span class="c1">--Assert done by --%throws annotation</span>
<a id="__codelineno-62-83" name="__codelineno-62-83" href="#__codelineno-62-83"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-84" name="__codelineno-62-84" href="#__codelineno-62-84"></a>
<a id="__codelineno-62-85" name="__codelineno-62-85" href="#__codelineno-62-85"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">fails_on_room_name_invalid</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-86" name="__codelineno-62-86" href="#__codelineno-62-86"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-87" name="__codelineno-62-87" href="#__codelineno-62-87"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-62-88" name="__codelineno-62-88" href="#__codelineno-62-88"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">add_rooms_content</span><span class="p">(</span><span class="s1">&#39;bad room name&#39;</span><span class="p">,</span><span class="s1">&#39;Chair&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-89" name="__codelineno-62-89" href="#__codelineno-62-89"></a><span class="w">    </span><span class="c1">--Assert done by --%throws annotation</span>
<a id="__codelineno-62-90" name="__codelineno-62-90" href="#__codelineno-62-90"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-91" name="__codelineno-62-91" href="#__codelineno-62-91"></a>
<a id="__codelineno-62-92" name="__codelineno-62-92" href="#__codelineno-62-92"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">fails_on_content_null</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-93" name="__codelineno-62-93" href="#__codelineno-62-93"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-94" name="__codelineno-62-94" href="#__codelineno-62-94"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-62-95" name="__codelineno-62-95" href="#__codelineno-62-95"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">add_rooms_content</span><span class="p">(</span><span class="s1">&#39;Dining Room&#39;</span><span class="p">,</span><span class="k">null</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-96" name="__codelineno-62-96" href="#__codelineno-62-96"></a><span class="w">    </span><span class="c1">--Assert done by --%throws annotation</span>
<a id="__codelineno-62-97" name="__codelineno-62-97" href="#__codelineno-62-97"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-98" name="__codelineno-62-98" href="#__codelineno-62-98"></a>
<a id="__codelineno-62-99" name="__codelineno-62-99" href="#__codelineno-62-99"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_content_success</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-62-100" name="__codelineno-62-100" href="#__codelineno-62-100"></a><span class="w">    </span><span class="n">l_expected</span><span class="w">        </span><span class="n">room_contents</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-101" name="__codelineno-62-101" href="#__codelineno-62-101"></a><span class="w">    </span><span class="n">l_actual</span><span class="w">          </span><span class="n">room_contents</span><span class="p">.</span><span class="n">name</span><span class="o">%</span><span class="k">type</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-102" name="__codelineno-62-102" href="#__codelineno-62-102"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-62-103" name="__codelineno-62-103" href="#__codelineno-62-103"></a><span class="w">    </span><span class="c1">--Arrange</span>
<a id="__codelineno-62-104" name="__codelineno-62-104" href="#__codelineno-62-104"></a><span class="w">    </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Table&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-105" name="__codelineno-62-105" href="#__codelineno-62-105"></a>
<a id="__codelineno-62-106" name="__codelineno-62-106" href="#__codelineno-62-106"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-62-107" name="__codelineno-62-107" href="#__codelineno-62-107"></a><span class="w">    </span><span class="n">rooms_management</span><span class="p">.</span><span class="n">add_rooms_content</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Dining Room&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-108" name="__codelineno-62-108" href="#__codelineno-62-108"></a><span class="w">    </span><span class="c1">--Assert</span>
<a id="__codelineno-62-109" name="__codelineno-62-109" href="#__codelineno-62-109"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">room_contents</span><span class="w"></span>
<a id="__codelineno-62-110" name="__codelineno-62-110" href="#__codelineno-62-110"></a><span class="w">     </span><span class="k">where</span><span class="w"> </span><span class="n">contents_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">contents_key</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">room_contents</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-111" name="__codelineno-62-111" href="#__codelineno-62-111"></a>
<a id="__codelineno-62-112" name="__codelineno-62-112" href="#__codelineno-62-112"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-62-113" name="__codelineno-62-113" href="#__codelineno-62-113"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-114" name="__codelineno-62-114" href="#__codelineno-62-114"></a>
<a id="__codelineno-62-115" name="__codelineno-62-115" href="#__codelineno-62-115"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-62-116" name="__codelineno-62-116" href="#__codelineno-62-116"></a><span class="o">/</span><span class="w"></span>
</code></pre></div>
<p>When te tests are executed
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_rooms_management&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
The following report is displayed
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>Rooms management
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>  ---SETUP_ROOMS invoked ---
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>  remove_rooms_by_name
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>    Removes a room without content in it [.015 sec]
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a>    Raises exception when null room name given [.002 sec]
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>  add_rooms_content
<a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a>    Fails when room name is not valid [.003 sec]
<a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a>    Fails when content name is null [.003 sec]
<a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a>    Adds a content to existing room [.003 sec]
<a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a>
<a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a>Finished in .035261 seconds
<a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a>5 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>Example of nested contexts test suite specification.
<em>Source - <a href="https://www.slideshare.net/Kevlin/structure-and-interpretation-of-test-cases/145?src=clipshare">slide 145</a> of Structure and Interpretation of Test Cases by Kevlin Henney</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">queue_spec</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">  </span><span class="c1">--%suite(Queue specification)</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">  </span><span class="c1">--%context(A new queue)</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">    </span><span class="c1">--%test(Is empty)</span>
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">is_empty</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="w">    </span><span class="c1">--%test(Preserves positive bounding capacity)</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">positive_bounding_capacity</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="w">    </span><span class="c1">--%test(Cannot be created with non positive bounding capacity)</span>
<a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_positive_bounding_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a><span class="w">  </span><span class="c1">--%context(An empty queue)</span>
<a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a>
<a id="__codelineno-65-15" name="__codelineno-65-15" href="#__codelineno-65-15"></a><span class="w">    </span><span class="c1">--%test(Dequeues an empty value)</span>
<a id="__codelineno-65-16" name="__codelineno-65-16" href="#__codelineno-65-16"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">deq_empty_value</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-17" name="__codelineno-65-17" href="#__codelineno-65-17"></a><span class="w">    </span><span class="c1">--%test(Remains empty when null enqueued)</span>
<a id="__codelineno-65-18" name="__codelineno-65-18" href="#__codelineno-65-18"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">empty_with_null_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-19" name="__codelineno-65-19" href="#__codelineno-65-19"></a><span class="w">    </span><span class="c1">--%test(Becomes non empty when non null value enqueued)</span>
<a id="__codelineno-65-20" name="__codelineno-65-20" href="#__codelineno-65-20"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_empty_after_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-21" name="__codelineno-65-21" href="#__codelineno-65-21"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-65-22" name="__codelineno-65-22" href="#__codelineno-65-22"></a><span class="w">  </span><span class="c1">--%context(A non empty queue)</span>
<a id="__codelineno-65-23" name="__codelineno-65-23" href="#__codelineno-65-23"></a>
<a id="__codelineno-65-24" name="__codelineno-65-24" href="#__codelineno-65-24"></a><span class="w">    </span><span class="c1">--%context(that is not full)</span>
<a id="__codelineno-65-25" name="__codelineno-65-25" href="#__codelineno-65-25"></a>
<a id="__codelineno-65-26" name="__codelineno-65-26" href="#__codelineno-65-26"></a><span class="w">      </span><span class="c1">--%test(Becomes longer when non null value enqueued)</span>
<a id="__codelineno-65-27" name="__codelineno-65-27" href="#__codelineno-65-27"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">grow_on_enq_non_null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-28" name="__codelineno-65-28" href="#__codelineno-65-28"></a><span class="w">      </span><span class="c1">--%test(Becomes full when enqueued up to capacity)</span>
<a id="__codelineno-65-29" name="__codelineno-65-29" href="#__codelineno-65-29"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">full_on_enq_to_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-30" name="__codelineno-65-30" href="#__codelineno-65-30"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-65-31" name="__codelineno-65-31" href="#__codelineno-65-31"></a><span class="w">    </span><span class="c1">--%context(that is full)</span>
<a id="__codelineno-65-32" name="__codelineno-65-32" href="#__codelineno-65-32"></a>
<a id="__codelineno-65-33" name="__codelineno-65-33" href="#__codelineno-65-33"></a><span class="w">      </span><span class="c1">--%test(Ignores further enqueued values)</span>
<a id="__codelineno-65-34" name="__codelineno-65-34" href="#__codelineno-65-34"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">full_ignore_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-35" name="__codelineno-65-35" href="#__codelineno-65-35"></a><span class="w">      </span><span class="c1">--%test(Becomes non full when dequeued)</span>
<a id="__codelineno-65-36" name="__codelineno-65-36" href="#__codelineno-65-36"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_full_on_deq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-37" name="__codelineno-65-37" href="#__codelineno-65-37"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-65-38" name="__codelineno-65-38" href="#__codelineno-65-38"></a>
<a id="__codelineno-65-39" name="__codelineno-65-39" href="#__codelineno-65-39"></a><span class="w">    </span><span class="c1">--%test(Dequeues values in order enqueued)</span>
<a id="__codelineno-65-40" name="__codelineno-65-40" href="#__codelineno-65-40"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">dequeue_ordered</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-41" name="__codelineno-65-41" href="#__codelineno-65-41"></a><span class="w">    </span><span class="c1">--%test(Remains unchanged when null enqueued)</span>
<a id="__codelineno-65-42" name="__codelineno-65-42" href="#__codelineno-65-42"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">no_change_on_null_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-65-43" name="__codelineno-65-43" href="#__codelineno-65-43"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-65-44" name="__codelineno-65-44" href="#__codelineno-65-44"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>When such specification gets executed <code>ut.run('queue_spec'')</code> (without body created) you will see the nesting of tests within contexts.
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>Queue specification
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>  An empty queue
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>    Dequeues an empty value [.014 sec] (FAILED - 1)
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a>    Remains empty when null enqueued [.004 sec] (FAILED - 2)
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>    Becomes non empty when non null value enqueued [.005 sec] (FAILED - 3)
<a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>  A non empty queue
<a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a>    that is not full
<a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a>      Becomes longer when non null value enqueued [.005 sec] (FAILED - 4)
<a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a>      Becomes full when enqueued up to capacity [.005 sec] (FAILED - 5)
<a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a>    That is full
<a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a>      Ignores further enqueued values [.004 sec] (FAILED - 6)
<a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a>      Becomes non full when dequeued [.005 sec] (FAILED - 7)
<a id="__codelineno-66-13" name="__codelineno-66-13" href="#__codelineno-66-13"></a>    Dequeues values in order enqueued [.006 sec] (FAILED - 8)
<a id="__codelineno-66-14" name="__codelineno-66-14" href="#__codelineno-66-14"></a>    Remains unchanged when null enqueued [.004 sec] (FAILED - 9)
<a id="__codelineno-66-15" name="__codelineno-66-15" href="#__codelineno-66-15"></a>  A new queue
<a id="__codelineno-66-16" name="__codelineno-66-16" href="#__codelineno-66-16"></a>    Is empty [.007 sec] (FAILED - 10)
<a id="__codelineno-66-17" name="__codelineno-66-17" href="#__codelineno-66-17"></a>    Preserves positive bounding capacity [.006 sec] (FAILED - 11)
<a id="__codelineno-66-18" name="__codelineno-66-18" href="#__codelineno-66-18"></a>    Cannot be created with non positive bounding capacity [.005 sec] (FAILED - 12)
<a id="__codelineno-66-19" name="__codelineno-66-19" href="#__codelineno-66-19"></a>Failures:
<a id="__codelineno-66-20" name="__codelineno-66-20" href="#__codelineno-66-20"></a>   1) deq_empty_value
<a id="__codelineno-66-21" name="__codelineno-66-21" href="#__codelineno-66-21"></a>      ORA-04067: not executed, package body &quot;UT3.QUEUE_SPEC&quot; does not exist
<a id="__codelineno-66-22" name="__codelineno-66-22" href="#__codelineno-66-22"></a>      ORA-06508: PL/SQL: could not find program unit being called: &quot;UT3.QUEUE_SPEC&quot;
<a id="__codelineno-66-23" name="__codelineno-66-23" href="#__codelineno-66-23"></a>      ORA-06512: at line 6
<a id="__codelineno-66-24" name="__codelineno-66-24" href="#__codelineno-66-24"></a>...
<a id="__codelineno-66-25" name="__codelineno-66-25" href="#__codelineno-66-25"></a>Finished in .088573 seconds
<a id="__codelineno-66-26" name="__codelineno-66-26" href="#__codelineno-66-26"></a>12 tests, 0 failed, 12 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>Suite nesting allows for organizing tests into human-readable specification of behavior.</p>
<h3 id="name">Name<a class="headerlink" href="#name" title="Permanent link">&para;</a></h3>
<p>The <code>--%name</code> annotation is currently only used only for naming a context.
If a context doesn't have explicit name specified, then the name is given automatically by framework.</p>
<p>The automatic name will be <code>context_#n</code> where <code>n</code> is a context number within a suite/parent context.</p>
<p>The <code>--%name</code> can be useful when you would like to run only a specific context or its items by <code>suitepath</code>.</p>
<p>Consider the below example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">queue_spec</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">  </span><span class="c1">--%suite(Queue specification)</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">  </span><span class="c1">--%context(A new queue)</span>
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a>
<a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="w">    </span><span class="c1">--%test(Cannot be created with non positive bounding capacity)</span>
<a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_positive_bounding_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="w">  </span><span class="c1">--%context(An empty queue)</span>
<a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a>
<a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a><span class="w">    </span><span class="c1">--%test(Becomes non empty when non null value enqueued)</span>
<a id="__codelineno-67-12" name="__codelineno-67-12" href="#__codelineno-67-12"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_empty_after_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-67-13" name="__codelineno-67-13" href="#__codelineno-67-13"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-67-14" name="__codelineno-67-14" href="#__codelineno-67-14"></a><span class="w">  </span><span class="c1">--%context(A non empty queue)</span>
<a id="__codelineno-67-15" name="__codelineno-67-15" href="#__codelineno-67-15"></a>
<a id="__codelineno-67-16" name="__codelineno-67-16" href="#__codelineno-67-16"></a><span class="w">    </span><span class="c1">--%context(that is not full)</span>
<a id="__codelineno-67-17" name="__codelineno-67-17" href="#__codelineno-67-17"></a>
<a id="__codelineno-67-18" name="__codelineno-67-18" href="#__codelineno-67-18"></a><span class="w">      </span><span class="c1">--%test(Becomes full when enqueued up to capacity)</span>
<a id="__codelineno-67-19" name="__codelineno-67-19" href="#__codelineno-67-19"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">full_on_enq_to_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-67-20" name="__codelineno-67-20" href="#__codelineno-67-20"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-67-21" name="__codelineno-67-21" href="#__codelineno-67-21"></a><span class="w">    </span><span class="c1">--%context(that is full)</span>
<a id="__codelineno-67-22" name="__codelineno-67-22" href="#__codelineno-67-22"></a>
<a id="__codelineno-67-23" name="__codelineno-67-23" href="#__codelineno-67-23"></a><span class="w">      </span><span class="c1">--%test(Becomes non full when dequeued)</span>
<a id="__codelineno-67-24" name="__codelineno-67-24" href="#__codelineno-67-24"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_full_on_deq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-67-25" name="__codelineno-67-25" href="#__codelineno-67-25"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-67-26" name="__codelineno-67-26" href="#__codelineno-67-26"></a>
<a id="__codelineno-67-27" name="__codelineno-67-27" href="#__codelineno-67-27"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-67-28" name="__codelineno-67-28" href="#__codelineno-67-28"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>In the above code, suitepaths, context names and context descriptions will be as follows.</p>
<table>
<thead>
<tr>
<th>suitepath</th>
<th>description</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>queue_spec</td>
<td>Queue specification</td>
<td>queue_spec</td>
</tr>
<tr>
<td>queue_spec.context_#1</td>
<td>A new queue</td>
<td>context_#1</td>
</tr>
<tr>
<td>queue_spec.context_#2</td>
<td>An empty queue</td>
<td>context_#2</td>
</tr>
<tr>
<td>queue_spec.context_#3</td>
<td>A non empty queue</td>
<td>context_#3</td>
</tr>
<tr>
<td>queue_spec.context_#3.context_#1</td>
<td>that is not full</td>
<td>context_#1</td>
</tr>
<tr>
<td>queue_spec.context_#3.context_#2</td>
<td>that is full</td>
<td>context_#2</td>
</tr>
</tbody>
</table>
<p>In order to run only the tests for the context <code>A non empty queue that is not full</code> you will need to call utPLSQL as below:
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="w">  </span><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;:queue_spec.context_#3.context_#1&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>You can use <code>--%name</code> annotation to explicitly name contexts on suitepath.<br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">queue_spec</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">  </span><span class="c1">--%suite(Queue specification)</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">  </span><span class="c1">--%context(A new queue)</span>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">  </span><span class="c1">--%name(a_new_queue)</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="w">    </span><span class="c1">--%test(Cannot be created with non positive bounding capacity)</span>
<a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_positive_bounding_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="w">  </span><span class="c1">--%context(An empty queue)</span>
<a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="w">  </span><span class="c1">--%name(an_empty_queue)</span>
<a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>
<a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a><span class="w">    </span><span class="c1">--%test(Becomes non empty when non null value enqueued)</span>
<a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a><span class="w">    </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_empty_after_enq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-69-15" name="__codelineno-69-15" href="#__codelineno-69-15"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-69-16" name="__codelineno-69-16" href="#__codelineno-69-16"></a><span class="w">  </span><span class="c1">--%context(A non empty queue)</span>
<a id="__codelineno-69-17" name="__codelineno-69-17" href="#__codelineno-69-17"></a><span class="w">  </span><span class="c1">--%name(a_non_empty_queue)</span>
<a id="__codelineno-69-18" name="__codelineno-69-18" href="#__codelineno-69-18"></a>
<a id="__codelineno-69-19" name="__codelineno-69-19" href="#__codelineno-69-19"></a><span class="w">    </span><span class="c1">--%context(that is not full)</span>
<a id="__codelineno-69-20" name="__codelineno-69-20" href="#__codelineno-69-20"></a><span class="w">    </span><span class="c1">--%name(that_is_not_full)</span>
<a id="__codelineno-69-21" name="__codelineno-69-21" href="#__codelineno-69-21"></a>
<a id="__codelineno-69-22" name="__codelineno-69-22" href="#__codelineno-69-22"></a><span class="w">      </span><span class="c1">--%test(Becomes full when enqueued up to capacity)</span>
<a id="__codelineno-69-23" name="__codelineno-69-23" href="#__codelineno-69-23"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">full_on_enq_to_cap</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-69-24" name="__codelineno-69-24" href="#__codelineno-69-24"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-69-25" name="__codelineno-69-25" href="#__codelineno-69-25"></a><span class="w">    </span><span class="c1">--%context(that is full)</span>
<a id="__codelineno-69-26" name="__codelineno-69-26" href="#__codelineno-69-26"></a><span class="w">    </span><span class="c1">--%name(that_is_full)</span>
<a id="__codelineno-69-27" name="__codelineno-69-27" href="#__codelineno-69-27"></a>
<a id="__codelineno-69-28" name="__codelineno-69-28" href="#__codelineno-69-28"></a><span class="w">      </span><span class="c1">--%test(Becomes non full when dequeued)</span>
<a id="__codelineno-69-29" name="__codelineno-69-29" href="#__codelineno-69-29"></a><span class="w">      </span><span class="k">procedure</span><span class="w"> </span><span class="n">non_full_on_deq</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-69-30" name="__codelineno-69-30" href="#__codelineno-69-30"></a><span class="w">    </span><span class="c1">--%endcontext</span>
<a id="__codelineno-69-31" name="__codelineno-69-31" href="#__codelineno-69-31"></a>
<a id="__codelineno-69-32" name="__codelineno-69-32" href="#__codelineno-69-32"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-69-33" name="__codelineno-69-33" href="#__codelineno-69-33"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>In the above code, suitepaths, context names and context descriptions will be as follows.</p>
<table>
<thead>
<tr>
<th>suitepath</th>
<th>description</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>queue_spec</td>
<td>Queue specification</td>
<td>queue_spec</td>
</tr>
<tr>
<td>queue_spec.a_new_queue</td>
<td>A new queue</td>
<td>a_new_queue</td>
</tr>
<tr>
<td>queue_spec.an_empty_queue</td>
<td>An empty queue</td>
<td>an_empty_queue</td>
</tr>
<tr>
<td>queue_spec.a_non_empty_queue</td>
<td>A non empty queue</td>
<td>a_non_empty_queue</td>
</tr>
<tr>
<td>queue_spec.a_non_empty_queue.that_is_not_full</td>
<td>that is not full</td>
<td>that_is_not_full</td>
</tr>
<tr>
<td>queue_spec.a_non_empty_queue.that_is_full</td>
<td>that is full</td>
<td>that_is_full</td>
</tr>
</tbody>
</table>
<p>The <code>--%name</code> annotation is only relevant for:
- running subsets of tests by given context suitepath
- some of test reports, like <code>ut_junit_reporter</code> that use suitepath or test-suite element names (not descriptions) for reporting   </p>
<h4 id="name-naming-convention">Name naming convention<a class="headerlink" href="#name-naming-convention" title="Permanent link">&para;</a></h4>
<p>The value of <code>--%name</code> annotation must follow the following naming rules:
- cannot contain spaces
- cannot contain a <code>.</code> (full stop/dot)
- is case-insensitive  </p>
<h3 id="tags">Tags<a class="headerlink" href="#tags" title="Permanent link">&para;</a></h3>
<p>Tag is a label attached to the test or a suite. It is used for identification and execution of a group of tests / suites that share the same tag.  </p>
<p>It allows for grouping of tests / suites using various categorization and place tests / suites in multiple buckets. Same tests can be grouped with other tests based on the functionality , frequency, type of output etc.</p>
<p>e.g. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="c1">--%tags(batch,daily,csv)</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="c1">--%tags(online,json)</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="c1">--%tags(api)</span>
</code></pre></div>
<p>Tags are defined as a comma separated list within the <code>--%tags</code> annotation. </p>
<p>When executing a test run with tag filter applied, the framework will find all tests associated with the given tags and execute them. 
The framework applies <code>OR</code> logic to all specified tags so any test / suite that matches at least one tag will be included in the test run. </p>
<p>When a suite/context is tagged, all of its children will automatically inherit the tag and get executed along with the parent. Parent suite tests are not executed, but a suitepath hierarchy is kept.</p>
<p>Sample test suite package with tags.
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">   </span><span class="c1">--%suite(Sample Test Suite)</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">   </span><span class="c1">--%tags(api)</span>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">   </span><span class="c1">--%test(Compare Ref Cursors)</span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="w">   </span><span class="c1">--%tags(complex,fast)</span>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a>
<a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a><span class="w">   </span><span class="c1">--%test(Run equality test)</span>
<a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a><span class="w">   </span><span class="c1">--%tags(simple,fast)</span>
<a id="__codelineno-72-12" name="__codelineno-72-12" href="#__codelineno-72-12"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-13" name="__codelineno-72-13" href="#__codelineno-72-13"></a>
<a id="__codelineno-72-14" name="__codelineno-72-14" href="#__codelineno-72-14"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-15" name="__codelineno-72-15" href="#__codelineno-72-15"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-72-16" name="__codelineno-72-16" href="#__codelineno-72-16"></a>
<a id="__codelineno-72-17" name="__codelineno-72-17" href="#__codelineno-72-17"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-72-18" name="__codelineno-72-18" href="#__codelineno-72-18"></a>
<a id="__codelineno-72-19" name="__codelineno-72-19" href="#__codelineno-72-19"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-72-20" name="__codelineno-72-20" href="#__codelineno-72-20"></a><span class="w">      </span><span class="n">v_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-21" name="__codelineno-72-21" href="#__codelineno-72-21"></a><span class="w">      </span><span class="n">v_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-22" name="__codelineno-72-22" href="#__codelineno-72-22"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-72-23" name="__codelineno-72-23" href="#__codelineno-72-23"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-24" name="__codelineno-72-24" href="#__codelineno-72-24"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_actual</span><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-25" name="__codelineno-72-25" href="#__codelineno-72-25"></a>
<a id="__codelineno-72-26" name="__codelineno-72-26" href="#__codelineno-72-26"></a><span class="w">      </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">v_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">v_expected</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-72-27" name="__codelineno-72-27" href="#__codelineno-72-27"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-28" name="__codelineno-72-28" href="#__codelineno-72-28"></a>
<a id="__codelineno-72-29" name="__codelineno-72-29" href="#__codelineno-72-29"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-72-30" name="__codelineno-72-30" href="#__codelineno-72-30"></a><span class="w">   </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-72-31" name="__codelineno-72-31" href="#__codelineno-72-31"></a><span class="w">       </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-72-32" name="__codelineno-72-32" href="#__codelineno-72-32"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-33" name="__codelineno-72-33" href="#__codelineno-72-33"></a>
<a id="__codelineno-72-34" name="__codelineno-72-34" href="#__codelineno-72-34"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-72-35" name="__codelineno-72-35" href="#__codelineno-72-35"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<p>Execution of the test is done by using the parameter <code>a_tags</code></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ut_sample_test&#39;</span><span class="p">,</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;api&#39;</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
The above call will execute all tests from <code>ut_sample_test</code> package as the whole suite is tagged with <code>api</code></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;complex&#39;</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
The above call will execute only the <code>ut_sample_test.ut_refcursors1</code> test, as only the test <code>ut_refcursors1</code> is tagged with <code>complex</code></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;fast&#39;</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
The above call will execute both <code>ut_sample_test.ut_refcursors1</code> and <code>ut_sample_test.ut_test</code> tests, as both tests are tagged with <code>fast</code></p>
<h4 id="tag-naming-convention">Tag naming convention<a class="headerlink" href="#tag-naming-convention" title="Permanent link">&para;</a></h4>
<p>Tags must follow the below naming convention:</p>
<ul>
<li>tag is case sensitive</li>
<li>tag can contain special characters like <code>$#/\?-!</code> etc.</li>
<li>tag cannot be an empty string</li>
<li>tag cannot start with a dash, e.g. <code>-some-stuff</code> is <strong>not</strong> a valid tag</li>
<li>tag cannot contain spaces, e.g. <code>test of batch</code>. To create a multi-word tag use underscores or dashes, e.g. <code>test_of_batch</code>, <code>test-of-batch</code></li>
<li>leading and trailing spaces are ignored in tag name, e.g. <code>--%tags(  tag1  ,   tag2  )</code> becomes <code>tag1</code> and <code>tag2</code> tag names</li>
</ul>
<h4 id="excluding-testssuites-by-tags">Excluding tests/suites by tags<a class="headerlink" href="#excluding-testssuites-by-tags" title="Permanent link">&para;</a></h4>
<p>It is possible to exclude parts of test suites with tags.
In order to do so, prefix the tag name to exclude with a <code>-</code> (dash) sign when invoking the test run.</p>
<p>Examples (based on above sample test suite)</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;api,fast,-complex&#39;</span><span class="p">));</span><span class="w"></span>
</code></pre></div>
The above call will execute all suites/contexts/tests that are marked with any of tags <code>api</code> or <code>fast</code> except those suites/contexts/tests that are marked as <code>complex</code>.<br />
Given the above example package <code>ut_sample_test</code>, only <code>ut_sample_test.ut_test</code> will be executed.  </p>
<h3 id="suitepath">Suitepath<a class="headerlink" href="#suitepath" title="Permanent link">&para;</a></h3>
<p>It is very likely that the application for which you are going to introduce tests consists of many different packages, procedures and functions.
Usually procedures can be logically grouped inside a package, there also might be several logical groups of procedures in a single package and packages might be grouped into modules and modules into subject areas.</p>
<p>As your project grows, the codebase will grow to. utPLSQL allows you to group packages into modules and also allows for nesting modules. </p>
<p>Let's say you have a complex insurance application that deals with policies, claims and payments. The payment module contains several packages for payment recognition, charging, planning etc. The payment recognition module among others contains a complex <code>recognize_payment</code> procedure that associates received money to the policies.</p>
<p>If you want to create tests for your application it is recommended to structure your tests similarly to the logical structure of your application. So you end up with something like:
* Integration tests
  *   Policy tests
  *   Claim tests
  *   Payment tests
    * Payments recognition
    * Payments set off</p>
<p>The <code>--%suitepath</code> annotation is used for such grouping. Even though test packages are defined in a flat structure the <code>--%suitepath</code> is used by the framework to form them into a hierarchical structure. </p>
<p>Your payments recognition test package might look like:
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_payment_recognition</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">  </span><span class="c1">--%suite(Payment recognition tests)</span>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">  </span><span class="c1">--%suitepath(payments)</span>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a>
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">  </span><span class="c1">--%test(Recognize payment by policy number)</span>
<a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_recognize_by_num</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a>
<a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a><span class="w">  </span><span class="c1">--%test(Recognize payment by payment purpose)</span>
<a id="__codelineno-77-10" name="__codelineno-77-10" href="#__codelineno-77-10"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_recognize_by_purpose</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-77-11" name="__codelineno-77-11" href="#__codelineno-77-11"></a>
<a id="__codelineno-77-12" name="__codelineno-77-12" href="#__codelineno-77-12"></a><span class="w">  </span><span class="c1">--%test(Recognize payment by customer)</span>
<a id="__codelineno-77-13" name="__codelineno-77-13" href="#__codelineno-77-13"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_recognize_by_customer</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-77-14" name="__codelineno-77-14" href="#__codelineno-77-14"></a>
<a id="__codelineno-77-15" name="__codelineno-77-15" href="#__codelineno-77-15"></a><span class="k">end</span><span class="w"> </span><span class="n">test_payment_recognition</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>And payments set off test package:
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_payment_set_off</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">  </span><span class="c1">--%suite(Payment set off tests)</span>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="w">  </span><span class="c1">--%suitepath(payments)</span>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a>
<a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a><span class="w">  </span><span class="c1">--%test(Creates set off)</span>
<a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_create_set_off</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>
<a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a><span class="w">  </span><span class="c1">--%test(Cancels set off)</span>
<a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test_cancel_set_off</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a>
<a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a><span class="k">end</span><span class="w"> </span><span class="n">test_payment_set_off</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>When you execute tests for your application, the framework constructs a test suite for each test package. Then it combines suites into grouping suites by the <code>--%suitepath</code> annotation value so that the fully qualified path to the <code>recognize_by_num</code> procedure is <code>USER:payments.test_payment_recognition.test_recognize_by_num</code>. If any of its expectations fails then the test is marked as failed, also the <code>test_payment_recognition</code> suite, the parent suite <code>payments</code> and the whole run is marked as failed.
The test report indicates which expectation has failed on the payments module. The payments recognition submodule is causing the failure as <code>recognize_by_num</code> has not met the expectations of the test. Grouping tests into modules and submodules using the <code>--%suitepath</code> annotation allows you to logically organize your project's flat structure of packages into functional groups.</p>
<p>An additional advantage of such grouping is the fact that every element level of the grouping can be an actual unit test package containing a common module level setup for all of the submodules. So in addition to the packages mentioned above you could have the following package.
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">payments</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">  </span><span class="c1">--%suite(Payments)</span>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_common_payments_data</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a>
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="w">  </span><span class="c1">--%afterall</span>
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">reset_common_paymnets_data</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a>
<a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="k">end</span><span class="w"> </span><span class="n">payments</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<p>When executing tests, <code>path</code> for executing tests can be provided in three ways:
* schema - execute all tests in the schema
* [schema]:suite1[.suite2][.suite3]...[.procedure] - execute all tests by <code>suitepath</code> in all suites on path suite1[.suite2][.suite3]...[.procedure]. If schema is not provided, then the current schema is used. Example: <code>:all.rooms_tests</code>
* [schema.]package[.procedure] - execute all tests in the specified test package. The whole hierarchy of suites in the schema is built before all before/after hooks or part suites for the provided suite package are executed as well. Example: <code>tests.test_contact.test_last_name_validator</code> or simply <code>test_contact.test_last_name_validator</code> if <code>tests</code> is the current schema.</p>
<h3 id="rollback">Rollback<a class="headerlink" href="#rollback" title="Permanent link">&para;</a></h3>
<p>By default, changes performed by every setup, cleanup and test procedure are isolated by savepoints.
This solution is suitable for use-cases where the code that is being tested as well as the unit tests themselves do not use transaction control (commit/rollback) or DDL commands.</p>
<p>In general, your unit tests should not use transaction control as long as the code you are testing is not using it too.
Keeping the transactions uncommitted allows your changes to be isolated and the execution of tests does not impact others who might be using a shared development database.</p>
<p>If you are in a situation where the code you are testing uses transaction control (common case with ETL code), then your tests probably should not use the default automatic transaction control.
In that case use the annotation <code>--%rollback(manual)</code> on the suite level to disable automatic transaction control for the entire suite.
If you are using nested suites, you need to make sure that the entire suite all the way to the root is using manual transaction control.</p>
<p>It is possible with utPLSQL to change the transaction control on individual suites or tests that are part of complex suite.
It is strongly recommended not to have mixed transaction control in a suite.
Mixed transaction control settings will not work properly when your suites are using shared setup/cleanup with beforeall, afterall, beforeeach or aftereach annotations.
Your suite will most likely fail with error or warning on execution. Some of the automatic rollbacks will probably fail to execute depending on the configuration you have.</p>
<p>In some cases it is necessary to perform DDL as part of setup or cleanup for the tests.
It is recommended to move such DDL statements to a procedure with <code>pragma autonomous_transaction</code> to eliminate implicit commits in the main session that is executing all your tests.
Doing so allows your tests to use the framework's automatic transaction control and releases you from the burden of manual cleanup of data that was created or modified by test execution.</p>
<p>When you are testing code that performs explicit or implicit commits, you may set the test procedure to run as an autonomous transaction with <code>pragma autonomous_transaction</code>.
Keep in mind that when your test runs as autonomous transaction it will not see the data prepared in a setup procedure unless the setup procedure committed the changes.</p>
<p><strong>Note</strong></p>
<blockquote>
<p>The <code>--%suitepath</code> annotation, when used, must be provided with a value of path.
The path in suitepath cannot contain spaces. Dot (.) identifies individual elements of the path.</p>
<p>Example: <code>--%suitepath(org.utplsql.core.utils)</code>
</p>
</blockquote>
<h3 id="throws">Throws<a class="headerlink" href="#throws" title="Permanent link">&para;</a></h3>
<p>The <code>--%throws</code> annotation allows you to specify a list of exceptions as one of:
- number literals - example <code>--%throws(-20134)</code>
- variables of type exception defined in a package specification - example <code>--%throws(exc_pkg.c_exception_No_variable)</code>
- variables of type number defined in a package specification - example <code>--%throws(exc_pkg.c_some_exception)</code>
- <a href="https://docs.oracle.com/cd/E11882_01/timesten.112/e21639/exceptions.htm#CIHFIGFE">predefined oracle exceptions</a> - example <code>--%throws(no_data_found)</code></p>
<p>The annotation is ignored, when no valid arguments are provided. Examples of invalid annotations <code>--%throws()</code>,<code>--%throws</code>, <code>--%throws(abe, 723pf)</code>.</p>
<p>If <code>--%throws</code> annotation is specified with arguments and no exception is raised, the test is marked as failed.</p>
<p>If <code>--%throws</code> annotation is specified with arguments and exception raised is not on the list of provided exceptions, the test is marked as failed.</p>
<p>The framework will raise a warning, when <code>--%throws</code> annotation has invalid arguments or when no arguments were provided.</p>
<p>Annotation <code>--%throws(7894562, operaqk, -=1, -20496, pow74d, posdfk3)</code> will be interpreted as <code>--%throws(-20496)</code>.</p>
<p>Please note that <code>NO_DATA_FOUND</code> exception is a special case in Oracle. To capture it use <code>NO_DATA_FOUND</code> named exception or <code>-1403</code> exception No.
                                                                                                      <br />
Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">exc_pkg</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">  </span><span class="n">c_e_option1</span><span class="w">  </span><span class="n">constant</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">20200</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">  </span><span class="n">c_e_option2</span><span class="w">  </span><span class="n">constant</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;-20201&#39;</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">  </span><span class="n">c_e_option3</span><span class="w">  </span><span class="nb">number</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">20202</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a>
<a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">  </span><span class="n">e_option4</span><span class="w"> </span><span class="k">exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="w">  </span><span class="n">pragma</span><span class="w"> </span><span class="n">exception_init</span><span class="p">(</span><span class="n">e_option4</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">20203</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a>
<a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a>
<a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">example_pgk</span><span class="w"> </span><span class="k">as</span><span class="w"></span>
<a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a>
<a id="__codelineno-80-14" name="__codelineno-80-14" href="#__codelineno-80-14"></a><span class="w">  </span><span class="c1">--%suite(Example Throws Annotation)</span>
<a id="__codelineno-80-15" name="__codelineno-80-15" href="#__codelineno-80-15"></a>
<a id="__codelineno-80-16" name="__codelineno-80-16" href="#__codelineno-80-16"></a><span class="w">  </span><span class="c1">--%test(Throws one of the listed exceptions)</span>
<a id="__codelineno-80-17" name="__codelineno-80-17" href="#__codelineno-80-17"></a><span class="w">  </span><span class="c1">--%throws(-20145,bad,-20146, -20189 ,-20563)</span>
<a id="__codelineno-80-18" name="__codelineno-80-18" href="#__codelineno-80-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_one_listed_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-19" name="__codelineno-80-19" href="#__codelineno-80-19"></a>
<a id="__codelineno-80-20" name="__codelineno-80-20" href="#__codelineno-80-20"></a><span class="w">  </span><span class="c1">--%test(Throws different exception than expected)</span>
<a id="__codelineno-80-21" name="__codelineno-80-21" href="#__codelineno-80-21"></a><span class="w">  </span><span class="c1">--%throws(-20144)</span>
<a id="__codelineno-80-22" name="__codelineno-80-22" href="#__codelineno-80-22"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_different_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-23" name="__codelineno-80-23" href="#__codelineno-80-23"></a>
<a id="__codelineno-80-24" name="__codelineno-80-24" href="#__codelineno-80-24"></a><span class="w">  </span><span class="c1">--%test(Throws different exception than listed)</span>
<a id="__codelineno-80-25" name="__codelineno-80-25" href="#__codelineno-80-25"></a><span class="w">  </span><span class="c1">--%throws(-20144,-00001,-20145)</span>
<a id="__codelineno-80-26" name="__codelineno-80-26" href="#__codelineno-80-26"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_unlisted_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-27" name="__codelineno-80-27" href="#__codelineno-80-27"></a>
<a id="__codelineno-80-28" name="__codelineno-80-28" href="#__codelineno-80-28"></a><span class="w">  </span><span class="c1">--%test(Gives failure when an exception is expected and nothing is thrown)</span>
<a id="__codelineno-80-29" name="__codelineno-80-29" href="#__codelineno-80-29"></a><span class="w">  </span><span class="c1">--%throws(-20459, -20136, -20145)</span>
<a id="__codelineno-80-30" name="__codelineno-80-30" href="#__codelineno-80-30"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">nothing_thrown</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-31" name="__codelineno-80-31" href="#__codelineno-80-31"></a>
<a id="__codelineno-80-32" name="__codelineno-80-32" href="#__codelineno-80-32"></a><span class="w">  </span><span class="c1">--%test(Throws package exception option1)</span>
<a id="__codelineno-80-33" name="__codelineno-80-33" href="#__codelineno-80-33"></a><span class="w">  </span><span class="c1">--%throws(exc_pkg.c_e_option1)</span>
<a id="__codelineno-80-34" name="__codelineno-80-34" href="#__codelineno-80-34"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option1_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-35" name="__codelineno-80-35" href="#__codelineno-80-35"></a>
<a id="__codelineno-80-36" name="__codelineno-80-36" href="#__codelineno-80-36"></a><span class="w">  </span><span class="c1">--%test(Throws package exception option2)</span>
<a id="__codelineno-80-37" name="__codelineno-80-37" href="#__codelineno-80-37"></a><span class="w">  </span><span class="c1">--%throws(exc_pkg.c_e_option2)</span>
<a id="__codelineno-80-38" name="__codelineno-80-38" href="#__codelineno-80-38"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option2_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-39" name="__codelineno-80-39" href="#__codelineno-80-39"></a>
<a id="__codelineno-80-40" name="__codelineno-80-40" href="#__codelineno-80-40"></a><span class="w">  </span><span class="c1">--%test(Throws package exception option3)</span>
<a id="__codelineno-80-41" name="__codelineno-80-41" href="#__codelineno-80-41"></a><span class="w">  </span><span class="c1">--%throws(exc_pkg.c_e_option3)</span>
<a id="__codelineno-80-42" name="__codelineno-80-42" href="#__codelineno-80-42"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option3_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-43" name="__codelineno-80-43" href="#__codelineno-80-43"></a>
<a id="__codelineno-80-44" name="__codelineno-80-44" href="#__codelineno-80-44"></a><span class="w">  </span><span class="c1">--%test(Throws package exception option4)</span>
<a id="__codelineno-80-45" name="__codelineno-80-45" href="#__codelineno-80-45"></a><span class="w">  </span><span class="c1">--%throws(exc_pkg.e_option4)</span>
<a id="__codelineno-80-46" name="__codelineno-80-46" href="#__codelineno-80-46"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option4_exception</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-47" name="__codelineno-80-47" href="#__codelineno-80-47"></a>
<a id="__codelineno-80-48" name="__codelineno-80-48" href="#__codelineno-80-48"></a><span class="w">  </span><span class="c1">--%test(Raise name exception)</span>
<a id="__codelineno-80-49" name="__codelineno-80-49" href="#__codelineno-80-49"></a><span class="w">  </span><span class="c1">--%throws(DUP_VAL_ON_INDEX)</span>
<a id="__codelineno-80-50" name="__codelineno-80-50" href="#__codelineno-80-50"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raise_named_exc</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-51" name="__codelineno-80-51" href="#__codelineno-80-51"></a>
<a id="__codelineno-80-52" name="__codelineno-80-52" href="#__codelineno-80-52"></a><span class="w">  </span><span class="c1">--%test(Invalid throws annotation)</span>
<a id="__codelineno-80-53" name="__codelineno-80-53" href="#__codelineno-80-53"></a><span class="w">  </span><span class="c1">--%throws</span>
<a id="__codelineno-80-54" name="__codelineno-80-54" href="#__codelineno-80-54"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">bad_throws_annotation</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-55" name="__codelineno-80-55" href="#__codelineno-80-55"></a>
<a id="__codelineno-80-56" name="__codelineno-80-56" href="#__codelineno-80-56"></a><span class="k">end</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-80-57" name="__codelineno-80-57" href="#__codelineno-80-57"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-80-58" name="__codelineno-80-58" href="#__codelineno-80-58"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">example_pgk</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-59" name="__codelineno-80-59" href="#__codelineno-80-59"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_one_listed_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-60" name="__codelineno-80-60" href="#__codelineno-80-60"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-61" name="__codelineno-80-61" href="#__codelineno-80-61"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="o">-</span><span class="mi">20189</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-62" name="__codelineno-80-62" href="#__codelineno-80-62"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-63" name="__codelineno-80-63" href="#__codelineno-80-63"></a>
<a id="__codelineno-80-64" name="__codelineno-80-64" href="#__codelineno-80-64"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_different_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-65" name="__codelineno-80-65" href="#__codelineno-80-65"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-66" name="__codelineno-80-66" href="#__codelineno-80-66"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="o">-</span><span class="mi">20143</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-67" name="__codelineno-80-67" href="#__codelineno-80-67"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-68" name="__codelineno-80-68" href="#__codelineno-80-68"></a>
<a id="__codelineno-80-69" name="__codelineno-80-69" href="#__codelineno-80-69"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_unlisted_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-70" name="__codelineno-80-70" href="#__codelineno-80-70"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-71" name="__codelineno-80-71" href="#__codelineno-80-71"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="o">-</span><span class="mi">20143</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-72" name="__codelineno-80-72" href="#__codelineno-80-72"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-73" name="__codelineno-80-73" href="#__codelineno-80-73"></a>
<a id="__codelineno-80-74" name="__codelineno-80-74" href="#__codelineno-80-74"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">nothing_thrown</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-75" name="__codelineno-80-75" href="#__codelineno-80-75"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-76" name="__codelineno-80-76" href="#__codelineno-80-76"></a><span class="w">      </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-77" name="__codelineno-80-77" href="#__codelineno-80-77"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-78" name="__codelineno-80-78" href="#__codelineno-80-78"></a>
<a id="__codelineno-80-79" name="__codelineno-80-79" href="#__codelineno-80-79"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option1_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-80" name="__codelineno-80-80" href="#__codelineno-80-80"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-81" name="__codelineno-80-81" href="#__codelineno-80-81"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="n">exc_pkg</span><span class="p">.</span><span class="n">c_e_option1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-82" name="__codelineno-80-82" href="#__codelineno-80-82"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-83" name="__codelineno-80-83" href="#__codelineno-80-83"></a>
<a id="__codelineno-80-84" name="__codelineno-80-84" href="#__codelineno-80-84"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option2_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-85" name="__codelineno-80-85" href="#__codelineno-80-85"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-86" name="__codelineno-80-86" href="#__codelineno-80-86"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="n">exc_pkg</span><span class="p">.</span><span class="n">c_e_option2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-87" name="__codelineno-80-87" href="#__codelineno-80-87"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-88" name="__codelineno-80-88" href="#__codelineno-80-88"></a>
<a id="__codelineno-80-89" name="__codelineno-80-89" href="#__codelineno-80-89"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option3_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-90" name="__codelineno-80-90" href="#__codelineno-80-90"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-91" name="__codelineno-80-91" href="#__codelineno-80-91"></a><span class="w">      </span><span class="n">raise_application_error</span><span class="p">(</span><span class="n">exc_pkg</span><span class="p">.</span><span class="n">c_e_option3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-80-92" name="__codelineno-80-92" href="#__codelineno-80-92"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-93" name="__codelineno-80-93" href="#__codelineno-80-93"></a>
<a id="__codelineno-80-94" name="__codelineno-80-94" href="#__codelineno-80-94"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raised_option4_exception</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-95" name="__codelineno-80-95" href="#__codelineno-80-95"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-96" name="__codelineno-80-96" href="#__codelineno-80-96"></a><span class="w">      </span><span class="n">raise</span><span class="w"> </span><span class="n">exc_pkg</span><span class="p">.</span><span class="n">e_option4</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-97" name="__codelineno-80-97" href="#__codelineno-80-97"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-98" name="__codelineno-80-98" href="#__codelineno-80-98"></a>
<a id="__codelineno-80-99" name="__codelineno-80-99" href="#__codelineno-80-99"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raise_named_exc</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-100" name="__codelineno-80-100" href="#__codelineno-80-100"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-101" name="__codelineno-80-101" href="#__codelineno-80-101"></a><span class="w">      </span><span class="n">raise</span><span class="w"> </span><span class="n">DUP_VAL_ON_INDEX</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-102" name="__codelineno-80-102" href="#__codelineno-80-102"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-103" name="__codelineno-80-103" href="#__codelineno-80-103"></a>
<a id="__codelineno-80-104" name="__codelineno-80-104" href="#__codelineno-80-104"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">bad_throws_annotation</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-80-105" name="__codelineno-80-105" href="#__codelineno-80-105"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-80-106" name="__codelineno-80-106" href="#__codelineno-80-106"></a><span class="w">    </span><span class="k">null</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-107" name="__codelineno-80-107" href="#__codelineno-80-107"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-108" name="__codelineno-80-108" href="#__codelineno-80-108"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-80-109" name="__codelineno-80-109" href="#__codelineno-80-109"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-80-110" name="__codelineno-80-110" href="#__codelineno-80-110"></a>
<a id="__codelineno-80-111" name="__codelineno-80-111" href="#__codelineno-80-111"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut3</span><span class="p">.</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;example_pgk&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>Running the test will give report:
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>Example Throws Annotation
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>  Throws one of the listed exceptions [.002 sec]
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>  Throws different exception than expected [.002 sec] (FAILED - 1)
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a>  Throws different exception than listed [.003 sec] (FAILED - 2)
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>  Gives failure when an exception is expected and nothing is thrown [.002 sec] (FAILED - 3)
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>  Throws package exception option1 [.003 sec]
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>  Throws package exception option2 [.002 sec]
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a>  Throws package exception option3 [.002 sec]
<a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a>  Throws package exception option4 [.002 sec]
<a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a>  Raise name exception [.002 sec]
<a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a>  Invalid throws annotation [.002 sec]
<a id="__codelineno-81-12" name="__codelineno-81-12" href="#__codelineno-81-12"></a>
<a id="__codelineno-81-13" name="__codelineno-81-13" href="#__codelineno-81-13"></a>Failures:
<a id="__codelineno-81-14" name="__codelineno-81-14" href="#__codelineno-81-14"></a>
<a id="__codelineno-81-15" name="__codelineno-81-15" href="#__codelineno-81-15"></a>  1) raised_different_exception
<a id="__codelineno-81-16" name="__codelineno-81-16" href="#__codelineno-81-16"></a>      Actual: -20143 was expected to equal: -20144
<a id="__codelineno-81-17" name="__codelineno-81-17" href="#__codelineno-81-17"></a>      ORA-20143: Test error
<a id="__codelineno-81-18" name="__codelineno-81-18" href="#__codelineno-81-18"></a>      ORA-06512: at &quot;UT3.EXAMPLE_PGK&quot;, line 9
<a id="__codelineno-81-19" name="__codelineno-81-19" href="#__codelineno-81-19"></a>      ORA-06512: at &quot;UT3.EXAMPLE_PGK&quot;, line 9
<a id="__codelineno-81-20" name="__codelineno-81-20" href="#__codelineno-81-20"></a>      ORA-06512: at line 6
<a id="__codelineno-81-21" name="__codelineno-81-21" href="#__codelineno-81-21"></a>
<a id="__codelineno-81-22" name="__codelineno-81-22" href="#__codelineno-81-22"></a>  2) raised_unlisted_exception
<a id="__codelineno-81-23" name="__codelineno-81-23" href="#__codelineno-81-23"></a>      Actual: -20143 was expected to be one of: (-20144, -1, -20145)
<a id="__codelineno-81-24" name="__codelineno-81-24" href="#__codelineno-81-24"></a>      ORA-20143: Test error
<a id="__codelineno-81-25" name="__codelineno-81-25" href="#__codelineno-81-25"></a>      ORA-06512: at &quot;UT3.EXAMPLE_PGK&quot;, line 14
<a id="__codelineno-81-26" name="__codelineno-81-26" href="#__codelineno-81-26"></a>      ORA-06512: at &quot;UT3.EXAMPLE_PGK&quot;, line 14
<a id="__codelineno-81-27" name="__codelineno-81-27" href="#__codelineno-81-27"></a>      ORA-06512: at line 6
<a id="__codelineno-81-28" name="__codelineno-81-28" href="#__codelineno-81-28"></a>
<a id="__codelineno-81-29" name="__codelineno-81-29" href="#__codelineno-81-29"></a>  3) nothing_thrown
<a id="__codelineno-81-30" name="__codelineno-81-30" href="#__codelineno-81-30"></a>      Expected one of exceptions (-20459, -20136, -20145) but nothing was raised.
<a id="__codelineno-81-31" name="__codelineno-81-31" href="#__codelineno-81-31"></a>
<a id="__codelineno-81-32" name="__codelineno-81-32" href="#__codelineno-81-32"></a>
<a id="__codelineno-81-33" name="__codelineno-81-33" href="#__codelineno-81-33"></a>Warnings:
<a id="__codelineno-81-34" name="__codelineno-81-34" href="#__codelineno-81-34"></a>
<a id="__codelineno-81-35" name="__codelineno-81-35" href="#__codelineno-81-35"></a>  1) example_pgk
<a id="__codelineno-81-36" name="__codelineno-81-36" href="#__codelineno-81-36"></a>      Invalid parameter value &quot;bad&quot; for &quot;--%throws&quot; annotation. Parameter ignored.
<a id="__codelineno-81-37" name="__codelineno-81-37" href="#__codelineno-81-37"></a>      at &quot;UT3.EXAMPLE_PGK.RAISED_ONE_LISTED_EXCEPTION&quot;, line 6
<a id="__codelineno-81-38" name="__codelineno-81-38" href="#__codelineno-81-38"></a>  2) example_pgk
<a id="__codelineno-81-39" name="__codelineno-81-39" href="#__codelineno-81-39"></a>      &quot;--%throws&quot; annotation requires a parameter. Annotation ignored.
<a id="__codelineno-81-40" name="__codelineno-81-40" href="#__codelineno-81-40"></a>      at &quot;UT3.EXAMPLE_PGK.BAD_THROWS_ANNOTATION&quot;, line 42
<a id="__codelineno-81-41" name="__codelineno-81-41" href="#__codelineno-81-41"></a>
<a id="__codelineno-81-42" name="__codelineno-81-42" href="#__codelineno-81-42"></a>Finished in .025784 seconds
<a id="__codelineno-81-43" name="__codelineno-81-43" href="#__codelineno-81-43"></a>10 tests, 3 failed, 0 errored, 0 disabled, 2 warning(s)
</code></pre></div></p>
<h2 id="order-of-execution">Order of execution<a class="headerlink" href="#order-of-execution" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_employee_pkg</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">  </span><span class="c1">--%suite(Employee management)</span>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">  </span><span class="c1">--%suitepath(com.my_company.hr)</span>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">  </span><span class="c1">--%rollback(auto)</span>
<a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a>
<a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_employees</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a>
<a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_departments</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a>
<a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="w">  </span><span class="c1">--%afterall</span>
<a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_log_table</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a>
<a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a><span class="w">  </span><span class="c1">--%context(add_employee)</span>
<a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a>
<a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a><span class="w">  </span><span class="c1">--%beforeeach</span>
<a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_add_employees</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a>
<a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a><span class="w">  </span><span class="c1">--%test(Raises exception when employee already exists)</span>
<a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a><span class="w">  </span><span class="c1">--%throws(-20145)</span>
<a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_existing_employee</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a>
<a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a><span class="w">  </span><span class="c1">--%test(Inserts employee to emp table)</span>
<a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">add_employee</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a>
<a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a>
<a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a>
<a id="__codelineno-82-31" name="__codelineno-82-31" href="#__codelineno-82-31"></a><span class="w">  </span><span class="c1">--%context(remove_employee)</span>
<a id="__codelineno-82-32" name="__codelineno-82-32" href="#__codelineno-82-32"></a>
<a id="__codelineno-82-33" name="__codelineno-82-33" href="#__codelineno-82-33"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-82-34" name="__codelineno-82-34" href="#__codelineno-82-34"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_for_remove_employee</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-35" name="__codelineno-82-35" href="#__codelineno-82-35"></a>
<a id="__codelineno-82-36" name="__codelineno-82-36" href="#__codelineno-82-36"></a><span class="w">  </span><span class="c1">--%test(Removed employee from emp table)</span>
<a id="__codelineno-82-37" name="__codelineno-82-37" href="#__codelineno-82-37"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">del_employee</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-38" name="__codelineno-82-38" href="#__codelineno-82-38"></a>
<a id="__codelineno-82-39" name="__codelineno-82-39" href="#__codelineno-82-39"></a><span class="w">  </span><span class="c1">--%endcontext</span>
<a id="__codelineno-82-40" name="__codelineno-82-40" href="#__codelineno-82-40"></a>
<a id="__codelineno-82-41" name="__codelineno-82-41" href="#__codelineno-82-41"></a><span class="w">  </span><span class="c1">--%test(Test without context)</span>
<a id="__codelineno-82-42" name="__codelineno-82-42" href="#__codelineno-82-42"></a><span class="w">  </span><span class="c1">--%beforetest(setup_another_test)</span>
<a id="__codelineno-82-43" name="__codelineno-82-43" href="#__codelineno-82-43"></a><span class="w">  </span><span class="c1">--%aftertest(cleanup_another_test)</span>
<a id="__codelineno-82-44" name="__codelineno-82-44" href="#__codelineno-82-44"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">some_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-45" name="__codelineno-82-45" href="#__codelineno-82-45"></a>
<a id="__codelineno-82-46" name="__codelineno-82-46" href="#__codelineno-82-46"></a><span class="w">  </span><span class="c1">--%test(Name of test)</span>
<a id="__codelineno-82-47" name="__codelineno-82-47" href="#__codelineno-82-47"></a><span class="w">  </span><span class="c1">--%disabled</span>
<a id="__codelineno-82-48" name="__codelineno-82-48" href="#__codelineno-82-48"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">disabled_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-49" name="__codelineno-82-49" href="#__codelineno-82-49"></a>
<a id="__codelineno-82-50" name="__codelineno-82-50" href="#__codelineno-82-50"></a><span class="w">  </span><span class="c1">--%test(Name of test)</span>
<a id="__codelineno-82-51" name="__codelineno-82-51" href="#__codelineno-82-51"></a><span class="w">  </span><span class="c1">--%rollback(manual)</span>
<a id="__codelineno-82-52" name="__codelineno-82-52" href="#__codelineno-82-52"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">no_transaction_control_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-53" name="__codelineno-82-53" href="#__codelineno-82-53"></a>
<a id="__codelineno-82-54" name="__codelineno-82-54" href="#__codelineno-82-54"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">setup_another_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-55" name="__codelineno-82-55" href="#__codelineno-82-55"></a>
<a id="__codelineno-82-56" name="__codelineno-82-56" href="#__codelineno-82-56"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_another_test</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-57" name="__codelineno-82-57" href="#__codelineno-82-57"></a>
<a id="__codelineno-82-58" name="__codelineno-82-58" href="#__codelineno-82-58"></a><span class="w">  </span><span class="c1">--%beforeeach</span>
<a id="__codelineno-82-59" name="__codelineno-82-59" href="#__codelineno-82-59"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_session_context</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-60" name="__codelineno-82-60" href="#__codelineno-82-60"></a>
<a id="__codelineno-82-61" name="__codelineno-82-61" href="#__codelineno-82-61"></a><span class="w">  </span><span class="c1">--%aftereach</span>
<a id="__codelineno-82-62" name="__codelineno-82-62" href="#__codelineno-82-62"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">cleanup_session_context</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-82-63" name="__codelineno-82-63" href="#__codelineno-82-63"></a>
<a id="__codelineno-82-64" name="__codelineno-82-64" href="#__codelineno-82-64"></a><span class="k">end</span><span class="w"> </span><span class="n">test_employee_pkg</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>When processing the test suite <code>test_employee_pkg</code> defined in <a href="#example">Example of annotated test package</a>, the order of execution will be as follows.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a>  create a savepoint &#39;before-suite&#39;         
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a>    execute setup_employees                 (--%beforeall)
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a>    execute setup_departments               (--%beforeall)
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a>    create a savepoint &#39;before-context&#39;     
<a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a>      create savepoint &#39;before-test&#39;
<a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a>          execute test_setup                (--%beforeeach)
<a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a>          execute setup_for_add_employees   (--%beforeeach from context)
<a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a>          execute add_existing_employee     (--%test)
<a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a>          execute test_cleanup              (--%aftereach)
<a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a>      rollback to savepoint &#39;before-test&#39;
<a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a>      create savepoint &#39;before-test&#39;        (--%suite)
<a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a>          execute test_setup                (--%beforeeach)
<a id="__codelineno-83-14" name="__codelineno-83-14" href="#__codelineno-83-14"></a>          execute setup_for_add_employees   (--%beforeeach from context)
<a id="__codelineno-83-15" name="__codelineno-83-15" href="#__codelineno-83-15"></a>          execute add_employee              (--%test)
<a id="__codelineno-83-16" name="__codelineno-83-16" href="#__codelineno-83-16"></a>          execute test_cleanup              (--%aftereach)
<a id="__codelineno-83-17" name="__codelineno-83-17" href="#__codelineno-83-17"></a>      rollback to savepoint &#39;before-test&#39;      
<a id="__codelineno-83-18" name="__codelineno-83-18" href="#__codelineno-83-18"></a>    rollback to savepoint &#39;before-context&#39;  
<a id="__codelineno-83-19" name="__codelineno-83-19" href="#__codelineno-83-19"></a>
<a id="__codelineno-83-20" name="__codelineno-83-20" href="#__codelineno-83-20"></a>    create a savepoint &#39;before-context&#39;
<a id="__codelineno-83-21" name="__codelineno-83-21" href="#__codelineno-83-21"></a>      execute setup_for_remove_employee     (--%beforeall from context)     
<a id="__codelineno-83-22" name="__codelineno-83-22" href="#__codelineno-83-22"></a>      create savepoint &#39;before-test&#39;
<a id="__codelineno-83-23" name="__codelineno-83-23" href="#__codelineno-83-23"></a>          execute test_setup                (--%beforeeach)
<a id="__codelineno-83-24" name="__codelineno-83-24" href="#__codelineno-83-24"></a>          execute add_existing_employee     (--%test)
<a id="__codelineno-83-25" name="__codelineno-83-25" href="#__codelineno-83-25"></a>          execute test_cleanup              (--%aftereach)
<a id="__codelineno-83-26" name="__codelineno-83-26" href="#__codelineno-83-26"></a>      rollback to savepoint &#39;before-test&#39;
<a id="__codelineno-83-27" name="__codelineno-83-27" href="#__codelineno-83-27"></a>    rollback to savepoint &#39;before-context&#39;  
<a id="__codelineno-83-28" name="__codelineno-83-28" href="#__codelineno-83-28"></a>
<a id="__codelineno-83-29" name="__codelineno-83-29" href="#__codelineno-83-29"></a>    create savepoint &#39;before-test&#39;
<a id="__codelineno-83-30" name="__codelineno-83-30" href="#__codelineno-83-30"></a>      execute test_setup                    (--%beforeeach)
<a id="__codelineno-83-31" name="__codelineno-83-31" href="#__codelineno-83-31"></a>      execute some_test                     (--%test)
<a id="__codelineno-83-32" name="__codelineno-83-32" href="#__codelineno-83-32"></a>      execute test_cleanup                  (--%aftereach)
<a id="__codelineno-83-33" name="__codelineno-83-33" href="#__codelineno-83-33"></a>    rollback to savepoint &#39;before-test&#39;     
<a id="__codelineno-83-34" name="__codelineno-83-34" href="#__codelineno-83-34"></a>
<a id="__codelineno-83-35" name="__codelineno-83-35" href="#__codelineno-83-35"></a>    create savepoint &#39;before-test&#39;          
<a id="__codelineno-83-36" name="__codelineno-83-36" href="#__codelineno-83-36"></a>      execute test_setup                    (--%beforeeach)
<a id="__codelineno-83-37" name="__codelineno-83-37" href="#__codelineno-83-37"></a>      execute setup_another_test            (--%beforetest)
<a id="__codelineno-83-38" name="__codelineno-83-38" href="#__codelineno-83-38"></a>      execute another_test                  (--%test)
<a id="__codelineno-83-39" name="__codelineno-83-39" href="#__codelineno-83-39"></a>      execute cleanup_another_test          (--%aftertest)
<a id="__codelineno-83-40" name="__codelineno-83-40" href="#__codelineno-83-40"></a>      execute test_cleanup                  (--%beforeeach)
<a id="__codelineno-83-41" name="__codelineno-83-41" href="#__codelineno-83-41"></a>    rollback to savepoint &#39;before-test&#39;
<a id="__codelineno-83-42" name="__codelineno-83-42" href="#__codelineno-83-42"></a>
<a id="__codelineno-83-43" name="__codelineno-83-43" href="#__codelineno-83-43"></a>    mark disabled_test as disabled          (--%test --%disabled)
<a id="__codelineno-83-44" name="__codelineno-83-44" href="#__codelineno-83-44"></a>
<a id="__codelineno-83-45" name="__codelineno-83-45" href="#__codelineno-83-45"></a>    execute test_setup                      (--%beforeeach)
<a id="__codelineno-83-46" name="__codelineno-83-46" href="#__codelineno-83-46"></a>    execute no_transaction_control_test     (--%test)
<a id="__codelineno-83-47" name="__codelineno-83-47" href="#__codelineno-83-47"></a>    execute test_cleanup                    (--%aftertest)
<a id="__codelineno-83-48" name="__codelineno-83-48" href="#__codelineno-83-48"></a>
<a id="__codelineno-83-49" name="__codelineno-83-49" href="#__codelineno-83-49"></a>    execute global_cleanup                  (--%afterall)
<a id="__codelineno-83-50" name="__codelineno-83-50" href="#__codelineno-83-50"></a>  rollback to savepoint &#39;before-suite&#39;
</code></pre></div>
<p><strong>Note</strong></p>
<blockquote>
<p>utPLSQL does not guarantee ordering of tests in suite. On contrary utPLSQL might give random order of tests/contexts in suite.</p>
<p>Order of execution within multiple occurrences of <code>before</code>/<code>after</code> procedures is determined by the order of annotations in specific block (context/suite) of package specification.</p>
</blockquote>
<h2 id="sys_context">sys_context<a class="headerlink" href="#sys_context" title="Permanent link">&para;</a></h2>
<p>It is possible to access information about currently running suite.
The information is available by calling <code>sys_context( 'UT3_INFO', attribute )</code>.
It can be accessed from any procecure invoked as part of utPLSQL test execution.</p>
<p><strong>Note:</strong></p>
<blockquote>
<p>Context name is derived from schema name where utPLSQL is installed.
The context name in below examples represents the default install schema -&gt; <code>UT3</code>
If you install utPLSQL into another schema the context name will be different.
For example if utPLSQL is installed into <code>HR</code> schema, the context name will be <code>HR_INFO</code></p>
</blockquote>
<p>Following attributes are populated:
- Always:
    - <code>sys_context( 'UT3_INFO', 'RUN_PATHS' );</code> - list of suitepaths / suitenames used as input parameters for call to <code>ut.run(...)</code> or <code>ut_runner.run(...)</code>
    - <code>sys_context( 'UT3_INFO', 'SUITE_DESCRIPTION' );</code> - the description of test suite that is currently being executed
    - <code>sys_context( 'UT3_INFO', 'SUITE_PACKAGE' );</code> -  the owner and name of test suite package that is currently being executed
    - <code>sys_context( 'UT3_INFO', 'SUITE_PATH' );</code> - the suitepath for the test suite package that is currently being executed
    - <code>sys_context( 'UT3_INFO', 'SUITE_START_TIME' );</code> - the execution start timestamp of test suite package that is currently being executed
    - <code>sys_context( 'UT3_INFO', 'CURRENT_EXECUTABLE_NAME' );</code> - the owner.package.procedure of currently running test suite executable
    - <code>sys_context( 'UT3_INFO', 'CURRENT_EXECUTABLE_TYPE' );</code> - the type of currently running test suite executable (one of: <code>beforeall</code>, <code>beforeeach</code>, <code>beforetest</code>, <code>test</code>, <code>aftertest</code>, <code>aftereach</code>, <code>afterall</code></p>
<ul>
<li>When running in suite context<ul>
<li><code>sys_context( 'UT3_INFO', 'CONTEXT_DESCRIPTION' );</code> - the description of test suite context that is currently being executed </li>
<li><code>sys_context( 'UT3_INFO', 'CONTEXT_NAME' );</code> - the name of test suite context that is currently being executed </li>
<li><code>sys_context( 'UT3_INFO', 'CONTEXT_PATH' );</code> - the suitepath for the currently executed test suite context</li>
<li><code>sys_context( 'UT3_INFO', 'CONTEXT_START_TIME' );</code> - the execution start timestamp for the currently executed test suite context</li>
</ul>
</li>
<li>When running a suite executable procedure that is a <code>test</code> or <code>beforeeach</code>, <code>aftereach</code>, <code>beforetest</code>, <code>aftertest</code><ul>
<li><code>sys_context( 'UT3_INFO', 'TEST_DESCRIPTION' );</code> - the description of test for which the current executable is being invoked</li>
<li><code>sys_context( 'UT3_INFO', 'TEST_NAME' );</code> -  the name of test for which the current executable is being invoked</li>
<li><code>sys_context( 'UT3_INFO', 'TEST_START_TIME' );</code> - the execution start timestamp of test that is currently being executed (the time when first <code>beforeeach</code>/<code>beforetest</code> was called for that test)</li>
</ul>
</li>
</ul>
<p>Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="n">which_procecure_called_me</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">  </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="w">    </span><span class="s1">&#39;Currently running utPLSQL &#39;</span><span class="w"> </span><span class="o">||</span><span class="n">sys_context</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;current_executable_type&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="w">    </span><span class="o">||</span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="o">||</span><span class="n">sys_context</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;current_executable_name&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a><span class="w">  </span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-8" name="__codelineno-84-8" href="#__codelineno-84-8"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-84-9" name="__codelineno-84-9" href="#__codelineno-84-9"></a>
<a id="__codelineno-84-10" name="__codelineno-84-10" href="#__codelineno-84-10"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_call</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-11" name="__codelineno-84-11" href="#__codelineno-84-11"></a>
<a id="__codelineno-84-12" name="__codelineno-84-12" href="#__codelineno-84-12"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-84-13" name="__codelineno-84-13" href="#__codelineno-84-13"></a>
<a id="__codelineno-84-14" name="__codelineno-84-14" href="#__codelineno-84-14"></a><span class="w">  </span><span class="c1">--%beforeall</span>
<a id="__codelineno-84-15" name="__codelineno-84-15" href="#__codelineno-84-15"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">beforeall</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-16" name="__codelineno-84-16" href="#__codelineno-84-16"></a>
<a id="__codelineno-84-17" name="__codelineno-84-17" href="#__codelineno-84-17"></a><span class="w">  </span><span class="c1">--%beforeeach</span>
<a id="__codelineno-84-18" name="__codelineno-84-18" href="#__codelineno-84-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">beforeeach</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-19" name="__codelineno-84-19" href="#__codelineno-84-19"></a>
<a id="__codelineno-84-20" name="__codelineno-84-20" href="#__codelineno-84-20"></a><span class="w">  </span><span class="c1">--%test</span>
<a id="__codelineno-84-21" name="__codelineno-84-21" href="#__codelineno-84-21"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test1</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-22" name="__codelineno-84-22" href="#__codelineno-84-22"></a>
<a id="__codelineno-84-23" name="__codelineno-84-23" href="#__codelineno-84-23"></a><span class="w">  </span><span class="c1">--%test</span>
<a id="__codelineno-84-24" name="__codelineno-84-24" href="#__codelineno-84-24"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test2</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-25" name="__codelineno-84-25" href="#__codelineno-84-25"></a>
<a id="__codelineno-84-26" name="__codelineno-84-26" href="#__codelineno-84-26"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-27" name="__codelineno-84-27" href="#__codelineno-84-27"></a><span class="o">/</span><span class="w"></span>
<a id="__codelineno-84-28" name="__codelineno-84-28" href="#__codelineno-84-28"></a>
<a id="__codelineno-84-29" name="__codelineno-84-29" href="#__codelineno-84-29"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_call</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-30" name="__codelineno-84-30" href="#__codelineno-84-30"></a>
<a id="__codelineno-84-31" name="__codelineno-84-31" href="#__codelineno-84-31"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">beforeall</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-32" name="__codelineno-84-32" href="#__codelineno-84-32"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-84-33" name="__codelineno-84-33" href="#__codelineno-84-33"></a><span class="w">    </span><span class="n">which_procecure_called_me</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-84-34" name="__codelineno-84-34" href="#__codelineno-84-34"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;Current test procedure is: &#39;</span><span class="o">||</span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="s1">&#39;test_name&#39;</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-84-35" name="__codelineno-84-35" href="#__codelineno-84-35"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-36" name="__codelineno-84-36" href="#__codelineno-84-36"></a>
<a id="__codelineno-84-37" name="__codelineno-84-37" href="#__codelineno-84-37"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">beforeeach</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-38" name="__codelineno-84-38" href="#__codelineno-84-38"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-84-39" name="__codelineno-84-39" href="#__codelineno-84-39"></a><span class="w">    </span><span class="n">which_procecure_called_me</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-84-40" name="__codelineno-84-40" href="#__codelineno-84-40"></a><span class="w">    </span><span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="s1">&#39;Current test procedure is: &#39;</span><span class="o">||</span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="s1">&#39;test_name&#39;</span><span class="p">));</span><span class="w"></span>
<a id="__codelineno-84-41" name="__codelineno-84-41" href="#__codelineno-84-41"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-42" name="__codelineno-84-42" href="#__codelineno-84-42"></a>
<a id="__codelineno-84-43" name="__codelineno-84-43" href="#__codelineno-84-43"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test1</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-44" name="__codelineno-84-44" href="#__codelineno-84-44"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-84-45" name="__codelineno-84-45" href="#__codelineno-84-45"></a><span class="w">    </span><span class="n">which_procecure_called_me</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-84-46" name="__codelineno-84-46" href="#__codelineno-84-46"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="s1">&#39;suite_package&#39;</span><span class="p">)).</span><span class="n">to_equal</span><span class="p">(</span><span class="k">user</span><span class="o">||</span><span class="s1">&#39;.test_call&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-84-47" name="__codelineno-84-47" href="#__codelineno-84-47"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-48" name="__codelineno-84-48" href="#__codelineno-84-48"></a>
<a id="__codelineno-84-49" name="__codelineno-84-49" href="#__codelineno-84-49"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">test2</span><span class="w"> </span><span class="k">is</span><span class="w"></span>
<a id="__codelineno-84-50" name="__codelineno-84-50" href="#__codelineno-84-50"></a><span class="w">  </span><span class="k">begin</span><span class="w"></span>
<a id="__codelineno-84-51" name="__codelineno-84-51" href="#__codelineno-84-51"></a><span class="w">    </span><span class="n">which_procecure_called_me</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-84-52" name="__codelineno-84-52" href="#__codelineno-84-52"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;ut3_info&#39;</span><span class="p">,</span><span class="s1">&#39;test_name&#39;</span><span class="p">)).</span><span class="n">to_equal</span><span class="p">(</span><span class="k">user</span><span class="o">||</span><span class="s1">&#39;.test_call.test2&#39;</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-84-53" name="__codelineno-84-53" href="#__codelineno-84-53"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-54" name="__codelineno-84-54" href="#__codelineno-84-54"></a>
<a id="__codelineno-84-55" name="__codelineno-84-55" href="#__codelineno-84-55"></a><span class="k">end</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-84-56" name="__codelineno-84-56" href="#__codelineno-84-56"></a><span class="o">/</span><span class="w"></span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_call&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a>test_call
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a>  Currently running utPLSQL beforeall UT3.test_call.beforeall
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a>  Current test procedure is: 
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a>  test1 [.008 sec]
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a>  Currently running utPLSQL beforeeach UT3.test_call.beforeeach
<a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a>  Current test procedure is: UT3.test_call.test1
<a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a>  Currently running utPLSQL test UT3.test_call.test1
<a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a>  test2 [.004 sec]
<a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a>  Currently running utPLSQL beforeeach UT3.test_call.beforeeach
<a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a>  Current test procedure is: UT3.test_call.test2
<a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a>  Currently running utPLSQL test UT3.test_call.test2
<a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a>
<a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a>Finished in .021295 seconds
<a id="__codelineno-86-14" name="__codelineno-86-14" href="#__codelineno-86-14"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div>
<h2 id="annotation-cache">Annotation cache<a class="headerlink" href="#annotation-cache" title="Permanent link">&para;</a></h2>
<p>utPLSQL needs to scan the source of package specifications to identify and parse annotations.
To improve framework startup time, especially when dealing with database users owning large amounts of packages, the framework has a built-in persistent cache for annotations.</p>
<p>The annotation cache is checked for staleness and refreshed automatically on every run. The initial startup of utPLSQL for a schema will take longer than consecutive executions.</p>
<p>If you are in a situation where your database is controlled via CI/CD server and is refreshed/wiped before each run of your tests, consider building the annotation cache upfront and taking a snapshot of the database after the cache has been refreshed.</p>
<p>To build the annotation cache without actually invoking any tests, call <code>ut_runner.rebuild_annotation_cache(a_object_owner)</code> for every unit test owner for which you want to have the annotation cache prebuilt.
Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut_runner</span><span class="p">.</span><span class="n">rebuild_annotation_cache</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
<p>To purge the annotation cache call <code>ut_runner.purge_cache(a_object_owner, a_object_type)</code>.
Both parameters are optional and if not provided, all owners/object_types will be purged. 
Example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut_runner</span><span class="p">.</span><span class="n">purge_cache</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;PACKAGE&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 16, 2021 22:40:32</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">October 23, 2016 20:53:00</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="getting-started.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting Started" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Getting Started
            </div>
          </div>
        </a>
      
      
        
        <a href="expectations.html" class="md-footer__link md-footer__link--next" aria-label="Next: Expectations" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Expectations
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2021 utPLSQL Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/utPLSQL" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://join.slack.com/t/utplsql/shared_invite/zt-xwm68udy-4cF_3PNEyczYEbWr38W5ww" target="_blank" rel="noopener" title="join.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://github.com/utPLSQL" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto:utPLSQL@utPLSQL.org" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  



  

<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input type="checkbox" class="md-toggle" id="__settings">
<div class="md-consent__settings">
  <ul class="task-list">
    
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);console.log(new FormData(form)),__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tracking", "toc.follow", "toc.integrate", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>