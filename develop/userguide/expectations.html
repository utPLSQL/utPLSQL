
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="utPLSQL Ultimate Testing Framework for Oracle PL/SQL & SQL">
      
      
      
        <link rel="canonical" href="http://utPLSQL.org/develop/userguide/expectations.html">
      
      
        <link rel="prev" href="annotations.html">
      
      
        <link rel="next" href="advanced_data_comparison.html">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Expectations - utPLSQL-framework</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#expectation-concepts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="utPLSQL-framework" class="md-header__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            utPLSQL-framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Expectations
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../index.html" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="reporters.html" class="md-tabs__link">
          
  
  Reporting

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../about/project-details.html" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="utPLSQL-framework" class="md-nav__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    utPLSQL-framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="annotations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Expectations
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="expectations.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Expectations
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#expectation-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Expectation concepts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-expectations" class="md-nav__link">
    <span class="md-ellipsis">
      Using expectations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-expectations-within-utplsql-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Running expectations within utPLSQL framework
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-expectations-outside-utplsql-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Running expectations outside utPLSQL framework
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matchers" class="md-nav__link">
    <span class="md-ellipsis">
      Matchers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#providing-a-custom-message" class="md-nav__link">
    <span class="md-ellipsis">
      Providing a custom message
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#negating-a-matcher" class="md-nav__link">
    <span class="md-ellipsis">
      Negating a matcher
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Supported data types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expecting-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Expecting exceptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matchers_1" class="md-nav__link">
    <span class="md-ellipsis">
      Matchers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Matchers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#be_between" class="md-nav__link">
    <span class="md-ellipsis">
      be_between
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_empty" class="md-nav__link">
    <span class="md-ellipsis">
      be_empty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_false" class="md-nav__link">
    <span class="md-ellipsis">
      be_false
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_greater_or_equal" class="md-nav__link">
    <span class="md-ellipsis">
      be_greater_or_equal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_greater_than" class="md-nav__link">
    <span class="md-ellipsis">
      be_greater_than
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_less_or_equal" class="md-nav__link">
    <span class="md-ellipsis">
      be_less_or_equal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_less_than" class="md-nav__link">
    <span class="md-ellipsis">
      be_less_than
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_like" class="md-nav__link">
    <span class="md-ellipsis">
      be_like
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_not_null" class="md-nav__link">
    <span class="md-ellipsis">
      be_not_null
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_null" class="md-nav__link">
    <span class="md-ellipsis">
      be_null
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#be_true" class="md-nav__link">
    <span class="md-ellipsis">
      be_true
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#have_count" class="md-nav__link">
    <span class="md-ellipsis">
      have_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#equal" class="md-nav__link">
    <span class="md-ellipsis">
      equal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contain" class="md-nav__link">
    <span class="md-ellipsis">
      contain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_be_within-of" class="md-nav__link">
    <span class="md-ellipsis">
      to_be_within of
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_be_within_pct-of" class="md-nav__link">
    <span class="md-ellipsis">
      to_be_within_pct of
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-cursors-object-types-nested-tables-and-varrays" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing cursors, object types, nested tables and varrays
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparing cursors, object types, nested tables and varrays">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-on-comparison-of-compound-data" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on comparison of compound data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diff-functionality-for-compound-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Diff functionality for compound data-types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-and-nested-table-data-type-comparison-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Object and nested table data-type comparison examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-cursor-data-containing-date-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing cursor data containing DATE fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-cursor-data-containing-timestamp-bind-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing cursor data containing TIMESTAMP bind variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-json-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Comparing Json objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparing Json objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-on-comparison-of-json-data" class="md-nav__link">
    <span class="md-ellipsis">
      Notes on comparison of json data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_data_comparison.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced data comparison
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="running-unit-tests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running unit tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="querying_suites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Querying for test suites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="best-practices.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing best practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade utPLSQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Reporting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reporters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using reporters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="coverage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code coverage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exception-reporting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error handling and reporting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/project-details.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/support.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/authors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Expectations</h1>

<p><img alt="version" src="https://img.shields.io/badge/version-v3.1.14.4206--develop-blue.svg" /></p>
<h2 id="expectation-concepts">Expectation concepts<a class="headerlink" href="#expectation-concepts" title="Permanent link">&para;</a></h2>
<p>Validation of the code under test (the tested logic of procedure/function etc.) is performed by comparing the actual data against the expected data.</p>
<p>utPLSQL uses expectations and matchers to perform the check on the data.</p>
<p>Example of an expectation
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">begin</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;the tested value&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="s1">&#39;the expected value&#39;</span><span class="p">);</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>FAILURE
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  Actual: &#39;the tested value&#39; (varchar2) was expected to equal: &#39;the expected value&#39; (varchar2)
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>  at &quot;anonymous block&quot;, line 2
</code></pre></div></p>
<p>Expectation is a combination of:</p>
<ul>
<li>the expected value</li>
<li>optional custom message for the expectation </li>
<li>the matcher used to perform comparison</li>
<li>the matcher parameters (actual value), depending on the matcher type</li>
</ul>
<p>Matcher defines the comparison operation to be performed on expected (and actual) value.
Pseudo-code:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">a_message</span><span class="w"> </span><span class="err">{</span><span class="n">varchar2</span><span class="err">}</span><span class="p">]</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">a_message</span><span class="w"> </span><span class="err">{</span><span class="n">varchar2</span><span class="err">}</span><span class="p">]</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Expectations provide two variants of syntax that you can use. Both variants are functionally-equal but give different usage flexibility.  </p>
<p>Syntax where matcher is passed as parameter to the expectation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">  </span><span class="c1">-- example</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_null</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Shortcut syntax, where matcher is directly part of expectation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="p">;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_</span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="p">;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span><span class="c1">--example</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_null</span><span class="p">();</span>
</code></pre></div></td></tr></table></div></p>
<p>When using shortcut syntax you don't need to surround matcher with brackets. Shortcut syntax is provided for convenience.</p>
<p>If you would like to perform more dynamic checks in your code, you could pass the matcher into a procedure like in the below example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">declare</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">do_check</span><span class="p">(</span><span class="w"> </span><span class="n">p_actual</span><span class="w"> </span><span class="n">varchar2</span><span class="p">,</span><span class="w"> </span><span class="n">p_matcher</span><span class="w"> </span><span class="n">ut_matcher</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">p_actual</span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">p_matcher</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="k">begin</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">  </span><span class="n">do_check</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">equal</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">  </span><span class="n">do_check</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Alibaba&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">match</span><span class="p">(</span><span class="s1">&#39;ali&#39;</span><span class="p">,</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>FAILURE
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  Actual: &#39;a&#39; (varchar2) was expected to equal: &#39;b&#39; (varchar2)
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>  at &quot;anonymous block&quot;, line 7
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>SUCCESS
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>  Actual: &#39;Alibaba&#39; (varchar2) was expected to match: &#39;ali&#39; , modifiers &#39;i&#39;
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to keep the document brief, the examples in the document are only using the standalone expectations syntax.  </p>
</div>
<h2 id="using-expectations">Using expectations<a class="headerlink" href="#using-expectations" title="Permanent link">&para;</a></h2>
<p>There are two ways to use expectations:
- by invoking utPLSQL framework to execute suite(s) of utPLSQL tests<br />
- without invoking the utPLSQL framework - running expectations standalone</p>
<h2 id="running-expectations-within-utplsql-framework">Running expectations within utPLSQL framework<a class="headerlink" href="#running-expectations-within-utplsql-framework" title="Permanent link">&para;</a></h2>
<p>When expectations are run as a part of a test suite, the framework tracks:</p>
<ul>
<li>status of each expectation </li>
<li>outcomes (messages) produced by each expectation</li>
<li>call stack to each expectation</li>
</ul>
<p>In this case:</p>
<ul>
<li>expectation results of are not sent directly to <code>dbms_output</code></li>
<li>utPLSQL Reporters used when running suite decide on how the expectation results are formatted and displayed    </li>
</ul>
<p>Example of test suite with an expectation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_divide</span><span class="w"> </span><span class="k">as</span><span class="w"> </span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">  </span><span class="c1">--%suite(Divide two numbers)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">  </span><span class="c1">--%test(Returns result when divisor is not zero)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">divide_6_by_2</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">  </span><span class="c1">--%test(Throws exception when divisor is zero)</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">  </span><span class="c1">--%throws(zero_divide)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">divide_by_0_throws</span><span class="p">;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="o">/</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_divide</span><span class="w"> </span><span class="k">as</span><span class="w"> </span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">divide_6_by_2</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">6</span><span class="o">/</span><span class="mi">2</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">divide_by_0_throws</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">6</span><span class="o">/</span><span class="mi">0</span><span class="p">).</span><span class="n">to_be_not_null</span><span class="p">();</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="o">/</span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_divide&#39;</span><span class="p">);</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="k">drop</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_divide</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Produces following outputs:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Package TEST_DIVIDE compiled
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>Package Body TEST_DIVIDE compiled
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Divide two numbers
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>  Returns result when divisor is not zero [.003 sec]
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>  Throws exception when divisor is zero [.003 sec]
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>Finished in .009774 seconds
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>2 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>PL/SQL procedure successfully completed.
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>Package TEST_DIVIDE dropped.
</code></pre></div></p>
<p>Please read about different options for <a href="running-unit-tests.html">running test suites</a>.</p>
<h2 id="running-expectations-outside-utplsql-framework">Running expectations outside utPLSQL framework<a class="headerlink" href="#running-expectations-outside-utplsql-framework" title="Permanent link">&para;</a></h2>
<p>When expectations are invoked outside of utPLSQL framework the outputs from expectations are redirected straight to <code>dbms_output</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The output from expectation contains call stack trace only when expectation fails.<br>                                     <br />
Source code of the line which called the expectation is only reported when the line is part of in-database code (package) and the user calling expectation has privileges to see that source code.</p>
</div>
<div class="admonition warning">
<p class="admonition-title"><strong>Important</strong></p>
<p>Please do not use expectations as part of your production code. They are not designed to be used as part of your code. Expectations are meant to be used only as part of your day-to-day testing activities.</p>
</div>
<h2 id="matchers">Matchers<a class="headerlink" href="#matchers" title="Permanent link">&para;</a></h2>
<p>utPLSQL provides the following matchers to perform checks on the expected and actual values.  </p>
<ul>
<li><code>be_between( a_upper_bound {data-type}, a_lower_bound {data-type} )</code></li>
<li><code>be_empty()</code></li>
<li><code>be_false()</code></li>
<li><code>be_greater_than( a_expected {data-type} )</code></li>
<li><code>be_greater_or_equal( a_expected {data-type} )</code></li>
<li><code>be_less_or_equal( a_expected {data-type} )</code></li>
<li><code>be_less_than( a_expected {data-type} )</code></li>
<li><code>be_like( a_mask {varchar2} [, a_escape_char {varchar2}] )</code></li>
<li><code>be_not_null()</code></li>
<li><code>be_null()</code></li>
<li><code>be_true()</code></li>
<li><code>equal( a_expected {data-type} [, a_nulls_are_equal {boolean}] )</code></li>
<li><code>contain( a_expected {data-type})</code></li>
<li><code>have_count( a_expected {integer} )</code></li>
<li><code>match( a_patter {varchar2} [, a_modifiers {varchar2}] )</code></li>
</ul>
<h2 id="providing-a-custom-message">Providing a custom message<a class="headerlink" href="#providing-a-custom-message" title="Permanent link">&para;</a></h2>
<p>You can provide a custom failure message by passing it as the second parameter to the expectation.
<code>ut.expect( a_actual {data-type}, a_message {varchar2} ).to_{matcher}</code></p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">exec</span><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;supercat&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;checked superhero-animal was not a dog&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="s1">&#39;superdog&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>FAILURE
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>  &quot;checked superhero-animal was not a dog&quot;
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>  Actual: &#39;supercat&#39; (varchar2) was expected to equal: &#39;superdog&#39; (varchar2)
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>  at &quot;anonymous block&quot;, line 1
</code></pre></div>
If the message is provided, it is being added to the normal failure message returned by the matcher.
This is mostly useful when your expectations accept dynamic content, as you can provide additional context to make failing test results more readable.</p>
<p>In most cases, there is no need to provide custom message to expectation. This is because utPLSQL identifies:</p>
<ul>
<li>The test used to execute the expectation</li>
<li>The line number where the expectation is placed in your test code</li>
<li>The line text of the expectation</li>
</ul>
<p>Custom message is useful, if your expectation is placed in a shared procedure to perform a check and your test is using the procedure multiple times.</p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">shared_expectation_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">  </span><span class="c1">--%suite</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">  </span><span class="c1">--%test</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">the_test</span><span class="p">;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="o">/</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">shared_expectation_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">table_is_empty</span><span class="p">(</span><span class="n">p_table_name</span><span class="w"> </span><span class="n">varchar2</span><span class="p">)</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">    </span><span class="n">l_count</span><span class="w"> </span><span class="nb">integer</span><span class="p">;</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">    </span><span class="k">execute</span><span class="w"> </span><span class="k">immediate</span><span class="w"> </span><span class="s1">&#39;select count(*) from &#39;</span><span class="o">||</span><span class="n">p_table_name</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">l_count</span><span class="p">;</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_count</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Checking table &#39;</span><span class="o">||</span><span class="n">p_table_name</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">the_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">    </span><span class="n">table_is_empty</span><span class="p">(</span><span class="s1">&#39;ALL_USERS&#39;</span><span class="p">);</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="w">    </span><span class="n">table_is_empty</span><span class="p">(</span><span class="s1">&#39;ALL_TABLES&#39;</span><span class="p">);</span>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="o">/</span>
<a id="__codelineno-11-23" name="__codelineno-11-23"></a>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;shared_expectation_test&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>shared_expectation_test
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>  the_test [.064 sec] (FAILED - 1)
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>Failures:
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>  1) the_test
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>      &quot;Checking table ALL_USERS&quot;
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>      Actual: 28 (number) was expected to equal: 0 (number)
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>      at &quot;UT3_USER.SHARED_EXPECTATION_TEST.TABLE_IS_EMPTY&quot;, line 6 ut.expect( l_count, &#39;Checking table &#39;||p_table_name ).to_equal(0);
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>      at &quot;UT3_USER.SHARED_EXPECTATION_TEST.THE_TEST&quot;, line 11
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>      &quot;Checking table ALL_TABLES&quot;
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>      Actual: 55 (number) was expected to equal: 0 (number)
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>      at &quot;UT3_USER.SHARED_EXPECTATION_TEST.TABLE_IS_EMPTY&quot;, line 6 ut.expect( l_count, &#39;Checking table &#39;||p_table_name ).to_equal(0);
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>      at &quot;UT3_USER.SHARED_EXPECTATION_TEST.THE_TEST&quot;, line 12
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>Finished in .066344 seconds
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>1 tests, 1 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>In the tests results window you can see the list of failed expectations for a test as well as:</p>
<ul>
<li>the additional message for expectation</li>
<li>the reason why the expectation failed</li>
<li>the line number of the expectation</li>
<li>the line text of the expectations</li>
<li>the call stack for the expectation (in the example it's the lines that called the procedure <code>table_is_empty</code>)</li>
</ul>
<h2 id="negating-a-matcher">Negating a matcher<a class="headerlink" href="#negating-a-matcher" title="Permanent link">&para;</a></h2>
<p>Expectations provide a very convenient way to perform a check on a negated matcher.</p>
<p>Syntax to check for matcher evaluating to true:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="p">;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Syntax to check for matcher evaluating to false:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">begin</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_</span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="p">;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">a_actual</span><span class="w"> </span><span class="err">{</span><span class="k">data</span><span class="o">-</span><span class="k">type</span><span class="err">}</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="err">{</span><span class="n">matcher</span><span class="err">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>If a matcher evaluated to NULL, then both <code>to_</code> and <code>not_to</code> will cause the expectation to report failure.</p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="k">declare</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w"> </span><span class="nb">boolean</span><span class="p">;</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="k">begin</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_true</span><span class="p">();</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_true</span><span class="p">();</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>FAILURE
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>  Actual: NULL (boolean) was expected to be true
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>FAILURE
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>  Actual: NULL (boolean) was expected not to be true
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>  at &quot;anonymous block&quot;, line 5
</code></pre></div>
Since NULL is neither <em>true</em> nor <em>false</em>, both expectations will report failure.</p>
<h2 id="supported-data-types">Supported data types<a class="headerlink" href="#supported-data-types" title="Permanent link">&para;</a></h2>
<p>The matrix below illustrates the data types supported by different matchers.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Matcher</th>
<th style="text-align: center;">blob</th>
<th style="text-align: center;">boolean</th>
<th style="text-align: center;">clob</th>
<th style="text-align: center;">date</th>
<th style="text-align: center;">number</th>
<th style="text-align: center;">timestamp</th>
<th style="text-align: center;">timestamp<br>with<br>timezone</th>
<th style="text-align: center;">timestamp<br>with<br>local<br>timezone</th>
<th style="text-align: center;">varchar2</th>
<th style="text-align: center;">interval<br>year<br>to<br>month</th>
<th style="text-align: center;">interval<br>day<br>to<br>second</th>
<th style="text-align: center;">cursor</th>
<th style="text-align: center;">nested<br>table<br>/ varray</th>
<th style="text-align: center;">object</th>
<th style="text-align: center;">json</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>be_not_null</strong></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_null</strong></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_false</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_true</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_greater_than</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_greater_or_equal</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_less_or_equal</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_less_than</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_between</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>equal</strong></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: center;"><strong>contain</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>match</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_like</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_empty</strong></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: center;"><strong>have_count</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_within().of_()</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><strong>be_within_pct().of_()</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h2 id="expecting-exceptions">Expecting exceptions<a class="headerlink" href="#expecting-exceptions" title="Permanent link">&para;</a></h2>
<p>Testing is not limited to checking for happy-path scenarios. When writing tests, you often want to validate that in specific scenarios, an exception is thrown.</p>
<p>Use the <code>--%throws</code> annotation, to test for expected exceptions. </p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span>
<span class="normal"><a href="#__codelineno-17-22">22</a></span>
<span class="normal"><a href="#__codelineno-17-23">23</a></span>
<span class="normal"><a href="#__codelineno-17-24">24</a></span>
<span class="normal"><a href="#__codelineno-17-25">25</a></span>
<span class="normal"><a href="#__codelineno-17-26">26</a></span>
<span class="normal"><a href="#__codelineno-17-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">divide</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="n">varchar2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">varchar2</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="k">begin</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="p">;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="o">/</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">test_divide</span><span class="w"> </span><span class="k">as</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w">  </span><span class="c1">--%suite(Divide function)</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="w">  </span><span class="c1">--%test(Throws divisor equal)</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">  </span><span class="c1">--%throws(-01476)</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raises_divisor_exception</span><span class="p">;</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="k">end</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="o">/</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">test_divide</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">raises_divisor_exception</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="nb">integer</span><span class="p">;</span>
<a id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">divide</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-17-23" name="__codelineno-17-23"></a>
<a id="__codelineno-17-24" name="__codelineno-17-24"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-17-25" name="__codelineno-17-25"></a><span class="o">/</span>
<a id="__codelineno-17-26" name="__codelineno-17-26"></a>
<a id="__codelineno-17-27" name="__codelineno-17-27"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;test_divide&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Divide function
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>  Throws divisor equal [.007 sec]
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>Finished in .009229 seconds
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>1 tests, 0 failed, 0 errored, 0 disabled, 0 warning(s)
</code></pre></div></p>
<p>For more details see documentation of the <a href="annotations.html#throws"><code>--%throws</code> annotation.</a>  </p>
<h2 id="matchers_1">Matchers<a class="headerlink" href="#matchers_1" title="Permanent link">&para;</a></h2>
<p>You can choose different matchers to validate that your PL/SQL code is working as expected.</p>
<h3 id="be_between">be_between<a class="headerlink" href="#be_between" title="Permanent link">&para;</a></h3>
<p>Validates that the actual value is between the lower and upper bound.</p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">declare</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="n">l_timestamp</span><span class="w">     </span><span class="k">timestamp</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">current_timestamp</span><span class="p">;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">  </span><span class="n">l_timestamp_tz</span><span class="w">  </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">systimestamp</span><span class="p">;</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span><span class="n">l_timestamp_ltz</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">local</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">systimestamp</span><span class="p">;</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">  </span><span class="n">l_interval_ds</span><span class="w">   </span><span class="nb">interval</span><span class="w"> </span><span class="k">day</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">second</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">second</span><span class="p">;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">  </span><span class="n">l_interval_ym</span><span class="w">   </span><span class="nb">interval</span><span class="w"> </span><span class="k">year</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">month</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">year</span><span class="p">;</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="k">begin</span>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_between</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_between</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_between</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">  </span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="p">,</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_timestamp</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="n">l_timestamp</span><span class="p">,</span><span class="w">  </span><span class="n">l_timestamp</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">systimestamp</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="n">l_timestamp_tz</span><span class="p">,</span><span class="w"> </span><span class="n">systimestamp</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">systimestamp</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="n">l_timestamp_ltz</span><span class="p">,</span><span class="w"> </span><span class="n">l_timestamp_ltz</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_interval_ds</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;0.1&#39;</span><span class="w"> </span><span class="k">second</span><span class="p">,</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">day</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_interval_ym</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="w"> </span><span class="k">month</span><span class="p">,</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="w"> </span><span class="k">year</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Abb&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_between</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Aba&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Abc&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-19" name="__codelineno-19-19"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>SUCCESS
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>  Actual: 3 (number) was expected to be between: 1  and 3 
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>FAILURE
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>  Actual: 5 (number) was expected to be between: 1  and 3 
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>  at &quot;anonymous block&quot;, line 9
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>FAILURE
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>  Actual: 3 (number) was expected not to be between: 1  and 3 
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>  at &quot;anonymous block&quot;, line 10
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>SUCCESS
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>  Actual: 5 (number) was expected not to be between: 1  and 3 
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>SUCCESS
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>  Actual: 2019-07-07T21:25:27 (date) was expected to be between: 2019-07-07T21:25:27  and 2019-07-08T21:25:27 
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>SUCCESS
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>  Actual: 2019-07-07T22:25:27.701546000 (timestamp) was expected to be between: 2019-07-07T22:25:27.701546000  and 2019-07-07T22:25:27.701546000 
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>SUCCESS
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>  Actual: 2019-07-07T21:25:27.705768000 +00:00 (timestamp with time zone) was expected to be between: 2019-07-07T21:25:27.701596000 +00:00  and 2019-07-07T21:25:27.705808000 +00:00 
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a>FAILURE
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>  The matcher &#39;be between&#39; cannot be used with data type (timestamp with time zone).
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a>  at &quot;anonymous block&quot;, line 15
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a>SUCCESS
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>  Actual: +000000000 00:00:01.000000000 (interval day to second) was expected to be between: +000000000 00:00:00.100000000  and +000000001 00:00:00.000000000 
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a>SUCCESS
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a>  Actual: +000000001-00 (interval year to month) was expected to be between: +000000001-00  and +000000012-00 
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a>SUCCESS
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>  Actual: &#39;Abb&#39; (varchar2) was expected to be between: &#39;Aba&#39;  and &#39;Abc&#39;
</code></pre></div></p>
<h3 id="be_empty">be_empty<a class="headerlink" href="#be_empty" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the provided dataset is empty.</p>
<p>Can be used with <code>BLOB</code>,<code>CLOB</code>, <code>refcursor</code> or <code>nested table</code>/<code>varray</code> passed as <code>ANYDATA</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>BLOB/CLOB that is initialized is not NULL but it is actually equal to <code>empty_blob()</code>/<code>empty_clob()</code>.</p>
</div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="k">declare</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">  </span><span class="n">l_cursor</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="k">begin</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_empty</span><span class="p">();</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="n">ut_varchar2_list</span><span class="p">())</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_empty</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">empty_clob</span><span class="p">()</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_empty</span><span class="p">();</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">empty_blob</span><span class="p">()</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_empty</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_empty</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>SUCCESS
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>  Actual: (refcursor [ count = 0 ])
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>      Data-types:
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>      &lt;DUMMY&gt;VARCHAR2&lt;/DUMMY&gt;
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>      Data:
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>   was expected to be empty
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>SUCCESS
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>  Actual: (ut3.ut_varchar2_list [ count = 0 ])
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>      Data-types:
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>      Data:
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>   was expected to be empty
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>FAILURE
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>  Actual: EMPTY (clob) was expected not to be empty
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>  at &quot;anonymous block&quot;, line 7
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>FAILURE
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>  Actual: EMPTY (blob) was expected not to be empty
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>  at &quot;anonymous block&quot;, line 8
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>FAILURE
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>  The matcher &#39;be empty&#39; cannot be used with data type (number).
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>  at &quot;anonymous block&quot;, line 9
</code></pre></div></p>
<h3 id="be_false">be_false<a class="headerlink" href="#be_false" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the provided value is false.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">begin</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_false</span><span class="p">();</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_false</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_false</span><span class="p">();</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_false</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>SUCCESS
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>  Actual: FALSE (boolean) was expected to be false
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>FAILURE
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>  Actual: TRUE (boolean) was expected to be false
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>FAILURE
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>  Actual: FALSE (boolean) was expected not to be false
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>SUCCESS
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>  Actual: TRUE (boolean) was expected not to be false
</code></pre></div></p>
<h3 id="be_greater_or_equal">be_greater_or_equal<a class="headerlink" href="#be_greater_or_equal" title="Permanent link">&para;</a></h3>
<p>Checks if the actual value is greater or equal than the expected.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">begin</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_greater_or_equal</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_greater_or_equal</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_greater_or_equal</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_greater_or_equal</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>SUCCESS
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>  Actual: 2019-07-07T22:43:29 (date) was expected to be greater or equal: 2019-07-06T22:43:29 (date)
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>FAILURE
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>  Actual: 2019-07-07T22:43:29 (date) was expected to be greater or equal: 2019-07-08T22:43:29 (date)
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>FAILURE
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>  Actual: 2019-07-07T22:43:29 (date) was expected not to be greater or equal: 2019-07-06T22:43:29 (date)
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>SUCCESS
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>  Actual: 2019-07-07T22:43:29 (date) was expected not to be greater or equal: 2019-07-08T22:43:29 (date)
</code></pre></div></p>
<h3 id="be_greater_than">be_greater_than<a class="headerlink" href="#be_greater_than" title="Permanent link">&para;</a></h3>
<p>Checks if the actual value is greater than the expected.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span>
<span class="normal"><a href="#__codelineno-27-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">begin</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_greater_than</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_greater_than</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_greater_than</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_greater_than</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>SUCCESS
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>  Actual: 2 (number) was expected to be greater than: 1 (number)
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>FAILURE
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>  Actual: 0 (number) was expected to be greater than: 1 (number)
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>FAILURE
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>  Actual: 2 (number) was expected not to be greater than: 1 (number)
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>SUCCESS
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>  Actual: 0 (number) was expected not to be greater than: 1 (number)
</code></pre></div></p>
<h3 id="be_less_or_equal">be_less_or_equal<a class="headerlink" href="#be_less_or_equal" title="Permanent link">&para;</a></h3>
<p>Checks if the actual value is less or equal than the expected.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span>
<span class="normal"><a href="#__codelineno-29-5">5</a></span>
<span class="normal"><a href="#__codelineno-29-6">6</a></span>
<span class="normal"><a href="#__codelineno-29-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="k">begin</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_less_or_equal</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_less_or_equal</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_less_or_equal</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_less_or_equal</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>SUCCESS
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>  Actual: 3 (number) was expected to be less or equal: 3 (number)
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>FAILURE
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>  Actual: 4 (number) was expected to be less or equal: 3 (number)
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>FAILURE
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>  Actual: 3 (number) was expected not to be less or equal: 3 (number)
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>SUCCESS
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>  Actual: 4 (number) was expected not to be less or equal: 3 (number)
</code></pre></div></p>
<h3 id="be_less_than">be_less_than<a class="headerlink" href="#be_less_than" title="Permanent link">&para;</a></h3>
<p>Checks if the actual value is less than the expected.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span>
<span class="normal"><a href="#__codelineno-31-4">4</a></span>
<span class="normal"><a href="#__codelineno-31-5">5</a></span>
<span class="normal"><a href="#__codelineno-31-6">6</a></span>
<span class="normal"><a href="#__codelineno-31-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="k">begin</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_less_than</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_less_than</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_less_than</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_less_than</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>FAILURE
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>  Actual: 3 (number) was expected to be less than: 2 (number)
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>  at &quot;anonymous block&quot;, line 2
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>SUCCESS
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>  Actual: 0 (number) was expected to be less than: 2 (number)
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>SUCCESS
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>  Actual: 3 (number) was expected not to be less than: 2 (number)
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>FAILURE
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>  Actual: 0 (number) was expected not to be less than: 2 (number)
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>  at &quot;anonymous block&quot;, line 5
</code></pre></div></p>
<h3 id="be_like">be_like<a class="headerlink" href="#be_like" title="Permanent link">&para;</a></h3>
<p>Validates that the actual value is like the expected expression.</p>
<p>Syntax:</p>
<p><code>ut.expect( a_actual ).to_be_like( a_mask [, a_escape_char] )</code></p>
<p>Parameters <code>a_mask</code> and <code>a_escape_char</code> represent valid parameters of the <a href="https://docs.oracle.com/database/121/SQLRF/conditions007.htm#SQLRF52142">Oracle LIKE condition</a>.</p>
<p>If you use Oracle Database version 11.2.0.4, you may run into Oracle Bug 14402514: WRONG RESULTS WITH LIKE ON CLOB USING ESCAPE CHARACTER. In this case we recommend to use <code>match</code> instead of <code>be_like</code>.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span>
<span class="normal"><a href="#__codelineno-33-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">begin</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lorem_impsum&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_like</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;%rem%&#39;</span><span class="p">);</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lorem_impsum&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_like</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;%rem\_i%&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;\&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lorem_impsum&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_like</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lor_m%&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lorem_impsum&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_like</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;%rem%&#39;</span><span class="p">);</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;Lorem_impsum&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_like</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;%reM%&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>SUCCESS
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>  Actual: &#39;Lorem_impsum&#39; (varchar2) was expected to be like: &#39;%rem%&#39; 
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>SUCCESS
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>  Actual: &#39;Lorem_impsum&#39; (varchar2) was expected to be like: &#39;%rem\_i%&#39; , escape &#39;\&#39;
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>SUCCESS
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>  Actual: &#39;Lorem_impsum&#39; (varchar2) was expected to be like: &#39;Lor_m%&#39; 
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>FAILURE
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>  Actual: &#39;Lorem_impsum&#39; (varchar2) was expected not to be like: &#39;%rem%&#39; 
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>  at &quot;anonymous block&quot;, line 5
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>SUCCESS
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>  Actual: &#39;Lorem_impsum&#39; (varchar2) was expected not to be like: &#39;%reM%&#39; 
</code></pre></div></p>
<h3 id="be_not_null">be_not_null<a class="headerlink" href="#be_not_null" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the actual value is not null.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span>
<span class="normal"><a href="#__codelineno-35-5">5</a></span>
<span class="normal"><a href="#__codelineno-35-6">6</a></span>
<span class="normal"><a href="#__codelineno-35-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_not_null</span><span class="p">();</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_not_null</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;ABC&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_not_null</span><span class="p">();</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_not_null</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>SUCCESS
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>  Actual: &#39;ABC&#39; (clob) was expected to be not null
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>FAILURE
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>  Actual: NULL (clob) was expected to be not null
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>FAILURE
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>  Actual: &#39;ABC&#39; (clob) was expected not to be not null
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>SUCCESS
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>  Actual: NULL (varchar2) was expected not to be not null
</code></pre></div></p>
<h3 id="be_null">be_null<a class="headerlink" href="#be_null" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the actual value is null.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span>
<span class="normal"><a href="#__codelineno-37-6">6</a></span>
<span class="normal"><a href="#__codelineno-37-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="k">begin</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_null</span><span class="p">();</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_null</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_null</span><span class="p">();</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_null</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>SUCCESS
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>  Actual: NULL (varchar2) was expected to be null
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>FAILURE
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>  Actual: 0 (number) was expected to be null
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>  at &quot;anonymous block&quot;, line 3
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>FAILURE
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>  Actual: NULL (varchar2) was expected not to be null
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>SUCCESS
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>  Actual: 0 (number) was expected not to be null
</code></pre></div></p>
<h3 id="be_true">be_true<a class="headerlink" href="#be_true" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the provided value is true.</p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span>
<span class="normal"><a href="#__codelineno-39-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="k">begin</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_true</span><span class="p">();</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">be_true</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_be_true</span><span class="p">();</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">be_true</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>FAILURE
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>  Actual: FALSE (boolean) was expected to be true
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>  at &quot;anonymous block&quot;, line 2
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>SUCCESS
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>  Actual: TRUE (boolean) was expected to be true
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>SUCCESS
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>  Actual: FALSE (boolean) was expected not to be true
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>FAILURE
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>  Actual: TRUE (boolean) was expected not to be true
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>  at &quot;anonymous block&quot;, line 5
</code></pre></div></p>
<h3 id="have_count">have_count<a class="headerlink" href="#have_count" title="Permanent link">&para;</a></h3>
<p>Unary matcher that validates if the provided dataset count is equal to expected value.</p>
<p>Can be used with <code>refcursor</code>, <code>json</code> or <code>table type</code></p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-41-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-41-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-41-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-41-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-41-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-41-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-41-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-41-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-41-10">10</a></span>
<span class="normal"><a href="#__codelineno-41-11">11</a></span>
<span class="normal"><a href="#__codelineno-41-12">12</a></span>
<span class="normal"><a href="#__codelineno-41-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">declare</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">  </span><span class="n">l_cursor</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">  </span><span class="n">l_collection</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="k">begin</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="p">).</span><span class="n">to_have_count</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">xmltable</span><span class="p">(</span><span class="s1">&#39;1 to 5&#39;</span><span class="p">);</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_cursor</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="n">have_count</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">  </span><span class="n">l_collection</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_collection</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_have_count</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_collection</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="n">have_count</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>SUCCESS
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>  Actual: (refcursor [ count = 10 ]) was expected to have [ count = 10 ]
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>FAILURE
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>  Actual: (refcursor [ count = 5 ]) was expected to have [ count = 10 ]
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>  at &quot;anonymous block&quot;, line 8
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>SUCCESS
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>  Actual: ut3.ut_varchar2_list [ count = 3 ] was expected not to have [ count = 10 ]
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>FAILURE
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>  Actual: ut3.ut_varchar2_list [ count = 3 ] was expected not to have [ count = 3 ]
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>  at &quot;anonymous block&quot;, line 11
</code></pre></div></p>
<h3 id="match">match<a class="headerlink" href="#match" title="Permanent link">&para;</a></h3>
<p>Validates that the actual value is matching the expected regular expression.</p>
<p>Syntax:</p>
<p><code>ut.expect( a_actual ).to_match( a_pattern [, a_modifiers] );</code></p>
<p>Parameters <code>a_pattern</code> and <code>a_modifiers</code> represent a valid regexp pattern accepted by <a href="https://docs.oracle.com/database/121/SQLRF/conditions007.htm#SQLRF00501">Oracle REGEXP_LIKE condition</a></p>
<p>Usage:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span>
<span class="normal"><a href="#__codelineno-43-4">4</a></span>
<span class="normal"><a href="#__codelineno-43-5">5</a></span>
<span class="normal"><a href="#__codelineno-43-6">6</a></span>
<span class="normal"><a href="#__codelineno-43-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="k">begin</span><span class="w"> </span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;123-456-ABcd&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_match</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;\d{3}-\d{3}-[a-z]{4}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;some value&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">to_</span><span class="p">(</span><span class="w"> </span><span class="k">match</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;^some.*&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;123-456-ABcd&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_match</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;\d{3}-\d{3}-[a-z]{4}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;i&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;some value&#39;</span><span class="w"> </span><span class="p">).</span><span class="n">not_to</span><span class="p">(</span><span class="w"> </span><span class="k">match</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;^some.*&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>SUCCESS
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>  Actual: &#39;123-456-ABcd&#39; (varchar2) was expected to match: &#39;\d{3}-\d{3}-[a-z]{4}&#39; , modifiers &#39;i&#39;
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>SUCCESS
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>  Actual: &#39;some value&#39; (varchar2) was expected to match: &#39;^some.*&#39; 
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>FAILURE
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>  Actual: &#39;123-456-ABcd&#39; (varchar2) was expected not to match: &#39;\d{3}-\d{3}-[a-z]{4}&#39; , modifiers &#39;i&#39;
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>  at &quot;anonymous block&quot;, line 4
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>FAILURE
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>  Actual: &#39;some value&#39; (varchar2) was expected not to match: &#39;^some.*&#39; 
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>  at &quot;anonymous block&quot;, line 5
</code></pre></div></p>
<h3 id="equal">equal<a class="headerlink" href="#equal" title="Permanent link">&para;</a></h3>
<p>The <code>equal</code> matcher is very restrictive. Test using this matcher succeeds only when the compared data-types are exactly the same.
If you are comparing a <code>varchar2</code> to a <code>number</code>, it will fail even if the text contains the same numeric value as the number.
The matcher will also fail when comparing a <code>timestamp</code> to a <code>timestamp with timezone</code> data-type etc.</p>
<p>The matcher enables detection of data-type changes. 
If you expect your variable to be a number and it is now some other type, the test will fail and give you early indication of a potential problem.</p>
<p>To keep it simple, the <code>equal</code> matcher will only succeed if you compare apples to apples.</p>
<p>Syntax:</p>
<p><code>ut.expect( a_actual ).to_equal( a_expected [, a_nulls_are_equal])[.advanced_options]</code>
Example usage
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span>
<span class="normal"><a href="#__codelineno-45-12">12</a></span>
<span class="normal"><a href="#__codelineno-45-13">13</a></span>
<span class="normal"><a href="#__codelineno-45-14">14</a></span>
<span class="normal"><a href="#__codelineno-45-15">15</a></span>
<span class="normal"><a href="#__codelineno-45-16">16</a></span>
<span class="normal"><a href="#__codelineno-45-17">17</a></span>
<span class="normal"><a href="#__codelineno-45-18">18</a></span>
<span class="normal"><a href="#__codelineno-45-19">19</a></span>
<span class="normal"><a href="#__codelineno-45-20">20</a></span>
<span class="normal"><a href="#__codelineno-45-21">21</a></span>
<span class="normal"><a href="#__codelineno-45-22">22</a></span>
<span class="normal"><a href="#__codelineno-45-23">23</a></span>
<span class="normal"><a href="#__codelineno-45-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="k">declare</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="k">begin</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">  </span><span class="c1">--Arrange</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">  </span><span class="n">l_actual</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a dog&#39;</span><span class="p">;</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">  </span><span class="c1">--Assert</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;other_dog&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="w">  </span><span class="n">l_actual</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<a id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_nulls_are_equal</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-15" name="__codelineno-45-15"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-16" name="__codelineno-45-16"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-17" name="__codelineno-45-17"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">sysdate</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="k">current_timestamp</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-18" name="__codelineno-45-18"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="k">current_timestamp</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">systimestamp</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-19" name="__codelineno-45-19"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;varchar&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;varchar&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-20" name="__codelineno-45-20"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_blob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">to_blob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-21" name="__codelineno-45-21"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-22" name="__codelineno-45-22"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">to_blob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">to_clob</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-45-23" name="__codelineno-45-23"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-45-24" name="__codelineno-45-24"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>FAILURE
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>  Actual: &#39;a dog&#39; (varchar2) was expected to equal: &#39;other_dog&#39; (varchar2)
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>  at &quot;anonymous block&quot;, line 8
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>FAILURE
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>  Actual: &#39;a dog&#39; (varchar2) was expected to equal: NULL (varchar2)
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>  at &quot;anonymous block&quot;, line 9
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>FAILURE
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>  Actual (varchar2) cannot be compared to Expected (number) using matcher &#39;equal&#39;.
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>  at &quot;anonymous block&quot;, line 10
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a>SUCCESS
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>  Actual: NULL (varchar2) was expected to equal: NULL (varchar2)
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a>FAILURE
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a>  Actual: NULL (varchar2) was expected to equal: NULL (varchar2)
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a>  at &quot;anonymous block&quot;, line 14
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>FAILURE
<a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a>  Actual: NULL (varchar2) was expected not to equal: NULL (varchar2)
<a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a>  at &quot;anonymous block&quot;, line 15
<a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a>SUCCESS
<a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a>  Actual: 2019-07-07T22:50:21 (date) was expected to equal: 2019-07-07T22:50:21 (date)
<a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a>FAILURE
<a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a>  Actual (date) cannot be compared to Expected (timestamp with time zone) using matcher &#39;equal&#39;.
<a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a>  at &quot;anonymous block&quot;, line 17
<a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a>FAILURE
<a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a>  Actual: 2019-07-07T23:50:21.159268000 +01:00 (timestamp with time zone) was expected to equal: 2019-07-07T22:50:21.159296000 +00:00 (timestamp with time zone)
<a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a>  at &quot;anonymous block&quot;, line 18
<a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a>FAILURE
<a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a>  Actual (clob) cannot be compared to Expected (varchar2) using matcher &#39;equal&#39;.
<a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a>  at &quot;anonymous block&quot;, line 19
<a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a>SUCCESS
<a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a>  Actual: &#39;AA&#39; (blob) was expected to equal: &#39;AA&#39; (blob)
<a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a>SUCCESS
<a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a>  Actual: &#39;aa&#39; (clob) was expected to equal: &#39;aa&#39; (clob)
<a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a>FAILURE
<a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a>  Actual (blob) cannot be compared to Expected (clob) using matcher &#39;equal&#39;.
<a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a>  at &quot;anonymous block&quot;, line 22
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>by default, comparing NULL to NULL gives success</strong><br>
The <code>a_nulls_are_equal</code> parameter controls the behavior of a <code>null = null</code> comparison.<br>
To change the behavior of <code>NULL = NULL</code> comparison pass the <code>a_nulls_are_equal =&gt; false</code> to the <code>equal</code> matcher.  </p>
</div>
<h3 id="contain">contain<a class="headerlink" href="#contain" title="Permanent link">&para;</a></h3>
<p>This matcher supports only compound data-types comparison. It check if the actual set contains all values of expected subset.</p>
<p>When comparing data using the <code>contain</code> matcher, the data-types of columns for compared compound types must be exactly the same.</p>
<p>The matcher supports all advanced comparison options as <code>equal</code> like: <code>include</code> , <code>exclude</code>, <code>join_by</code> etc..</p>
<p>The matcher is successful when actual data set contains all of the values from expected results.</p>
<p>The matcher will cause a test to fail if actual data set does not contain some of expected values.</p>
<p><img alt="included_set" src="../images/venn21.gif" /></p>
<p><strong>Example 1.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="k">declare</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="k">begin</span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">  </span><span class="c1">--Arrange</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rn</span><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rn</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="w">  </span><span class="k">union</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">rownum</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rn</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="w">  </span><span class="c1">--Act</span>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">l_actual</span><span class="p">).</span><span class="n">to_contain</span><span class="p">(</span><span class="n">l_expected</span><span class="p">);</span>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>FAILURE
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>  Actual: refcursor [ count = 9 ] was expected to contain: refcursor [ count = 6 ]
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>  Diff:
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>  Rows: [ 3 differences ]
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>  Missing:  &lt;RN&gt;1&lt;/RN&gt;
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>  Missing:  &lt;RN&gt;2&lt;/RN&gt;
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>  Missing:  &lt;RN&gt;3&lt;/RN&gt;
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>  at &quot;anonymous block&quot;, line 11
</code></pre></div></p>
<p>When duplicate rows are present in expected data set, actual data set must also include the same amount of duplicates.</p>
<p><strong>Example 2.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span>
<span class="normal"><a href="#__codelineno-49-3">3</a></span>
<span class="normal"><a href="#__codelineno-49-4">4</a></span>
<span class="normal"><a href="#__codelineno-49-5">5</a></span>
<span class="normal"><a href="#__codelineno-49-6">6</a></span>
<span class="normal"><a href="#__codelineno-49-7">7</a></span>
<span class="normal"><a href="#__codelineno-49-8">8</a></span>
<span class="normal"><a href="#__codelineno-49-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="k">declare</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="k">begin</span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="w">  </span><span class="n">l_actual</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-49-8" name="__codelineno-49-8"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-49-9" name="__codelineno-49-9"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>FAILURE
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>  Actual: ut3.ut_varchar2_list [ count = 9 ] was expected to contain: ut3.ut_varchar2_list [ count = 4 ]
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>  Diff:
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>  Rows: [ 1 differences ]
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>  Missing:  &lt;UT_VARCHAR2_LIST&gt;2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>  at &quot;anonymous block&quot;, line 7
</code></pre></div></p>
<p>The negated version of <code>contain</code> ( <code>not_to_contain</code> ) is successful only when all values from expected set are not part of actual (they are disjoint and there is no overlap).</p>
<p><img alt="not_overlapping_set" src="../images/venn22.gif" /></p>
<p><strong>Example 3.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-51-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-51-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-51-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-51-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-51-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-51-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-51-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-51-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-51-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="k">declare</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="k">begin</span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;E&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-51-8" name="__codelineno-51-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-51-9" name="__codelineno-51-9"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-51-10" name="__codelineno-51-10"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>FAILURE
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>  Actual: ut3.ut_varchar2_list [ count = 3 ] was expected to contain: ut3.ut_varchar2_list [ count = 3 ]
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>  Diff:
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>  Rows: [ 1 differences ]
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a>  Missing:  &lt;UT_VARCHAR2_LIST&gt;E&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>  at &quot;anonymous block&quot;, line 7
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a>FAILURE
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a>  Actual: (ut3.ut_varchar2_list [ count = 3 ])
<a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a>      Data-types:
<a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a>      Data:
<a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;A&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;B&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;C&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
<a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a>   was expected not to contain:(ut3.ut_varchar2_list [ count = 3 ])
<a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a>      Data-types:
<a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a>      Data:
<a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;A&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;B&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;E&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
<a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a>  at &quot;anonymous block&quot;, line 8
</code></pre></div></p>
<p><strong>Example 4.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-53-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-53-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-53-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-53-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-53-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-53-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-53-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-53-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-53-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="k">declare</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="k">begin</span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-53-8" name="__codelineno-53-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-53-9" name="__codelineno-53-9"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-53-10" name="__codelineno-53-10"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>SUCCESS
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>  Actual: ut3.ut_varchar2_list [ count = 4 ] was expected to contain: ut3.ut_varchar2_list [ count = 3 ]
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>FAILURE
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>  Actual: (ut3.ut_varchar2_list [ count = 4 ])
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>      Data-types:
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>      Data:
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;A&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;B&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;C&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;D&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>   was expected not to contain:(ut3.ut_varchar2_list [ count = 3 ])
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>      Data-types:
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a>      Data:
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;A&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;B&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;D&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>  at &quot;anonymous block&quot;, line 8
</code></pre></div></p>
<p><strong>Example 5.</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-55-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-55-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-55-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-55-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-55-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-55-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-55-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-55-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-55-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="k">declare</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">;</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="k">begin</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;E&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;F&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_contain</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-55-9" name="__codelineno-55-9"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-55-10" name="__codelineno-55-10"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>FAILURE
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>  Actual: ut3.ut_varchar2_list [ count = 3 ] was expected to contain: ut3.ut_varchar2_list [ count = 3 ]
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a>  Diff:
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>  Rows: [ 3 differences ]
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>  Missing:  &lt;UT_VARCHAR2_LIST&gt;D&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>  Missing:  &lt;UT_VARCHAR2_LIST&gt;E&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>  Missing:  &lt;UT_VARCHAR2_LIST&gt;F&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>  at &quot;anonymous block&quot;, line 7
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>SUCCESS
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a>  Actual: (ut3.ut_varchar2_list [ count = 3 ])
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>      Data-types:
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a>      Data:
<a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;A&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;B&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;C&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
<a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a>   was expected not to contain:(ut3.ut_varchar2_list [ count = 3 ])
<a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a>      Data-types:
<a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a>      &lt;UT_VARCHAR2_LIST&gt;VARCHAR2&lt;/UT_VARCHAR2_LIST&gt;
<a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a>      Data:
<a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a>      &lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;D&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;E&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;&lt;ROW&gt;&lt;UT_VARCHAR2_LIST&gt;F&lt;/UT_VARCHAR2_LIST&gt;&lt;/ROW&gt;
</code></pre></div></p>
<h3 id="to_be_within-of">to_be_within of<a class="headerlink" href="#to_be_within-of" title="Permanent link">&para;</a></h3>
<p>Determines whether expected value is within range (tolerance) from another value.</p>
<p>The logical formual used for calcuating the matcher is: 
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>    result := ( abs( expected - actual ) &lt;= distance )
</code></pre></div>
The actual formula used for calculation is more complex to handle different data-types of expected/actual values as well as differnet types of distance value.
The matcher will fail if the <code>expected</code> and <code>actual</code> are more than <code>distance</code> apart from each other.
The matcher will fail if the dataypes of <code>expected</code> and <code>actual</code> are not the same.</p>
<p>The matcher works with data-types: <code>number</code>, <code>date</code>, <code>timestamp</code>, <code>timestamp with time zone</code>, <code>timestamp with local time zone</code>
The data-types of compared values must match exactly and if type does not match, the expectation will fail. </p>
<table>
<thead>
<tr>
<th style="text-align: center;">expected/actual<br>data-type</th>
<th style="text-align: center;">distance data-type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">number</td>
<td style="text-align: center;">number</td>
</tr>
<tr>
<td style="text-align: center;">date</td>
<td style="text-align: center;">interval day to second</td>
</tr>
<tr>
<td style="text-align: center;">date</td>
<td style="text-align: center;">interval year to month</td>
</tr>
<tr>
<td style="text-align: center;">timestamp</td>
<td style="text-align: center;">interval day to second</td>
</tr>
<tr>
<td style="text-align: center;">timestamp</td>
<td style="text-align: center;">interval year to month</td>
</tr>
<tr>
<td style="text-align: center;">timestamp with time zone</td>
<td style="text-align: center;">interval day to second</td>
</tr>
<tr>
<td style="text-align: center;">timestamp with time zone</td>
<td style="text-align: center;">interval year to month</td>
</tr>
<tr>
<td style="text-align: center;">timestamp with local time zone</td>
<td style="text-align: center;">interval day to second</td>
</tr>
<tr>
<td style="text-align: center;">timestamp with local time zone</td>
<td style="text-align: center;">interval year to month</td>
</tr>
</tbody>
</table>
<p>The distance must be expressed as a non-negative number or non-negative interval.</p>
<blockquote>
<p>Note:
Interval year-to-moth as a distance is giving sucess if the distance between the given dates/timestamps evaluates to value less or equal of the specified interval
Keep in mind that a checking for distance of <code>interval '0-1' year to month</code> will actuall be successful if the distance is less than a month and 15 days.
This is due to how oracle evaluates conversion between timestamp difference converted to <code>year to month interval</code>. 
The behavior is similar to a call to <code>months_between()</code> function with results rounded to full monts ie. round(months_between(date, date))</p>
</blockquote>
<p><strong>Example 1.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span>
<span class="normal"><a href="#__codelineno-58-2">2</a></span>
<span class="normal"><a href="#__codelineno-58-3">3</a></span>
<span class="normal"><a href="#__codelineno-58-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="k">begin</span>
<a id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">to_be_within</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">of_</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<a id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Example 2.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span>
<span class="normal"><a href="#__codelineno-59-2">2</a></span>
<span class="normal"><a href="#__codelineno-59-3">3</a></span>
<span class="normal"><a href="#__codelineno-59-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="k">begin</span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">to_be_within</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">of_</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>Failures:
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>  1) wihtin_test
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>      Actual: 3 (number) was expected to be within 1 of 5 (number)
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>      at &quot;UT3_DEVELOP.UT_BE_WITHIN.OF_&quot;, line 48 l_result.expectation.to_(l_result );        
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>      at &quot;UT3_DEVELOP.TEST_BETWNSTR.WIHTIN_TEST&quot;, line 5
</code></pre></div></p>
<p><strong>Example 3.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span>
<span class="normal"><a href="#__codelineno-61-2">2</a></span>
<span class="normal"><a href="#__codelineno-61-3">3</a></span>
<span class="normal"><a href="#__codelineno-61-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="k">begin</span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">sysdate</span><span class="p">).</span><span class="n">to_be_within</span><span class="p">(</span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="w"> </span><span class="k">day</span><span class="p">).</span><span class="n">of_</span><span class="p">(</span><span class="n">sysdate</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>Failures:
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>  1) wihtin_test
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>      Actual: 2020-06-07T13:32:58 (date) was expected to be within 1 day of 2020-06-09T13:32:58 (date)
<a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>      at &quot;UT3_DEVELOP.UT_BE_WITHIN.OF_&quot;, line 55 l_result.expectation.to_(l_result );    
<a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>      at &quot;UT3_DEVELOP.TEST_BETWNSTR.WIHTIN_TEST&quot;, line 5
</code></pre></div></p>
<h3 id="to_be_within_pct-of">to_be_within_pct of<a class="headerlink" href="#to_be_within_pct-of" title="Permanent link">&para;</a></h3>
<p>Determines whether actual value is within percentage range of expected value. 
The matcher only works with <code>number</code> data-type.</p>
<p>The percentage deviation (distance) must be expressed as a non-negative number.
The formula used for calcuation of expectation is:
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>  result := ( ( distance ) * expected &gt;= abs( expected - actual ) * 100 ) 
</code></pre></div></p>
<p><strong>Example 1.</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span>
<span class="normal"><a href="#__codelineno-64-2">2</a></span>
<span class="normal"><a href="#__codelineno-64-3">3</a></span>
<span class="normal"><a href="#__codelineno-64-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="k">begin</span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">9</span><span class="p">).</span><span class="n">to_be_within_pct</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="n">of_</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-64-4" name="__codelineno-64-4"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>SUCCESS
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>  Actual: 9 (number) was expected to be within 10 % of 10 (number)
</code></pre></div>
<h2 id="comparing-cursors-object-types-nested-tables-and-varrays">Comparing cursors, object types, nested tables and varrays<a class="headerlink" href="#comparing-cursors-object-types-nested-tables-and-varrays" title="Permanent link">&para;</a></h2>
<p>utPLSQL is capable of comparing compound data-types including:</p>
<ul>
<li>ref cursors </li>
<li>object types</li>
<li>nested table/varray types</li>
</ul>
<h3 id="notes-on-comparison-of-compound-data">Notes on comparison of compound data<a class="headerlink" href="#notes-on-comparison-of-compound-data" title="Permanent link">&para;</a></h3>
<ul>
<li>Compound data can contain elements of any data-type. This includes blob, clob, object type, nested table, varray or even a nested-cursor within a cursor.</li>
<li>Attributes in nested table and array types are compared as <strong>ordered lists of elements</strong>. If order of attributes in nested table and array differ, expectation will fail.</li>
<li>Columns in compound data are compared as <strong>ordered list of elements</strong> by default. Use <code>unordered_columns</code> option when order of columns in cursor is not relevant</li>
<li>Comparison of compound data is data-type aware. So a column <code>ID NUMBER</code> in a cursor is not the same as <code>ID VARCHAR2(100)</code>, even if they both hold the same numeric values.</li>
<li>Comparison of cursor columns containing <code>DATE</code> will only compare date part <strong>and ignore time</strong> by default. See <a href="#comparing-cursor-data-containing-date-fields">Comparing cursor data containing DATE fields</a> to check how to enable date-time comparison in cursors.</li>
<li>Comparison of cursor returning <code>TIMESTAMP</code> <strong>columns</strong> against cursor returning <code>TIMESTAMP</code> <strong>bind variables</strong> requires variables to be cast to proper precision. This is an Oracle SQL - PLSQL compatibility issue and usage of CAST is the only known workaround for now. See <a href="#comparing-cursor-data-containing-timestamp-bind-variables">Comparing cursor data containing TIMESTAMP bind variables</a> for examples.    </li>
<li>To compare nested table/varray type you need to convert it to <code>anydata</code> by using <code>anydata.convertCollection()</code>  </li>
<li>To compare object type you need to convert it to <code>anydata</code> by using <code>anydata.convertObject()</code>  </li>
<li>It is possible to compare PL/SQL records, collections, varrays and associative arrays. To compare this types of data, use cursor comparison feature of utPLSQL and TABLE operator in SQL query<ul>
<li>On Oracle 11g Release 2 - pipelined table functions are needed (see section <a href="https://oracle-base.com/articles/misc/pipelined-table-functions">Implicit (Shadow) Types in this artcile</a>)</li>
<li>On Oracle 12c and above - use <a href="https://oracle-base.com/articles/12c/using-the-table-operator-with-locally-defined-types-in-plsql-12cr1">TABLE function on nested tables/varrays/associative arrays of PL/SQL records</a> </li>
</ul>
</li>
<li>utPLSQL is not able to distinguish between NULL and whitespace-only column/attribute value when comparing compound data. This is due to Oracle limitation on of XMLType.<br />
  See <a href="https://github.com/utPLSQL/utPLSQL/issues/880">issue #880</a> for details. <em>Note: This behavior might be fixed in future releases, when utPLSQL is no longer depending on XMLType for compound data comparison.</em></li>
</ul>
<p>utPLSQL offers advanced data-comparison options, for comparing compound data-types. The options allow you to:</p>
<ul>
<li>define columns/attributes to exclude from comparison</li>
<li>define columns/attributes to include in comparison</li>
<li>and more ...</li>
</ul>
<p>For details on available options and how to use them, read the <a href="advanced_data_comparison.html">advanced data comparison</a> guide.   </p>
<h3 id="diff-functionality-for-compound-data-types">Diff functionality for compound data-types<a class="headerlink" href="#diff-functionality-for-compound-data-types" title="Permanent link">&para;</a></h3>
<p>When comparing compound data, utPLSQL will determine the difference between the expected and the actual data.
The diff includes:</p>
<ul>
<li>differences in column names, column positions and column data-type for cursor data</li>
<li>only data in columns/rows that differ</li>
</ul>
<p>The diff aims to make it easier to identify what is not expected in the actual data.</p>
<p>Consider the following expected cursor data</p>
<table>
<thead>
<tr>
<th style="text-align: center;">ID (NUMBER)</th>
<th style="text-align: center;">FIRST_NAME (VARCHAR2)</th>
<th style="text-align: center;">LAST_NAME (VARCHAR2)</th>
<th style="text-align: center;">SALARY (NUMBER)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">JACK</td>
<td style="text-align: center;">SPARROW</td>
<td style="text-align: center;">10000</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: center;">LUKE</td>
<td style="text-align: center;">SKYWALKER</td>
<td style="text-align: center;">1000</td>
</tr>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">TONY</td>
<td style="text-align: center;">STARK</td>
<td style="text-align: center;">1000000</td>
</tr>
</tbody>
</table>
<p>And the actual cursor data: </p>
<table>
<thead>
<tr>
<th style="text-align: center;"><del>GENDER (VARCHAR2)</del></th>
<th style="text-align: center;">FIRST_NAME (VARCHAR2)</th>
<th style="text-align: center;">LAST_NAME (VARCHAR2)</th>
<th style="text-align: center;">SALARY <em>(VARCHAR2)</em></th>
<th style="text-align: center;"><em>ID</em> (NUMBER)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">M</td>
<td style="text-align: center;">JACK</td>
<td style="text-align: center;">SPARROW</td>
<td style="text-align: center;"><strong>25000</strong></td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">M</td>
<td style="text-align: center;">TONY</td>
<td style="text-align: center;">STARK</td>
<td style="text-align: center;">1000000</td>
<td style="text-align: center;">3</td>
</tr>
<tr>
<td style="text-align: center;"><strong>F</strong></td>
<td style="text-align: center;"><strong>JESSICA</strong></td>
<td style="text-align: center;"><strong>JONES</strong></td>
<td style="text-align: center;"><strong>2345</strong></td>
<td style="text-align: center;"><strong>4</strong></td>
</tr>
<tr>
<td style="text-align: center;">M</td>
<td style="text-align: center;">LUKE</td>
<td style="text-align: center;">SKYWALKER</td>
<td style="text-align: center;">1000</td>
<td style="text-align: center;">2</td>
</tr>
</tbody>
</table>
<p>The two data-sets above have the following differences:</p>
<ul>
<li>column ID is misplaced (should be first column but is last)</li>
<li>column SALARY has data-type VARCHAR2 but should be NUMBER</li>
<li>column GENDER exists in actual but not in the expected (it is an Extra column)</li>
<li>data in column SALARY for row number 1 in actual is not matching expected </li>
<li>row number 2 in actual (ID=3) is not matching expected </li>
<li>row number 3 in actual (ID=4) is not matching expected</li>
<li>row number 4 in actual (ID=2) is not expected in results (Extra row in actual)  </li>
</ul>
<p>utPLSQL will report all of the above differences in a readable format to help you identify what is not correct in the compared dataset.</p>
<p>Below example illustrates, how utPLSQL will report such differences.<br />
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-66-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-66-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-66-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-66-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-66-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-66-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-66-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-66-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-66-10">10</a></span>
<span class="normal"><a href="#__codelineno-66-11">11</a></span>
<span class="normal"><a href="#__codelineno-66-12">12</a></span>
<span class="normal"><a href="#__codelineno-66-13">13</a></span>
<span class="normal"><a href="#__codelineno-66-14">14</a></span>
<span class="normal"><a href="#__codelineno-66-15">15</a></span>
<span class="normal"><a href="#__codelineno-66-16">16</a></span>
<span class="normal"><a href="#__codelineno-66-17">17</a></span>
<span class="normal"><a href="#__codelineno-66-18">18</a></span>
<span class="normal"><a href="#__codelineno-66-19">19</a></span>
<span class="normal"><a href="#__codelineno-66-20">20</a></span>
<span class="normal"><a href="#__codelineno-66-21">21</a></span>
<span class="normal"><a href="#__codelineno-66-22">22</a></span>
<span class="normal"><a href="#__codelineno-66-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="k">declare</span>
<a id="__codelineno-66-2" name="__codelineno-66-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-66-3" name="__codelineno-66-3"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-66-4" name="__codelineno-66-4"></a><span class="k">begin</span>
<a id="__codelineno-66-5" name="__codelineno-66-5"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span>
<a id="__codelineno-66-6" name="__codelineno-66-6"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JACK&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SPARROW&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-7" name="__codelineno-66-7"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">all</span>
<a id="__codelineno-66-8" name="__codelineno-66-8"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LUKE&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SKYWALKER&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-9" name="__codelineno-66-9"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">all</span>
<a id="__codelineno-66-10" name="__codelineno-66-10"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TONY&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STARK&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">100000</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-11" name="__codelineno-66-11"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-66-12" name="__codelineno-66-12"></a><span class="w">  </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="k">for</span>
<a id="__codelineno-66-13" name="__codelineno-66-13"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;M&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GENDER</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JACK&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SPARROW&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;25000&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-14" name="__codelineno-66-14"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">all</span>
<a id="__codelineno-66-15" name="__codelineno-66-15"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;M&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GENDER</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TONY&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STARK&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;100000&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-16" name="__codelineno-66-16"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">all</span>
<a id="__codelineno-66-17" name="__codelineno-66-17"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;F&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GENDER</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JESSICA&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JONES&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2345&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-18" name="__codelineno-66-18"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="k">all</span>
<a id="__codelineno-66-19" name="__codelineno-66-19"></a><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="s1">&#39;M&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">GENDER</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LUKE&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">FIRST_NAME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SKYWALKER&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LAST_NAME</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1000&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SALARY</span>
<a id="__codelineno-66-20" name="__codelineno-66-20"></a><span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-66-21" name="__codelineno-66-21"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">l_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">l_expected</span><span class="p">);</span>
<a id="__codelineno-66-22" name="__codelineno-66-22"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-66-23" name="__codelineno-66-23"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>FAILURE
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>  Actual: refcursor [ count = 4 ] was expected to equal: refcursor [ count = 3 ]
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a>  Diff:
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a>  Columns:
<a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a>    Column &lt;ID&gt; is misplaced. Expected position: 1, actual position: 4.
<a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a>    Column &lt;SALARY&gt; data-type is invalid. Expected: NUMBER, actual: VARCHAR2.
<a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a>    Column &lt;GENDER&gt; [position: 1, data-type: CHAR] is not expected in results.
<a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a>  Rows: [ 4 differences ]
<a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a>    Row No. 1 - Actual:   &lt;SALARY&gt;25000&lt;/SALARY&gt;
<a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a>    Row No. 1 - Expected: &lt;SALARY&gt;10000&lt;/SALARY&gt;
<a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a>    Row No. 2 - Actual:   &lt;FIRST_NAME&gt;TONY&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;STARK&lt;/LAST_NAME&gt;&lt;ID&gt;3&lt;/ID&gt;&lt;SALARY&gt;100000&lt;/SALARY&gt;
<a id="__codelineno-67-12" name="__codelineno-67-12" href="#__codelineno-67-12"></a>    Row No. 2 - Expected: &lt;ID&gt;2&lt;/ID&gt;&lt;FIRST_NAME&gt;LUKE&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;SKYWALKER&lt;/LAST_NAME&gt;&lt;SALARY&gt;1000&lt;/SALARY&gt;
<a id="__codelineno-67-13" name="__codelineno-67-13" href="#__codelineno-67-13"></a>    Row No. 3 - Actual:   &lt;FIRST_NAME&gt;JESSICA&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;JONES&lt;/LAST_NAME&gt;&lt;ID&gt;4&lt;/ID&gt;&lt;SALARY&gt;2345&lt;/SALARY&gt;
<a id="__codelineno-67-14" name="__codelineno-67-14" href="#__codelineno-67-14"></a>    Row No. 3 - Expected: &lt;ID&gt;3&lt;/ID&gt;&lt;FIRST_NAME&gt;TONY&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;STARK&lt;/LAST_NAME&gt;&lt;SALARY&gt;100000&lt;/SALARY&gt;
<a id="__codelineno-67-15" name="__codelineno-67-15" href="#__codelineno-67-15"></a>    Row No. 4 - Extra:    &lt;GENDER&gt;M&lt;/GENDER&gt;&lt;FIRST_NAME&gt;LUKE&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;SKYWALKER&lt;/LAST_NAME&gt;&lt;ID&gt;2&lt;/ID&gt;&lt;SALARY&gt;1000&lt;/SALARY&gt;
<a id="__codelineno-67-16" name="__codelineno-67-16" href="#__codelineno-67-16"></a>    Row No. 4 - Extra:    &lt;GENDER&gt;M&lt;/GENDER&gt;&lt;FIRST_NAME&gt;LUKE&lt;/FIRST_NAME&gt;&lt;LAST_NAME&gt;SKYWALKER&lt;/LAST_NAME&gt;&lt;ID&gt;2&lt;/ID&gt;&lt;SALARY&gt;1000&lt;/SALARY&gt;
<a id="__codelineno-67-17" name="__codelineno-67-17" href="#__codelineno-67-17"></a>  at &quot;anonymous block&quot;, line 21
</code></pre></div></p>
<p>utPLSQL identifies and reports on columns:</p>
<ul>
<li>column misplacement</li>
<li>column data-type mismatch</li>
<li>extra/missing columns</li>
</ul>
<p>When comparing rows utPLSQL:</p>
<ul>
<li>reports only mismatched columns when rows match</li>
<li>reports columns existing in both data-sets when whole row is not matching</li>
<li>reports whole extra (not expected) row from actual when actual has extra rows </li>
<li>reports whole missing (expected) row from expected when expected has extra rows </li>
</ul>
<h3 id="object-and-nested-table-data-type-comparison-examples">Object and nested table data-type comparison examples<a class="headerlink" href="#object-and-nested-table-data-type-comparison-examples" title="Permanent link">&para;</a></h3>
<p>When comparing object type / nested table / varray, utPLSQL will check:</p>
<ul>
<li>if data-types match</li>
<li>if data in the compared elements is the same.</li>
</ul>
<p>The diff functionality for objects / nested tables / varrays is similar to diff on cursors.
When diffing, utPLSQL will not check name and data-type of individual attribute as the type itself defines the underlying structure.  </p>
<p>Below examples demonstrate how to compare object and nested table data-types. </p>
<p>Object type comparison.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-68-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-68-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-68-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-68-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-68-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-68-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-68-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-68-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-68-10">10</a></span>
<span class="normal"><a href="#__codelineno-68-11">11</a></span>
<span class="normal"><a href="#__codelineno-68-12">12</a></span>
<span class="normal"><a href="#__codelineno-68-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="k">create</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">object</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<a id="__codelineno-68-2" name="__codelineno-68-2"></a><span class="o">/</span>
<a id="__codelineno-68-3" name="__codelineno-68-3"></a>
<a id="__codelineno-68-4" name="__codelineno-68-4"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_dept</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-68-5" name="__codelineno-68-5"></a><span class="k">begin</span>
<a id="__codelineno-68-6" name="__codelineno-68-6"></a><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;IT&#39;</span><span class="p">);</span>
<a id="__codelineno-68-7" name="__codelineno-68-7"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-68-8" name="__codelineno-68-8"></a><span class="o">/</span>
<a id="__codelineno-68-9" name="__codelineno-68-9"></a>
<a id="__codelineno-68-10" name="__codelineno-68-10"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertObject</span><span class="p">(</span><span class="w"> </span><span class="n">get_dept</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertObject</span><span class="p">(</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-68-11" name="__codelineno-68-11"></a>
<a id="__codelineno-68-12" name="__codelineno-68-12"></a><span class="k">drop</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_dept</span><span class="p">;</span>
<a id="__codelineno-68-13" name="__codelineno-68-13"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>FAILURE
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>  Actual: ut3.department was expected to equal: ut3.department
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>  Diff:
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>  Rows: [ 1 differences ]
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a>    Row No. 1 - Actual:   &lt;NAME&gt;IT&lt;/NAME&gt;
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>    Row No. 1 - Expected: &lt;NAME&gt;HR&lt;/NAME&gt;
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>  at &quot;anonymous block&quot;, line 1
</code></pre></div></p>
<p>Table type comparison.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-70-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-70-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-70-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-70-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-70-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-70-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-70-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-70-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-70-10">10</a></span>
<span class="normal"><a href="#__codelineno-70-11">11</a></span>
<span class="normal"><a href="#__codelineno-70-12">12</a></span>
<span class="normal"><a href="#__codelineno-70-13">13</a></span>
<span class="normal"><a href="#__codelineno-70-14">14</a></span>
<span class="normal"><a href="#__codelineno-70-15">15</a></span>
<span class="normal"><a href="#__codelineno-70-16">16</a></span>
<span class="normal"><a href="#__codelineno-70-17">17</a></span>
<span class="normal"><a href="#__codelineno-70-18">18</a></span>
<span class="normal"><a href="#__codelineno-70-19">19</a></span>
<span class="normal"><a href="#__codelineno-70-20">20</a></span>
<span class="normal"><a href="#__codelineno-70-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="k">create</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">object</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<a id="__codelineno-70-2" name="__codelineno-70-2"></a><span class="o">/</span>
<a id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="k">create</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">department</span>
<a id="__codelineno-70-4" name="__codelineno-70-4"></a><span class="o">/</span>
<a id="__codelineno-70-5" name="__codelineno-70-5"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_depts</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<a id="__codelineno-70-6" name="__codelineno-70-6"></a><span class="k">begin</span>
<a id="__codelineno-70-7" name="__codelineno-70-7"></a><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">departments</span><span class="p">(</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;IT&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-70-8" name="__codelineno-70-8"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-70-9" name="__codelineno-70-9"></a><span class="o">/</span>
<a id="__codelineno-70-10" name="__codelineno-70-10"></a>
<a id="__codelineno-70-11" name="__codelineno-70-11"></a><span class="k">declare</span>
<a id="__codelineno-70-12" name="__codelineno-70-12"></a><span class="w">  </span><span class="n">v_expected</span><span class="w"> </span><span class="n">departments</span><span class="p">;</span>
<a id="__codelineno-70-13" name="__codelineno-70-13"></a><span class="k">begin</span>
<a id="__codelineno-70-14" name="__codelineno-70-14"></a><span class="w">  </span><span class="n">v_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">departments</span><span class="p">(</span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="s1">&#39;IT&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-70-15" name="__codelineno-70-15"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">get_depts</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">v_expected</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-70-16" name="__codelineno-70-16"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-70-17" name="__codelineno-70-17"></a><span class="o">/</span>
<a id="__codelineno-70-18" name="__codelineno-70-18"></a>
<a id="__codelineno-70-19" name="__codelineno-70-19"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_depts</span><span class="p">;</span>
<a id="__codelineno-70-20" name="__codelineno-70-20"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">departments</span><span class="p">;</span>
<a id="__codelineno-70-21" name="__codelineno-70-21"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>FAILURE
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>  Actual: ut3.departments [ count = 2 ] was expected to equal: ut3.departments [ count = 2 ]
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>  Diff:
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>  Rows: [ 2 differences ]
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>    Row No. 1 - Actual:   &lt;NAME&gt;IT&lt;/NAME&gt;
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>    Row No. 1 - Expected: &lt;NAME&gt;HR&lt;/NAME&gt;
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>    Row No. 2 - Actual:   &lt;NAME&gt;HR&lt;/NAME&gt;
<a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>    Row No. 2 - Expected: &lt;NAME&gt;IT&lt;/NAME&gt;
<a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a>  at &quot;anonymous block&quot;, line 5
</code></pre></div></p>
<p>Some of the possible combinations of anydata and their results:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-72-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-72-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-72-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-72-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-72-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-72-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-72-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-72-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-72-10">10</a></span>
<span class="normal"><a href="#__codelineno-72-11">11</a></span>
<span class="normal"><a href="#__codelineno-72-12">12</a></span>
<span class="normal"><a href="#__codelineno-72-13">13</a></span>
<span class="normal"><a href="#__codelineno-72-14">14</a></span>
<span class="normal"><a href="#__codelineno-72-15">15</a></span>
<span class="normal"><a href="#__codelineno-72-16">16</a></span>
<span class="normal"><a href="#__codelineno-72-17">17</a></span>
<span class="normal"><a href="#__codelineno-72-18">18</a></span>
<span class="normal"><a href="#__codelineno-72-19">19</a></span>
<span class="normal"><a href="#__codelineno-72-20">20</a></span>
<span class="normal"><a href="#__codelineno-72-21">21</a></span>
<span class="normal"><a href="#__codelineno-72-22">22</a></span>
<span class="normal"><a href="#__codelineno-72-23">23</a></span>
<span class="normal"><a href="#__codelineno-72-24">24</a></span>
<span class="normal"><a href="#__codelineno-72-25">25</a></span>
<span class="normal"><a href="#__codelineno-72-26">26</a></span>
<span class="normal"><a href="#__codelineno-72-27">27</a></span>
<span class="normal"><a href="#__codelineno-72-28">28</a></span>
<span class="normal"><a href="#__codelineno-72-29">29</a></span>
<span class="normal"><a href="#__codelineno-72-30">30</a></span>
<span class="normal"><a href="#__codelineno-72-31">31</a></span>
<span class="normal"><a href="#__codelineno-72-32">32</a></span>
<span class="normal"><a href="#__codelineno-72-33">33</a></span>
<span class="normal"><a href="#__codelineno-72-34">34</a></span>
<span class="normal"><a href="#__codelineno-72-35">35</a></span>
<span class="normal"><a href="#__codelineno-72-36">36</a></span>
<span class="normal"><a href="#__codelineno-72-37">37</a></span>
<span class="normal"><a href="#__codelineno-72-38">38</a></span>
<span class="normal"><a href="#__codelineno-72-39">39</a></span>
<span class="normal"><a href="#__codelineno-72-40">40</a></span>
<span class="normal"><a href="#__codelineno-72-41">41</a></span>
<span class="normal"><a href="#__codelineno-72-42">42</a></span>
<span class="normal"><a href="#__codelineno-72-43">43</a></span>
<span class="normal"><a href="#__codelineno-72-44">44</a></span>
<span class="normal"><a href="#__codelineno-72-45">45</a></span>
<span class="normal"><a href="#__codelineno-72-46">46</a></span>
<span class="normal"><a href="#__codelineno-72-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="n">clear</span><span class="w"> </span><span class="n">screen</span>
<a id="__codelineno-72-2" name="__codelineno-72-2"></a><span class="k">set</span><span class="w"> </span><span class="n">serverout</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-72-3" name="__codelineno-72-3"></a><span class="k">set</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="k">off</span>
<a id="__codelineno-72-4" name="__codelineno-72-4"></a>
<a id="__codelineno-72-5" name="__codelineno-72-5"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-72-6" name="__codelineno-72-6"></a><span class="o">/</span>
<a id="__codelineno-72-7" name="__codelineno-72-7"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">dummy_obj</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-72-8" name="__codelineno-72-8"></a><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">number</span><span class="p">,</span>
<a id="__codelineno-72-9" name="__codelineno-72-9"></a><span class="w">  </span><span class="ss">&quot;name&quot;</span><span class="w">  </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<a id="__codelineno-72-10" name="__codelineno-72-10"></a><span class="w">  </span><span class="ss">&quot;Value&quot;</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-72-11" name="__codelineno-72-11"></a><span class="p">)</span>
<a id="__codelineno-72-12" name="__codelineno-72-12"></a><span class="o">/</span>
<a id="__codelineno-72-13" name="__codelineno-72-13"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">dummy_obj</span>
<a id="__codelineno-72-14" name="__codelineno-72-14"></a><span class="o">/</span>
<a id="__codelineno-72-15" name="__codelineno-72-15"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">t_varray</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nb">number</span>
<a id="__codelineno-72-16" name="__codelineno-72-16"></a><span class="o">/</span>
<a id="__codelineno-72-17" name="__codelineno-72-17"></a>
<a id="__codelineno-72-18" name="__codelineno-72-18"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertObject</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertObject</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-72-19" name="__codelineno-72-19"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-72-20" name="__codelineno-72-20"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-72-21" name="__codelineno-72-21"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_null</span><span class="p">();</span>
<a id="__codelineno-72-22" name="__codelineno-72-22"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                      </span>
<a id="__codelineno-72-23" name="__codelineno-72-23"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                    </span>
<a id="__codelineno-72-24" name="__codelineno-72-24"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_have_count</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-72-25" name="__codelineno-72-25"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                       </span>
<a id="__codelineno-72-26" name="__codelineno-72-26"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                    </span>
<a id="__codelineno-72-27" name="__codelineno-72-27"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-72-28" name="__codelineno-72-28"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-72-29" name="__codelineno-72-29"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-72-30" name="__codelineno-72-30"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_null</span><span class="p">();</span><span class="w">                                </span>
<a id="__codelineno-72-31" name="__codelineno-72-31"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                         </span>
<a id="__codelineno-72-32" name="__codelineno-72-32"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_have_count</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">                             </span>
<a id="__codelineno-72-33" name="__codelineno-72-33"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">(</span><span class="n">dummy_obj</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-72-34" name="__codelineno-72-34"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                       </span>
<a id="__codelineno-72-35" name="__codelineno-72-35"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_be_null</span><span class="p">();</span><span class="w">                                </span>
<a id="__codelineno-72-36" name="__codelineno-72-36"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                              </span>
<a id="__codelineno-72-37" name="__codelineno-72-37"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                           </span>
<a id="__codelineno-72-38" name="__codelineno-72-38"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_have_count</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">                             </span>
<a id="__codelineno-72-39" name="__codelineno-72-39"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                            </span>
<a id="__codelineno-72-40" name="__codelineno-72-40"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">()</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                           </span>
<a id="__codelineno-72-41" name="__codelineno-72-41"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                           </span>
<a id="__codelineno-72-42" name="__codelineno-72-42"></a><span class="k">exec</span><span class="w"> </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">anydata</span><span class="p">.</span><span class="n">convertCollection</span><span class="p">(</span><span class="w"> </span><span class="n">t_varray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">                           </span>
<a id="__codelineno-72-43" name="__codelineno-72-43"></a>
<a id="__codelineno-72-44" name="__codelineno-72-44"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">t_varray</span><span class="p">;</span>
<a id="__codelineno-72-45" name="__codelineno-72-45"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">dummy_obj_lst</span><span class="p">;</span>
<a id="__codelineno-72-46" name="__codelineno-72-46"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">dummy_obj</span><span class="p">;</span>
<a id="__codelineno-72-47" name="__codelineno-72-47"></a><span class="k">drop</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">t_tab_varchar</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>SUCCESS
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>  Actual: ut3.dummy_obj was expected to equal: ut3.dummy_obj
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>SUCCESS
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>  Actual: ut3.t_tab_varchar [ count = 1 ] was expected to equal: ut3.t_tab_varchar [ count = 1 ]
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a>FAILURE
<a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a>  Actual: ut3.t_tab_varchar [ count = 1 ] was expected to equal: ut3.t_tab_varchar [ count = 1 ]
<a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a>  Diff:
<a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-11" name="__codelineno-73-11" href="#__codelineno-73-11"></a>    Row No. 1 - Actual:   &lt;T_TAB_VARCHAR&gt;A&lt;/T_TAB_VARCHAR&gt;
<a id="__codelineno-73-12" name="__codelineno-73-12" href="#__codelineno-73-12"></a>    Row No. 1 - Expected: &lt;T_TAB_VARCHAR&gt;B&lt;/T_TAB_VARCHAR&gt;
<a id="__codelineno-73-13" name="__codelineno-73-13" href="#__codelineno-73-13"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-14" name="__codelineno-73-14" href="#__codelineno-73-14"></a>
<a id="__codelineno-73-15" name="__codelineno-73-15" href="#__codelineno-73-15"></a>FAILURE
<a id="__codelineno-73-16" name="__codelineno-73-16" href="#__codelineno-73-16"></a>  Actual: (ut3.t_tab_varchar [ count = 0 ])
<a id="__codelineno-73-17" name="__codelineno-73-17" href="#__codelineno-73-17"></a>      Data-types:
<a id="__codelineno-73-18" name="__codelineno-73-18" href="#__codelineno-73-18"></a>      &lt;T_TAB_VARCHAR&gt;VARCHAR2&lt;/T_TAB_VARCHAR&gt;
<a id="__codelineno-73-19" name="__codelineno-73-19" href="#__codelineno-73-19"></a>      Data:
<a id="__codelineno-73-20" name="__codelineno-73-20" href="#__codelineno-73-20"></a>   was expected to be null
<a id="__codelineno-73-21" name="__codelineno-73-21" href="#__codelineno-73-21"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-22" name="__codelineno-73-22" href="#__codelineno-73-22"></a>
<a id="__codelineno-73-23" name="__codelineno-73-23" href="#__codelineno-73-23"></a>SUCCESS
<a id="__codelineno-73-24" name="__codelineno-73-24" href="#__codelineno-73-24"></a>  Actual: ut3.t_tab_varchar [ count = 0 ] was expected to equal: ut3.t_tab_varchar [ count = 0 ]
<a id="__codelineno-73-25" name="__codelineno-73-25" href="#__codelineno-73-25"></a>
<a id="__codelineno-73-26" name="__codelineno-73-26" href="#__codelineno-73-26"></a>FAILURE
<a id="__codelineno-73-27" name="__codelineno-73-27" href="#__codelineno-73-27"></a>  Actual: ut3.t_tab_varchar [ count = 0 ] was expected to equal: ut3.t_tab_varchar [ count = 1 ]
<a id="__codelineno-73-28" name="__codelineno-73-28" href="#__codelineno-73-28"></a>  Diff:
<a id="__codelineno-73-29" name="__codelineno-73-29" href="#__codelineno-73-29"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-30" name="__codelineno-73-30" href="#__codelineno-73-30"></a>    Row No. 1 - Missing:  &lt;T_TAB_VARCHAR&gt;A&lt;/T_TAB_VARCHAR&gt;
<a id="__codelineno-73-31" name="__codelineno-73-31" href="#__codelineno-73-31"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-32" name="__codelineno-73-32" href="#__codelineno-73-32"></a>
<a id="__codelineno-73-33" name="__codelineno-73-33" href="#__codelineno-73-33"></a>SUCCESS
<a id="__codelineno-73-34" name="__codelineno-73-34" href="#__codelineno-73-34"></a>  Actual: (ut3.t_tab_varchar [ count = 0 ]) was expected to have [ count = 0 ]
<a id="__codelineno-73-35" name="__codelineno-73-35" href="#__codelineno-73-35"></a>
<a id="__codelineno-73-36" name="__codelineno-73-36" href="#__codelineno-73-36"></a>SUCCESS
<a id="__codelineno-73-37" name="__codelineno-73-37" href="#__codelineno-73-37"></a>  Actual: ut3.t_tab_varchar [ count = 0 ] was expected to equal: ut3.t_tab_varchar [ count = 0 ]
<a id="__codelineno-73-38" name="__codelineno-73-38" href="#__codelineno-73-38"></a>
<a id="__codelineno-73-39" name="__codelineno-73-39" href="#__codelineno-73-39"></a>FAILURE
<a id="__codelineno-73-40" name="__codelineno-73-40" href="#__codelineno-73-40"></a>  Actual: ut3.t_tab_varchar [ count = 0 ] was expected to equal: ut3.t_tab_varchar [ count = 1 ]
<a id="__codelineno-73-41" name="__codelineno-73-41" href="#__codelineno-73-41"></a>  Diff:
<a id="__codelineno-73-42" name="__codelineno-73-42" href="#__codelineno-73-42"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-43" name="__codelineno-73-43" href="#__codelineno-73-43"></a>    Row No. 1 - Missing:  &lt;T_TAB_VARCHAR&gt;A&lt;/T_TAB_VARCHAR&gt;
<a id="__codelineno-73-44" name="__codelineno-73-44" href="#__codelineno-73-44"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-45" name="__codelineno-73-45" href="#__codelineno-73-45"></a>
<a id="__codelineno-73-46" name="__codelineno-73-46" href="#__codelineno-73-46"></a>SUCCESS
<a id="__codelineno-73-47" name="__codelineno-73-47" href="#__codelineno-73-47"></a>  Actual: ut3.dummy_obj_lst [ count = 1 ] was expected to equal: ut3.dummy_obj_lst [ count = 1 ]
<a id="__codelineno-73-48" name="__codelineno-73-48" href="#__codelineno-73-48"></a>
<a id="__codelineno-73-49" name="__codelineno-73-49" href="#__codelineno-73-49"></a>FAILURE
<a id="__codelineno-73-50" name="__codelineno-73-50" href="#__codelineno-73-50"></a>  Actual: ut3.dummy_obj_lst [ count = 1 ] was expected to equal: ut3.dummy_obj_lst [ count = 1 ]
<a id="__codelineno-73-51" name="__codelineno-73-51" href="#__codelineno-73-51"></a>  Diff:
<a id="__codelineno-73-52" name="__codelineno-73-52" href="#__codelineno-73-52"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-53" name="__codelineno-73-53" href="#__codelineno-73-53"></a>    Row No. 1 - Actual:   &lt;ID&gt;1&lt;/ID&gt;
<a id="__codelineno-73-54" name="__codelineno-73-54" href="#__codelineno-73-54"></a>    Row No. 1 - Expected: &lt;ID&gt;2&lt;/ID&gt;
<a id="__codelineno-73-55" name="__codelineno-73-55" href="#__codelineno-73-55"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-56" name="__codelineno-73-56" href="#__codelineno-73-56"></a>
<a id="__codelineno-73-57" name="__codelineno-73-57" href="#__codelineno-73-57"></a>FAILURE
<a id="__codelineno-73-58" name="__codelineno-73-58" href="#__codelineno-73-58"></a>  Actual: ut3.dummy_obj_lst [ count = 0 ] was expected to equal: ut3.dummy_obj_lst [ count = 1 ]
<a id="__codelineno-73-59" name="__codelineno-73-59" href="#__codelineno-73-59"></a>  Diff:
<a id="__codelineno-73-60" name="__codelineno-73-60" href="#__codelineno-73-60"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-61" name="__codelineno-73-61" href="#__codelineno-73-61"></a>    Row No. 1 - Missing:  &lt;DUMMY_OBJ&gt;&lt;ID&gt;1&lt;/ID&gt;&lt;name&gt;A&lt;/name&gt;&lt;Value&gt;0&lt;/Value&gt;&lt;/DUMMY_OBJ&gt;
<a id="__codelineno-73-62" name="__codelineno-73-62" href="#__codelineno-73-62"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-63" name="__codelineno-73-63" href="#__codelineno-73-63"></a>
<a id="__codelineno-73-64" name="__codelineno-73-64" href="#__codelineno-73-64"></a>FAILURE
<a id="__codelineno-73-65" name="__codelineno-73-65" href="#__codelineno-73-65"></a>  Actual: (ut3.dummy_obj_lst [ count = 0 ])
<a id="__codelineno-73-66" name="__codelineno-73-66" href="#__codelineno-73-66"></a>      Data-types:
<a id="__codelineno-73-67" name="__codelineno-73-67" href="#__codelineno-73-67"></a>      &lt;DUMMY_OBJ&gt;DUMMY_OBJ&lt;/DUMMY_OBJ&gt;
<a id="__codelineno-73-68" name="__codelineno-73-68" href="#__codelineno-73-68"></a>      Data:
<a id="__codelineno-73-69" name="__codelineno-73-69" href="#__codelineno-73-69"></a>   was expected to be null
<a id="__codelineno-73-70" name="__codelineno-73-70" href="#__codelineno-73-70"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-71" name="__codelineno-73-71" href="#__codelineno-73-71"></a>
<a id="__codelineno-73-72" name="__codelineno-73-72" href="#__codelineno-73-72"></a>SUCCESS
<a id="__codelineno-73-73" name="__codelineno-73-73" href="#__codelineno-73-73"></a>  Actual: ut3.dummy_obj_lst [ count = 0 ] was expected to equal: ut3.dummy_obj_lst [ count = 0 ]
<a id="__codelineno-73-74" name="__codelineno-73-74" href="#__codelineno-73-74"></a>
<a id="__codelineno-73-75" name="__codelineno-73-75" href="#__codelineno-73-75"></a>SUCCESS
<a id="__codelineno-73-76" name="__codelineno-73-76" href="#__codelineno-73-76"></a>  Actual: (ut3.dummy_obj_lst [ count = 0 ]) was expected to have [ count = 0 ]
<a id="__codelineno-73-77" name="__codelineno-73-77" href="#__codelineno-73-77"></a>
<a id="__codelineno-73-78" name="__codelineno-73-78" href="#__codelineno-73-78"></a>FAILURE
<a id="__codelineno-73-79" name="__codelineno-73-79" href="#__codelineno-73-79"></a>  Actual: ut3.dummy_obj_lst [ count = 0 ] was expected to equal: ut3.dummy_obj_lst [ count = 1 ]
<a id="__codelineno-73-80" name="__codelineno-73-80" href="#__codelineno-73-80"></a>  Diff:
<a id="__codelineno-73-81" name="__codelineno-73-81" href="#__codelineno-73-81"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-82" name="__codelineno-73-82" href="#__codelineno-73-82"></a>    Row No. 1 - Missing:  &lt;DUMMY_OBJ&gt;&lt;ID&gt;1&lt;/ID&gt;&lt;name&gt;A&lt;/name&gt;&lt;Value&gt;0&lt;/Value&gt;&lt;/DUMMY_OBJ&gt;
<a id="__codelineno-73-83" name="__codelineno-73-83" href="#__codelineno-73-83"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-84" name="__codelineno-73-84" href="#__codelineno-73-84"></a>
<a id="__codelineno-73-85" name="__codelineno-73-85" href="#__codelineno-73-85"></a>SUCCESS
<a id="__codelineno-73-86" name="__codelineno-73-86" href="#__codelineno-73-86"></a>  Actual: ut3.dummy_obj_lst [ count = 0 ] was expected to equal: ut3.dummy_obj_lst [ count = 0 ]
<a id="__codelineno-73-87" name="__codelineno-73-87" href="#__codelineno-73-87"></a>
<a id="__codelineno-73-88" name="__codelineno-73-88" href="#__codelineno-73-88"></a>FAILURE
<a id="__codelineno-73-89" name="__codelineno-73-89" href="#__codelineno-73-89"></a>  Actual: (ut3.t_varray [ count = 0 ])
<a id="__codelineno-73-90" name="__codelineno-73-90" href="#__codelineno-73-90"></a>      Data-types:
<a id="__codelineno-73-91" name="__codelineno-73-91" href="#__codelineno-73-91"></a>      &lt;T_VARRAY&gt;NUMBER&lt;/T_VARRAY&gt;
<a id="__codelineno-73-92" name="__codelineno-73-92" href="#__codelineno-73-92"></a>      Data:
<a id="__codelineno-73-93" name="__codelineno-73-93" href="#__codelineno-73-93"></a>   was expected to be null
<a id="__codelineno-73-94" name="__codelineno-73-94" href="#__codelineno-73-94"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-95" name="__codelineno-73-95" href="#__codelineno-73-95"></a>
<a id="__codelineno-73-96" name="__codelineno-73-96" href="#__codelineno-73-96"></a>SUCCESS
<a id="__codelineno-73-97" name="__codelineno-73-97" href="#__codelineno-73-97"></a>  Actual: ut3.t_varray [ count = 0 ] was expected to equal: ut3.t_varray [ count = 0 ]
<a id="__codelineno-73-98" name="__codelineno-73-98" href="#__codelineno-73-98"></a>
<a id="__codelineno-73-99" name="__codelineno-73-99" href="#__codelineno-73-99"></a>FAILURE
<a id="__codelineno-73-100" name="__codelineno-73-100" href="#__codelineno-73-100"></a>  Actual: ut3.t_varray [ count = 0 ] was expected to equal: ut3.t_varray [ count = 1 ]
<a id="__codelineno-73-101" name="__codelineno-73-101" href="#__codelineno-73-101"></a>  Diff:
<a id="__codelineno-73-102" name="__codelineno-73-102" href="#__codelineno-73-102"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-103" name="__codelineno-73-103" href="#__codelineno-73-103"></a>    Row No. 1 - Missing:  &lt;T_VARRAY&gt;1&lt;/T_VARRAY&gt;
<a id="__codelineno-73-104" name="__codelineno-73-104" href="#__codelineno-73-104"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-105" name="__codelineno-73-105" href="#__codelineno-73-105"></a>
<a id="__codelineno-73-106" name="__codelineno-73-106" href="#__codelineno-73-106"></a>SUCCESS
<a id="__codelineno-73-107" name="__codelineno-73-107" href="#__codelineno-73-107"></a>  Actual: (ut3.t_varray [ count = 0 ]) was expected to have [ count = 0 ]
<a id="__codelineno-73-108" name="__codelineno-73-108" href="#__codelineno-73-108"></a>
<a id="__codelineno-73-109" name="__codelineno-73-109" href="#__codelineno-73-109"></a>SUCCESS
<a id="__codelineno-73-110" name="__codelineno-73-110" href="#__codelineno-73-110"></a>  Actual: ut3.t_varray [ count = 0 ] was expected to equal: ut3.t_varray [ count = 0 ]
<a id="__codelineno-73-111" name="__codelineno-73-111" href="#__codelineno-73-111"></a>
<a id="__codelineno-73-112" name="__codelineno-73-112" href="#__codelineno-73-112"></a>FAILURE
<a id="__codelineno-73-113" name="__codelineno-73-113" href="#__codelineno-73-113"></a>  Actual: ut3.t_varray [ count = 0 ] was expected to equal: ut3.t_varray [ count = 1 ]
<a id="__codelineno-73-114" name="__codelineno-73-114" href="#__codelineno-73-114"></a>  Diff:
<a id="__codelineno-73-115" name="__codelineno-73-115" href="#__codelineno-73-115"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-116" name="__codelineno-73-116" href="#__codelineno-73-116"></a>    Row No. 1 - Missing:  &lt;T_VARRAY&gt;1&lt;/T_VARRAY&gt;
<a id="__codelineno-73-117" name="__codelineno-73-117" href="#__codelineno-73-117"></a>  at &quot;anonymous block&quot;, line 1
<a id="__codelineno-73-118" name="__codelineno-73-118" href="#__codelineno-73-118"></a>
<a id="__codelineno-73-119" name="__codelineno-73-119" href="#__codelineno-73-119"></a>SUCCESS
<a id="__codelineno-73-120" name="__codelineno-73-120" href="#__codelineno-73-120"></a>  Actual: ut3.t_varray [ count = 1 ] was expected to equal: ut3.t_varray [ count = 1 ]
<a id="__codelineno-73-121" name="__codelineno-73-121" href="#__codelineno-73-121"></a>
<a id="__codelineno-73-122" name="__codelineno-73-122" href="#__codelineno-73-122"></a>FAILURE
<a id="__codelineno-73-123" name="__codelineno-73-123" href="#__codelineno-73-123"></a>  Actual: ut3.t_varray [ count = 1 ] was expected to equal: ut3.t_varray [ count = 1 ]
<a id="__codelineno-73-124" name="__codelineno-73-124" href="#__codelineno-73-124"></a>  Diff:
<a id="__codelineno-73-125" name="__codelineno-73-125" href="#__codelineno-73-125"></a>  Rows: [ 1 differences ]
<a id="__codelineno-73-126" name="__codelineno-73-126" href="#__codelineno-73-126"></a>    Row No. 1 - Actual:   &lt;T_VARRAY&gt;1&lt;/T_VARRAY&gt;
<a id="__codelineno-73-127" name="__codelineno-73-127" href="#__codelineno-73-127"></a>    Row No. 1 - Expected: &lt;T_VARRAY&gt;2&lt;/T_VARRAY&gt;
<a id="__codelineno-73-128" name="__codelineno-73-128" href="#__codelineno-73-128"></a>  at &quot;anonymous block&quot;, line 1
</code></pre></div></p>
<h3 id="comparing-cursor-data-containing-date-fields">Comparing cursor data containing DATE fields<a class="headerlink" href="#comparing-cursor-data-containing-date-fields" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>utPLSQL uses XMLType internally to represent rows of the cursor data. This is by far the most flexible method and allows comparison of cursors containing LONG, CLOB, BLOB, user defined types and even nested cursors.<br>
Due to the way Oracle handles DATE data type when converting from cursor data to XML, utPLSQL has no control over the DATE formatting.<br>
The NLS_DATE_FORMAT setting from the moment the cursor was opened determines the formatting of dates used for cursor data comparison.<br>
By default, Oracle NLS_DATE_FORMAT is timeless, so data of DATE datatype, will be compared ignoring the time component.<br></p>
</div>
<p>You should surround cursors and expectations with procedures <code>ut.set_nls</code>, <code>ut.reset_nls</code>.
This way, the DATE data in cursors will be properly formatted for comparison using date-time format.</p>
<p>The example below makes use of <code>ut.set_nls</code>, <code>ut.reset_nls</code>, so that the date in <code>l_expected</code> and <code>l_actual</code> is compared using date-time formatting.<br />
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-74-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-74-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-74-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-74-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-74-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-74-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-74-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-74-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-74-10">10</a></span>
<span class="normal"><a href="#__codelineno-74-11">11</a></span>
<span class="normal"><a href="#__codelineno-74-12">12</a></span>
<span class="normal"><a href="#__codelineno-74-13">13</a></span>
<span class="normal"><a href="#__codelineno-74-14">14</a></span>
<span class="normal"><a href="#__codelineno-74-15">15</a></span>
<span class="normal"><a href="#__codelineno-74-16">16</a></span>
<span class="normal"><a href="#__codelineno-74-17">17</a></span>
<span class="normal"><a href="#__codelineno-74-18">18</a></span>
<span class="normal"><a href="#__codelineno-74-19">19</a></span>
<span class="normal"><a href="#__codelineno-74-20">20</a></span>
<span class="normal"><a href="#__codelineno-74-21">21</a></span>
<span class="normal"><a href="#__codelineno-74-22">22</a></span>
<span class="normal"><a href="#__codelineno-74-23">23</a></span>
<span class="normal"><a href="#__codelineno-74-24">24</a></span>
<span class="normal"><a href="#__codelineno-74-25">25</a></span>
<span class="normal"><a href="#__codelineno-74-26">26</a></span>
<span class="normal"><a href="#__codelineno-74-27">27</a></span>
<span class="normal"><a href="#__codelineno-74-28">28</a></span>
<span class="normal"><a href="#__codelineno-74-29">29</a></span>
<span class="normal"><a href="#__codelineno-74-30">30</a></span>
<span class="normal"><a href="#__codelineno-74-31">31</a></span>
<span class="normal"><a href="#__codelineno-74-32">32</a></span>
<span class="normal"><a href="#__codelineno-74-33">33</a></span>
<span class="normal"><a href="#__codelineno-74-34">34</a></span>
<span class="normal"><a href="#__codelineno-74-35">35</a></span>
<span class="normal"><a href="#__codelineno-74-36">36</a></span>
<span class="normal"><a href="#__codelineno-74-37">37</a></span>
<span class="normal"><a href="#__codelineno-74-38">38</a></span>
<span class="normal"><a href="#__codelineno-74-39">39</a></span>
<span class="normal"><a href="#__codelineno-74-40">40</a></span>
<span class="normal"><a href="#__codelineno-74-41">41</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="n">clear</span><span class="w"> </span><span class="n">screen</span>
<a id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="k">alter</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">nls_date_format</span><span class="o">=</span><span class="s1">&#39;yyyy-mm-dd&#39;</span><span class="p">;</span>
<a id="__codelineno-74-3" name="__codelineno-74-3"></a><span class="k">set</span><span class="w"> </span><span class="n">serverout</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-74-4" name="__codelineno-74-4"></a><span class="k">set</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="k">off</span>
<a id="__codelineno-74-5" name="__codelineno-74-5"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">4000</span><span class="p">),</span><span class="w"> </span><span class="n">event_date</span><span class="w">  </span><span class="nb">date</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-74-6" name="__codelineno-74-6"></a><span class="o">/</span>
<a id="__codelineno-74-7" name="__codelineno-74-7"></a><span class="k">declare</span>
<a id="__codelineno-74-8" name="__codelineno-74-8"></a><span class="w">  </span><span class="n">c_description</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">varchar2</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Test event&#39;</span><span class="p">;</span>
<a id="__codelineno-74-9" name="__codelineno-74-9"></a><span class="w">  </span><span class="n">c_event_date</span><span class="w">  </span><span class="n">constant</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">to_date</span><span class="p">(</span><span class="s1">&#39;2016-09-08 06:51:22&#39;</span><span class="p">,</span><span class="s1">&#39;yyyy-mm-dd hh24:mi:ss&#39;</span><span class="p">);</span>
<a id="__codelineno-74-10" name="__codelineno-74-10"></a><span class="w">  </span><span class="n">c_second</span><span class="w">      </span><span class="n">constant</span><span class="w"> </span><span class="nb">number</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">24</span><span class="o">/</span><span class="mi">60</span><span class="o">/</span><span class="mi">60</span><span class="p">;</span>
<a id="__codelineno-74-11" name="__codelineno-74-11"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-74-12" name="__codelineno-74-12"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-74-13" name="__codelineno-74-13"></a><span class="k">begin</span>
<a id="__codelineno-74-14" name="__codelineno-74-14"></a><span class="w">  </span><span class="c1">--Arrange</span>
<a id="__codelineno-74-15" name="__codelineno-74-15"></a><span class="w">  </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p">(</span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">event_date</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">c_description</span><span class="p">,</span><span class="w"> </span><span class="n">c_event_date</span><span class="p">);</span>
<a id="__codelineno-74-16" name="__codelineno-74-16"></a>
<a id="__codelineno-74-17" name="__codelineno-74-17"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-74-18" name="__codelineno-74-18"></a><span class="w">    </span><span class="c1">-- Change the NLS settings for date to be ISO date-time &#39;YYYY-MM-DD HH24:MI:SS&#39;</span>
<a id="__codelineno-74-19" name="__codelineno-74-19"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">set_nls</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-74-20" name="__codelineno-74-20"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-74-21" name="__codelineno-74-21"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">c_description</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">c_event_date</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c_second</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">event_date</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-74-22" name="__codelineno-74-22"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">event_date</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">events</span><span class="p">;</span>
<a id="__codelineno-74-23" name="__codelineno-74-23"></a><span class="w">    </span><span class="c1">--Assert</span>
<a id="__codelineno-74-24" name="__codelineno-74-24"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-74-25" name="__codelineno-74-25"></a><span class="w">    </span><span class="c1">-- Reset the NLS settings to their default values after cursor data was processed</span>
<a id="__codelineno-74-26" name="__codelineno-74-26"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">reset_nls</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-74-27" name="__codelineno-74-27"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-74-28" name="__codelineno-74-28"></a>
<a id="__codelineno-74-29" name="__codelineno-74-29"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-74-30" name="__codelineno-74-30"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-74-31" name="__codelineno-74-31"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">c_description</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">c_event_date</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c_second</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">event_date</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-74-32" name="__codelineno-74-32"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="n">event_date</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">events</span><span class="p">;</span>
<a id="__codelineno-74-33" name="__codelineno-74-33"></a><span class="w">    </span><span class="c1">--Assert</span>
<a id="__codelineno-74-34" name="__codelineno-74-34"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">not_to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-74-35" name="__codelineno-74-35"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-74-36" name="__codelineno-74-36"></a><span class="w">  </span><span class="c1">--Cleanup</span>
<a id="__codelineno-74-37" name="__codelineno-74-37"></a><span class="w">  </span><span class="k">rollback</span><span class="p">;</span>
<a id="__codelineno-74-38" name="__codelineno-74-38"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-74-39" name="__codelineno-74-39"></a><span class="o">/</span>
<a id="__codelineno-74-40" name="__codelineno-74-40"></a>
<a id="__codelineno-74-41" name="__codelineno-74-41"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">events</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>In the above example:</p>
<ul>
<li>The first expectation is successful, as the <code>l_expected</code> cursor contains different date-time then the cursor returned by <code>get_events</code> function call</li>
<li>The second expectation fails, as the column <code>event_date</code> will get compared as DATE without TIME (using default current session NLS date format)</li>
</ul>
<p>Output via DBMS_OUTPUT from the above example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>SUCCESS
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>  Actual: (refcursor [ count = 1 ])
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>      Data-types:
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a>      &lt;DESCRIPTION&gt;VARCHAR2&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;DATE&lt;/EVENT_DATE&gt;
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>      Data:
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a>      &lt;ROW&gt;&lt;DESCRIPTION&gt;Test event&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;2016-09-08T06:51:22&lt;/EVENT_DATE&gt;&lt;/ROW&gt;
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a>   was expected not to equal: (refcursor [ count = 1 ])
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a>      Data-types:
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a>      &lt;DESCRIPTION&gt;VARCHAR2&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;DATE&lt;/EVENT_DATE&gt;
<a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a>      Data:
<a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a>      &lt;ROW&gt;&lt;DESCRIPTION&gt;Test event&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;2016-09-08T06:51:23&lt;/EVENT_DATE&gt;&lt;/ROW&gt;
<a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a>FAILURE
<a id="__codelineno-75-13" name="__codelineno-75-13" href="#__codelineno-75-13"></a>  Actual: (refcursor [ count = 1 ])
<a id="__codelineno-75-14" name="__codelineno-75-14" href="#__codelineno-75-14"></a>      Data-types:
<a id="__codelineno-75-15" name="__codelineno-75-15" href="#__codelineno-75-15"></a>      &lt;DESCRIPTION&gt;VARCHAR2&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;DATE&lt;/EVENT_DATE&gt;
<a id="__codelineno-75-16" name="__codelineno-75-16" href="#__codelineno-75-16"></a>      Data:
<a id="__codelineno-75-17" name="__codelineno-75-17" href="#__codelineno-75-17"></a>      &lt;ROW&gt;&lt;DESCRIPTION&gt;Test event&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;2016-09-08&lt;/EVENT_DATE&gt;&lt;/ROW&gt;
<a id="__codelineno-75-18" name="__codelineno-75-18" href="#__codelineno-75-18"></a>   was expected not to equal: (refcursor [ count = 1 ])
<a id="__codelineno-75-19" name="__codelineno-75-19" href="#__codelineno-75-19"></a>      Data-types:
<a id="__codelineno-75-20" name="__codelineno-75-20" href="#__codelineno-75-20"></a>      &lt;DESCRIPTION&gt;VARCHAR2&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;DATE&lt;/EVENT_DATE&gt;
<a id="__codelineno-75-21" name="__codelineno-75-21" href="#__codelineno-75-21"></a>      Data:
<a id="__codelineno-75-22" name="__codelineno-75-22" href="#__codelineno-75-22"></a>      &lt;ROW&gt;&lt;DESCRIPTION&gt;Test event&lt;/DESCRIPTION&gt;&lt;EVENT_DATE&gt;2016-09-08&lt;/EVENT_DATE&gt;&lt;/ROW&gt;
<a id="__codelineno-75-23" name="__codelineno-75-23" href="#__codelineno-75-23"></a>  at &quot;anonymous block&quot;, line 28
</code></pre></div></p>
<h3 id="comparing-cursor-data-containing-timestamp-bind-variables">Comparing cursor data containing TIMESTAMP bind variables<a class="headerlink" href="#comparing-cursor-data-containing-timestamp-bind-variables" title="Permanent link">&para;</a></h3>
<p>To properly compare <code>timestamp</code> column data returned by cursor against bind variable data from another cursor, a conversion needs to be done.</p>
<p>This applies to <code>timestamp</code>,<code>timestamp with timezone</code>, <code>timestamp with local timezone</code> data types.</p>
<p>Example below illustrates usage of <code>cast</code> operator to assure appropriate precision is applied on timestamp bind-variables in cursor result-set   </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-76-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-76-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-76-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-76-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-76-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-76-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-76-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-76-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-76-10">10</a></span>
<span class="normal"><a href="#__codelineno-76-11">11</a></span>
<span class="normal"><a href="#__codelineno-76-12">12</a></span>
<span class="normal"><a href="#__codelineno-76-13">13</a></span>
<span class="normal"><a href="#__codelineno-76-14">14</a></span>
<span class="normal"><a href="#__codelineno-76-15">15</a></span>
<span class="normal"><a href="#__codelineno-76-16">16</a></span>
<span class="normal"><a href="#__codelineno-76-17">17</a></span>
<span class="normal"><a href="#__codelineno-76-18">18</a></span>
<span class="normal"><a href="#__codelineno-76-19">19</a></span>
<span class="normal"><a href="#__codelineno-76-20">20</a></span>
<span class="normal"><a href="#__codelineno-76-21">21</a></span>
<span class="normal"><a href="#__codelineno-76-22">22</a></span>
<span class="normal"><a href="#__codelineno-76-23">23</a></span>
<span class="normal"><a href="#__codelineno-76-24">24</a></span>
<span class="normal"><a href="#__codelineno-76-25">25</a></span>
<span class="normal"><a href="#__codelineno-76-26">26</a></span>
<span class="normal"><a href="#__codelineno-76-27">27</a></span>
<span class="normal"><a href="#__codelineno-76-28">28</a></span>
<span class="normal"><a href="#__codelineno-76-29">29</a></span>
<span class="normal"><a href="#__codelineno-76-30">30</a></span>
<span class="normal"><a href="#__codelineno-76-31">31</a></span>
<span class="normal"><a href="#__codelineno-76-32">32</a></span>
<span class="normal"><a href="#__codelineno-76-33">33</a></span>
<span class="normal"><a href="#__codelineno-76-34">34</a></span>
<span class="normal"><a href="#__codelineno-76-35">35</a></span>
<span class="normal"><a href="#__codelineno-76-36">36</a></span>
<span class="normal"><a href="#__codelineno-76-37">37</a></span>
<span class="normal"><a href="#__codelineno-76-38">38</a></span>
<span class="normal"><a href="#__codelineno-76-39">39</a></span>
<span class="normal"><a href="#__codelineno-76-40">40</a></span>
<span class="normal"><a href="#__codelineno-76-41">41</a></span>
<span class="normal"><a href="#__codelineno-76-42">42</a></span>
<span class="normal"><a href="#__codelineno-76-43">43</a></span>
<span class="normal"><a href="#__codelineno-76-44">44</a></span>
<span class="normal"><a href="#__codelineno-76-45">45</a></span>
<span class="normal"><a href="#__codelineno-76-46">46</a></span>
<span class="normal"><a href="#__codelineno-76-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="n">clear</span><span class="w"> </span><span class="n">screen</span>
<a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="k">set</span><span class="w"> </span><span class="n">serverout</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-76-3" name="__codelineno-76-3"></a><span class="k">set</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="k">off</span>
<a id="__codelineno-76-4" name="__codelineno-76-4"></a>
<a id="__codelineno-76-5" name="__codelineno-76-5"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-76-6" name="__codelineno-76-6"></a><span class="w">  </span><span class="n">ts3</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<a id="__codelineno-76-7" name="__codelineno-76-7"></a><span class="w">  </span><span class="n">ts6</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
<a id="__codelineno-76-8" name="__codelineno-76-8"></a><span class="w">  </span><span class="n">ts9</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<a id="__codelineno-76-9" name="__codelineno-76-9"></a><span class="p">);</span>
<a id="__codelineno-76-10" name="__codelineno-76-10"></a>
<a id="__codelineno-76-11" name="__codelineno-76-11"></a><span class="k">declare</span>
<a id="__codelineno-76-12" name="__codelineno-76-12"></a><span class="w">  </span><span class="n">l_time</span><span class="w">     </span><span class="k">timestamp</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
<a id="__codelineno-76-13" name="__codelineno-76-13"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-76-14" name="__codelineno-76-14"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-76-15" name="__codelineno-76-15"></a><span class="k">begin</span>
<a id="__codelineno-76-16" name="__codelineno-76-16"></a><span class="w">  </span><span class="c1">--Arrange</span>
<a id="__codelineno-76-17" name="__codelineno-76-17"></a><span class="w">  </span><span class="n">l_time</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">systimestamp</span><span class="p">;</span>
<a id="__codelineno-76-18" name="__codelineno-76-18"></a>
<a id="__codelineno-76-19" name="__codelineno-76-19"></a><span class="w">  </span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p">(</span><span class="n">ts3</span><span class="p">,</span><span class="w"> </span><span class="n">ts6</span><span class="p">,</span><span class="w"> </span><span class="n">ts9</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="n">l_time</span><span class="p">,</span><span class="w"> </span><span class="n">l_time</span><span class="p">,</span><span class="w"> </span><span class="n">l_time</span><span class="p">);</span>
<a id="__codelineno-76-20" name="__codelineno-76-20"></a>
<a id="__codelineno-76-21" name="__codelineno-76-21"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-76-22" name="__codelineno-76-22"></a><span class="w">    </span><span class="c1">--Act</span>
<a id="__codelineno-76-23" name="__codelineno-76-23"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span>
<a id="__codelineno-76-24" name="__codelineno-76-24"></a><span class="w">      </span><span class="k">select</span>
<a id="__codelineno-76-25" name="__codelineno-76-25"></a><span class="w">        </span><span class="k">cast</span><span class="p">(</span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">timestamp</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts3</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-76-26" name="__codelineno-76-26"></a><span class="w">        </span><span class="k">cast</span><span class="p">(</span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">timestamp</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts6</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-76-27" name="__codelineno-76-27"></a><span class="w">        </span><span class="k">cast</span><span class="p">(</span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">timestamp</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts9</span>
<a id="__codelineno-76-28" name="__codelineno-76-28"></a><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-76-29" name="__codelineno-76-29"></a>
<a id="__codelineno-76-30" name="__codelineno-76-30"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">ts3</span><span class="p">,</span><span class="w"> </span><span class="n">ts6</span><span class="p">,</span><span class="w"> </span><span class="n">ts9</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">timestamps</span><span class="p">;</span>
<a id="__codelineno-76-31" name="__codelineno-76-31"></a>
<a id="__codelineno-76-32" name="__codelineno-76-32"></a><span class="w">    </span><span class="c1">--Assert</span>
<a id="__codelineno-76-33" name="__codelineno-76-33"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="w"> </span><span class="p">(</span><span class="n">l_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="w"> </span><span class="p">(</span><span class="n">l_expected</span><span class="p">);</span>
<a id="__codelineno-76-34" name="__codelineno-76-34"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-76-35" name="__codelineno-76-35"></a><span class="w">  </span><span class="k">begin</span>
<a id="__codelineno-76-36" name="__codelineno-76-36"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="k">for</span>
<a id="__codelineno-76-37" name="__codelineno-76-37"></a><span class="w">      </span><span class="k">select</span><span class="w"> </span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts3</span><span class="p">,</span><span class="w"> </span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts6</span><span class="p">,</span><span class="w"> </span><span class="n">l_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ts9</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span><span class="w">  </span>
<a id="__codelineno-76-38" name="__codelineno-76-38"></a>
<a id="__codelineno-76-39" name="__codelineno-76-39"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">ts3</span><span class="p">,</span><span class="w"> </span><span class="n">ts6</span><span class="p">,</span><span class="w"> </span><span class="n">ts9</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">timestamps</span><span class="p">;</span>
<a id="__codelineno-76-40" name="__codelineno-76-40"></a>
<a id="__codelineno-76-41" name="__codelineno-76-41"></a><span class="w">    </span><span class="c1">--Assert</span>
<a id="__codelineno-76-42" name="__codelineno-76-42"></a><span class="w">    </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="w"> </span><span class="p">(</span><span class="n">l_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="w"> </span><span class="p">(</span><span class="n">l_expected</span><span class="p">);</span>
<a id="__codelineno-76-43" name="__codelineno-76-43"></a><span class="w">  </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-76-44" name="__codelineno-76-44"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-76-45" name="__codelineno-76-45"></a><span class="o">/</span>
<a id="__codelineno-76-46" name="__codelineno-76-46"></a>
<a id="__codelineno-76-47" name="__codelineno-76-47"></a><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">timestamps</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>SUCCESS
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>  Actual: refcursor [ count = 1 ] was expected to equal: refcursor [ count = 1 ]
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>FAILURE
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a>  Actual: refcursor [ count = 1 ] was expected to equal: refcursor [ count = 1 ]
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a>  Diff:
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>  Rows: [ 1 differences ]
<a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a>    Row No. 1 - Actual:   &lt;TS3&gt;2019-07-08T22:08:41.899&lt;/TS3&gt;&lt;TS6&gt;2019-07-08T22:08:41.899319&lt;/TS6&gt;
<a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a>    Row No. 1 - Expected: &lt;TS3&gt;2019-07-08T22:08:41.899319000&lt;/TS3&gt;&lt;TS6&gt;2019-07-08T22:08:41.899319000&lt;/TS6&gt;
<a id="__codelineno-77-9" name="__codelineno-77-9" href="#__codelineno-77-9"></a>  at &quot;anonymous block&quot;, line 32
</code></pre></div></p>
<h2 id="comparing-json-objects">Comparing Json objects<a class="headerlink" href="#comparing-json-objects" title="Permanent link">&para;</a></h2>
<p>utPLSQL is capable of comparing json data-types of <code>json_element_t</code> <strong>on Oracle 12.2 and above</strong>, and also <code>json</code> <strong>on Oracle 21 and above</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whenever a database is upgraded to compatible version the utPLSQL needs to be reinstalled to pick up json changes. E.g. upgrade from 18c to 21c to enable <code>json</code> type compare. </p>
</div>
<h3 id="notes-on-comparison-of-json-data">Notes on comparison of json data<a class="headerlink" href="#notes-on-comparison-of-json-data" title="Permanent link">&para;</a></h3>
<ul>
<li>Json data can contain objects, scalar or arrays.</li>
<li>During comparison of json objects the order doesn't matter.</li>
<li>During comparison of json arrays the index of element is taken into account</li>
<li>To compare json you have to make sure its type of  <code>json_element_t</code> or its subtypes</li>
<li>From version 21 and above a native <code>json</code> type is supported.</li>
</ul>
<p>Compare JSON example using <code>json_element_t</code>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-78-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-78-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-78-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-78-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-78-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-78-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-78-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-78-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-78-10">10</a></span>
<span class="normal"><a href="#__codelineno-78-11">11</a></span>
<span class="normal"><a href="#__codelineno-78-12">12</a></span>
<span class="normal"><a href="#__codelineno-78-13">13</a></span>
<span class="normal"><a href="#__codelineno-78-14">14</a></span>
<span class="normal"><a href="#__codelineno-78-15">15</a></span>
<span class="normal"><a href="#__codelineno-78-16">16</a></span>
<span class="normal"><a href="#__codelineno-78-17">17</a></span>
<span class="normal"><a href="#__codelineno-78-18">18</a></span>
<span class="normal"><a href="#__codelineno-78-19">19</a></span>
<span class="normal"><a href="#__codelineno-78-20">20</a></span>
<span class="normal"><a href="#__codelineno-78-21">21</a></span>
<span class="normal"><a href="#__codelineno-78-22">22</a></span>
<span class="normal"><a href="#__codelineno-78-23">23</a></span>
<span class="normal"><a href="#__codelineno-78-24">24</a></span>
<span class="normal"><a href="#__codelineno-78-25">25</a></span>
<span class="normal"><a href="#__codelineno-78-26">26</a></span>
<span class="normal"><a href="#__codelineno-78-27">27</a></span>
<span class="normal"><a href="#__codelineno-78-28">28</a></span>
<span class="normal"><a href="#__codelineno-78-29">29</a></span>
<span class="normal"><a href="#__codelineno-78-30">30</a></span>
<span class="normal"><a href="#__codelineno-78-31">31</a></span>
<span class="normal"><a href="#__codelineno-78-32">32</a></span>
<span class="normal"><a href="#__codelineno-78-33">33</a></span>
<span class="normal"><a href="#__codelineno-78-34">34</a></span>
<span class="normal"><a href="#__codelineno-78-35">35</a></span>
<span class="normal"><a href="#__codelineno-78-36">36</a></span>
<span class="normal"><a href="#__codelineno-78-37">37</a></span>
<span class="normal"><a href="#__codelineno-78-38">38</a></span>
<span class="normal"><a href="#__codelineno-78-39">39</a></span>
<span class="normal"><a href="#__codelineno-78-40">40</a></span>
<span class="normal"><a href="#__codelineno-78-41">41</a></span>
<span class="normal"><a href="#__codelineno-78-42">42</a></span>
<span class="normal"><a href="#__codelineno-78-43">43</a></span>
<span class="normal"><a href="#__codelineno-78-44">44</a></span>
<span class="normal"><a href="#__codelineno-78-45">45</a></span>
<span class="normal"><a href="#__codelineno-78-46">46</a></span>
<span class="normal"><a href="#__codelineno-78-47">47</a></span>
<span class="normal"><a href="#__codelineno-78-48">48</a></span>
<span class="normal"><a href="#__codelineno-78-49">49</a></span>
<span class="normal"><a href="#__codelineno-78-50">50</a></span>
<span class="normal"><a href="#__codelineno-78-51">51</a></span>
<span class="normal"><a href="#__codelineno-78-52">52</a></span>
<span class="normal"><a href="#__codelineno-78-53">53</a></span>
<span class="normal"><a href="#__codelineno-78-54">54</a></span>
<span class="normal"><a href="#__codelineno-78-55">55</a></span>
<span class="normal"><a href="#__codelineno-78-56">56</a></span>
<span class="normal"><a href="#__codelineno-78-57">57</a></span>
<span class="normal"><a href="#__codelineno-78-58">58</a></span>
<span class="normal"><a href="#__codelineno-78-59">59</a></span>
<span class="normal"><a href="#__codelineno-78-60">60</a></span>
<span class="normal"><a href="#__codelineno-78-61">61</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="k">declare</span>
<a id="__codelineno-78-2" name="__codelineno-78-2"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="n">json_element_t</span><span class="p">;</span>
<a id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="n">json_element_t</span><span class="p">;</span>
<a id="__codelineno-78-4" name="__codelineno-78-4"></a><span class="k">begin</span>
<a id="__codelineno-78-5" name="__codelineno-78-5"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">json_element_t</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span>
<a id="__codelineno-78-6" name="__codelineno-78-6"></a><span class="s1">    {</span>
<a id="__codelineno-78-7" name="__codelineno-78-7"></a><span class="s1">      &quot;Actors&quot;: [</span>
<a id="__codelineno-78-8" name="__codelineno-78-8"></a><span class="s1">        {</span>
<a id="__codelineno-78-9" name="__codelineno-78-9"></a><span class="s1">          &quot;name&quot;: &quot;Tom Cruise&quot;,</span>
<a id="__codelineno-78-10" name="__codelineno-78-10"></a><span class="s1">          &quot;age&quot;: 56,</span>
<a id="__codelineno-78-11" name="__codelineno-78-11"></a><span class="s1">          &quot;Birthdate&quot;: &quot;July 3, 1962&quot;,</span>
<a id="__codelineno-78-12" name="__codelineno-78-12"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-78-13" name="__codelineno-78-13"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-78-14" name="__codelineno-78-14"></a><span class="s1">            &quot;Connor&quot;</span>
<a id="__codelineno-78-15" name="__codelineno-78-15"></a><span class="s1">          ]</span>
<a id="__codelineno-78-16" name="__codelineno-78-16"></a><span class="s1">        },</span>
<a id="__codelineno-78-17" name="__codelineno-78-17"></a><span class="s1">        {</span>
<a id="__codelineno-78-18" name="__codelineno-78-18"></a><span class="s1">          &quot;name&quot;: &quot;Robert Downey Jr.&quot;,</span>
<a id="__codelineno-78-19" name="__codelineno-78-19"></a><span class="s1">          &quot;age&quot;: 53,</span>
<a id="__codelineno-78-20" name="__codelineno-78-20"></a><span class="s1">          &quot;Birthdate&quot;: &quot;April 4, 1965&quot;,</span>
<a id="__codelineno-78-21" name="__codelineno-78-21"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-78-22" name="__codelineno-78-22"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-78-23" name="__codelineno-78-23"></a><span class="s1">            &quot;Exton Elias&quot;</span>
<a id="__codelineno-78-24" name="__codelineno-78-24"></a><span class="s1">          ]</span>
<a id="__codelineno-78-25" name="__codelineno-78-25"></a><span class="s1">        }</span>
<a id="__codelineno-78-26" name="__codelineno-78-26"></a><span class="s1">      ]</span>
<a id="__codelineno-78-27" name="__codelineno-78-27"></a><span class="s1">    }&#39;</span>
<a id="__codelineno-78-28" name="__codelineno-78-28"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-78-29" name="__codelineno-78-29"></a>
<a id="__codelineno-78-30" name="__codelineno-78-30"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">   </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">json_element_t</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span>
<a id="__codelineno-78-31" name="__codelineno-78-31"></a><span class="s1">    {</span>
<a id="__codelineno-78-32" name="__codelineno-78-32"></a><span class="s1">      &quot;Actors&quot;: [</span>
<a id="__codelineno-78-33" name="__codelineno-78-33"></a><span class="s1">        {</span>
<a id="__codelineno-78-34" name="__codelineno-78-34"></a><span class="s1">          &quot;name&quot;: &quot;Tom Cruise&quot;,</span>
<a id="__codelineno-78-35" name="__codelineno-78-35"></a><span class="s1">          &quot;age&quot;: 56,</span>
<a id="__codelineno-78-36" name="__codelineno-78-36"></a><span class="s1">          &quot;Birthdate&quot;: &quot;1962.07.03&quot;,</span>
<a id="__codelineno-78-37" name="__codelineno-78-37"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-78-38" name="__codelineno-78-38"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-78-39" name="__codelineno-78-39"></a><span class="s1">            &quot;Suri&quot;,</span>
<a id="__codelineno-78-40" name="__codelineno-78-40"></a><span class="s1">            &quot;Isabella Jane&quot;,</span>
<a id="__codelineno-78-41" name="__codelineno-78-41"></a><span class="s1">            &quot;Connor&quot;</span>
<a id="__codelineno-78-42" name="__codelineno-78-42"></a><span class="s1">          ]</span>
<a id="__codelineno-78-43" name="__codelineno-78-43"></a><span class="s1">        },</span>
<a id="__codelineno-78-44" name="__codelineno-78-44"></a><span class="s1">        {</span>
<a id="__codelineno-78-45" name="__codelineno-78-45"></a><span class="s1">          &quot;name&quot;: &quot;Jr., Robert Downey&quot;,</span>
<a id="__codelineno-78-46" name="__codelineno-78-46"></a><span class="s1">          &quot;age&quot;: 53,</span>
<a id="__codelineno-78-47" name="__codelineno-78-47"></a><span class="s1">          &quot;Birthdate&quot;: &quot;April 4, 1965&quot;,</span>
<a id="__codelineno-78-48" name="__codelineno-78-48"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-78-49" name="__codelineno-78-49"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-78-50" name="__codelineno-78-50"></a><span class="s1">            &quot;Indio Falconer&quot;,</span>
<a id="__codelineno-78-51" name="__codelineno-78-51"></a><span class="s1">            &quot;Avri Roel&quot;,</span>
<a id="__codelineno-78-52" name="__codelineno-78-52"></a><span class="s1">            &quot;Exton Elias&quot;</span>
<a id="__codelineno-78-53" name="__codelineno-78-53"></a><span class="s1">          ]</span>
<a id="__codelineno-78-54" name="__codelineno-78-54"></a><span class="s1">        }</span>
<a id="__codelineno-78-55" name="__codelineno-78-55"></a><span class="s1">      ]</span>
<a id="__codelineno-78-56" name="__codelineno-78-56"></a><span class="s1">    }&#39;</span>
<a id="__codelineno-78-57" name="__codelineno-78-57"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-78-58" name="__codelineno-78-58"></a>
<a id="__codelineno-78-59" name="__codelineno-78-59"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="w"> </span><span class="n">l_actual</span><span class="w"> </span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="w"> </span><span class="n">l_expected</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-78-60" name="__codelineno-78-60"></a>
<a id="__codelineno-78-61" name="__codelineno-78-61"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>FAILURE
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>  Actual: json was expected to equal: json
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a>  Diff: 8 differences found
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a>  4 unequal values, 4 missing properties
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a>    Extra   property: &quot;Avri Roel&quot; on path: $.&quot;Actors&quot;[1].&quot;children&quot;[1]
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a>    Extra   property: &quot;Isabella Jane&quot; on path: $.&quot;Actors&quot;[0].&quot;children&quot;[1]
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a>    Extra   property: &quot;Connor&quot; on path: $.&quot;Actors&quot;[0].&quot;children&quot;[2]
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a>    Extra   property: &quot;Exton Elias&quot; on path: $.&quot;Actors&quot;[1].&quot;children&quot;[2]
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a>    Actual value: &quot;Robert Downey Jr.&quot; was expected to be: &quot;Jr., Robert Downey&quot; on path: $.&quot;Actors&quot;[1].&quot;name&quot;
<a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a>    Actual value: &quot;July 3, 1962&quot; was expected to be: &quot;1962.07.03&quot; on path: $.&quot;Actors&quot;[0].&quot;Birthdate&quot;
<a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a>    Actual value: &quot;Connor&quot; was expected to be: &quot;Suri&quot; on path: $.&quot;Actors&quot;[0].&quot;children&quot;[0]
<a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a>    Actual value: &quot;Exton Elias&quot; was expected to be: &quot;Indio Falconer&quot; on path: $.&quot;Actors&quot;[1].&quot;children&quot;[0]
<a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a>  at &quot;anonymous block&quot;, line 59
</code></pre></div></p>
<p>Comparing parts of JSON example using <code>json_element_t</code> subtypes:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-80-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-80-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-80-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-80-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-80-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-80-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-80-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-80-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-80-10">10</a></span>
<span class="normal"><a href="#__codelineno-80-11">11</a></span>
<span class="normal"><a href="#__codelineno-80-12">12</a></span>
<span class="normal"><a href="#__codelineno-80-13">13</a></span>
<span class="normal"><a href="#__codelineno-80-14">14</a></span>
<span class="normal"><a href="#__codelineno-80-15">15</a></span>
<span class="normal"><a href="#__codelineno-80-16">16</a></span>
<span class="normal"><a href="#__codelineno-80-17">17</a></span>
<span class="normal"><a href="#__codelineno-80-18">18</a></span>
<span class="normal"><a href="#__codelineno-80-19">19</a></span>
<span class="normal"><a href="#__codelineno-80-20">20</a></span>
<span class="normal"><a href="#__codelineno-80-21">21</a></span>
<span class="normal"><a href="#__codelineno-80-22">22</a></span>
<span class="normal"><a href="#__codelineno-80-23">23</a></span>
<span class="normal"><a href="#__codelineno-80-24">24</a></span>
<span class="normal"><a href="#__codelineno-80-25">25</a></span>
<span class="normal"><a href="#__codelineno-80-26">26</a></span>
<span class="normal"><a href="#__codelineno-80-27">27</a></span>
<span class="normal"><a href="#__codelineno-80-28">28</a></span>
<span class="normal"><a href="#__codelineno-80-29">29</a></span>
<span class="normal"><a href="#__codelineno-80-30">30</a></span>
<span class="normal"><a href="#__codelineno-80-31">31</a></span>
<span class="normal"><a href="#__codelineno-80-32">32</a></span>
<span class="normal"><a href="#__codelineno-80-33">33</a></span>
<span class="normal"><a href="#__codelineno-80-34">34</a></span>
<span class="normal"><a href="#__codelineno-80-35">35</a></span>
<span class="normal"><a href="#__codelineno-80-36">36</a></span>
<span class="normal"><a href="#__codelineno-80-37">37</a></span>
<span class="normal"><a href="#__codelineno-80-38">38</a></span>
<span class="normal"><a href="#__codelineno-80-39">39</a></span>
<span class="normal"><a href="#__codelineno-80-40">40</a></span>
<span class="normal"><a href="#__codelineno-80-41">41</a></span>
<span class="normal"><a href="#__codelineno-80-42">42</a></span>
<span class="normal"><a href="#__codelineno-80-43">43</a></span>
<span class="normal"><a href="#__codelineno-80-44">44</a></span>
<span class="normal"><a href="#__codelineno-80-45">45</a></span>
<span class="normal"><a href="#__codelineno-80-46">46</a></span>
<span class="normal"><a href="#__codelineno-80-47">47</a></span>
<span class="normal"><a href="#__codelineno-80-48">48</a></span>
<span class="normal"><a href="#__codelineno-80-49">49</a></span>
<span class="normal"><a href="#__codelineno-80-50">50</a></span>
<span class="normal"><a href="#__codelineno-80-51">51</a></span>
<span class="normal"><a href="#__codelineno-80-52">52</a></span>
<span class="normal"><a href="#__codelineno-80-53">53</a></span>
<span class="normal"><a href="#__codelineno-80-54">54</a></span>
<span class="normal"><a href="#__codelineno-80-55">55</a></span>
<span class="normal"><a href="#__codelineno-80-56">56</a></span>
<span class="normal"><a href="#__codelineno-80-57">57</a></span>
<span class="normal"><a href="#__codelineno-80-58">58</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a><span class="k">declare</span>
<a id="__codelineno-80-2" name="__codelineno-80-2"></a><span class="w">  </span><span class="n">l_actual</span><span class="w">         </span><span class="n">json_object_t</span><span class="p">;</span>
<a id="__codelineno-80-3" name="__codelineno-80-3"></a><span class="w">  </span><span class="n">l_actual_extract</span><span class="w"> </span><span class="n">json_array_t</span><span class="p">;</span>
<a id="__codelineno-80-4" name="__codelineno-80-4"></a><span class="w">  </span><span class="n">l_expected</span><span class="w">       </span><span class="n">json_array_t</span><span class="p">;</span>
<a id="__codelineno-80-5" name="__codelineno-80-5"></a><span class="k">begin</span>
<a id="__codelineno-80-6" name="__codelineno-80-6"></a><span class="w">  </span><span class="c1">-- Arrange</span>
<a id="__codelineno-80-7" name="__codelineno-80-7"></a><span class="w">  </span><span class="n">l_expected</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">json_array_t</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span>
<a id="__codelineno-80-8" name="__codelineno-80-8"></a><span class="s1">    [</span>
<a id="__codelineno-80-9" name="__codelineno-80-9"></a><span class="s1">      &quot;Indio Falconer&quot;,</span>
<a id="__codelineno-80-10" name="__codelineno-80-10"></a><span class="s1">      &quot;Avri Roel&quot;,</span>
<a id="__codelineno-80-11" name="__codelineno-80-11"></a><span class="s1">      &quot;Exton Elias&quot;</span>
<a id="__codelineno-80-12" name="__codelineno-80-12"></a><span class="s1">    ]&#39;</span>
<a id="__codelineno-80-13" name="__codelineno-80-13"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-80-14" name="__codelineno-80-14"></a>
<a id="__codelineno-80-15" name="__codelineno-80-15"></a><span class="w">  </span><span class="n">l_actual</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">json_object_t</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span>
<a id="__codelineno-80-16" name="__codelineno-80-16"></a><span class="s1">    {</span>
<a id="__codelineno-80-17" name="__codelineno-80-17"></a><span class="s1">      &quot;Actors&quot;: [</span>
<a id="__codelineno-80-18" name="__codelineno-80-18"></a><span class="s1">         {</span>
<a id="__codelineno-80-19" name="__codelineno-80-19"></a><span class="s1">            &quot;name&quot;: &quot;Tom Cruise&quot;,</span>
<a id="__codelineno-80-20" name="__codelineno-80-20"></a><span class="s1">          &quot;age&quot;: 56,</span>
<a id="__codelineno-80-21" name="__codelineno-80-21"></a><span class="s1">           &quot;Born At&quot;: &quot;Syracuse, NY&quot;,</span>
<a id="__codelineno-80-22" name="__codelineno-80-22"></a><span class="s1">          &quot;Birthdate&quot;: &quot;July 3, 1962&quot;,</span>
<a id="__codelineno-80-23" name="__codelineno-80-23"></a><span class="s1">          &quot;photo&quot;: &quot;https://jsonformatter.org/img/tom-cruise.jpg&quot;,</span>
<a id="__codelineno-80-24" name="__codelineno-80-24"></a><span class="s1">          &quot;wife&quot;: null,</span>
<a id="__codelineno-80-25" name="__codelineno-80-25"></a><span class="s1">          &quot;weight&quot;: 67.5,</span>
<a id="__codelineno-80-26" name="__codelineno-80-26"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-80-27" name="__codelineno-80-27"></a><span class="s1">          &quot;hasGreyHair&quot;: false,</span>
<a id="__codelineno-80-28" name="__codelineno-80-28"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-80-29" name="__codelineno-80-29"></a><span class="s1">            &quot;Suri&quot;,</span>
<a id="__codelineno-80-30" name="__codelineno-80-30"></a><span class="s1">            &quot;Isabella Jane&quot;,</span>
<a id="__codelineno-80-31" name="__codelineno-80-31"></a><span class="s1">            &quot;Connor&quot;</span>
<a id="__codelineno-80-32" name="__codelineno-80-32"></a><span class="s1">          ]</span>
<a id="__codelineno-80-33" name="__codelineno-80-33"></a><span class="s1">        },</span>
<a id="__codelineno-80-34" name="__codelineno-80-34"></a><span class="s1">        {</span>
<a id="__codelineno-80-35" name="__codelineno-80-35"></a><span class="s1">            &quot;name&quot;: &quot;Robert Downey Jr.&quot;,</span>
<a id="__codelineno-80-36" name="__codelineno-80-36"></a><span class="s1">          &quot;age&quot;: 53,</span>
<a id="__codelineno-80-37" name="__codelineno-80-37"></a><span class="s1">          &quot;Born At&quot;: &quot;New York City, NY&quot;,</span>
<a id="__codelineno-80-38" name="__codelineno-80-38"></a><span class="s1">          &quot;Birthdate&quot;: &quot;April 4, 1965&quot;,</span>
<a id="__codelineno-80-39" name="__codelineno-80-39"></a><span class="s1">          &quot;photo&quot;: &quot;https://jsonformatter.org/img/Robert-Downey-Jr.jpg&quot;,</span>
<a id="__codelineno-80-40" name="__codelineno-80-40"></a><span class="s1">          &quot;wife&quot;: &quot;Susan Downey&quot;,</span>
<a id="__codelineno-80-41" name="__codelineno-80-41"></a><span class="s1">           &quot;weight&quot;: 77.1,</span>
<a id="__codelineno-80-42" name="__codelineno-80-42"></a><span class="s1">          &quot;hasChildren&quot;: true,</span>
<a id="__codelineno-80-43" name="__codelineno-80-43"></a><span class="s1">          &quot;hasGreyHair&quot;: false,</span>
<a id="__codelineno-80-44" name="__codelineno-80-44"></a><span class="s1">          &quot;children&quot;: [</span>
<a id="__codelineno-80-45" name="__codelineno-80-45"></a><span class="s1">            &quot;Indio Falconer&quot;,</span>
<a id="__codelineno-80-46" name="__codelineno-80-46"></a><span class="s1">            &quot;Exton Elias&quot;</span>
<a id="__codelineno-80-47" name="__codelineno-80-47"></a><span class="s1">          ]</span>
<a id="__codelineno-80-48" name="__codelineno-80-48"></a><span class="s1">        }</span>
<a id="__codelineno-80-49" name="__codelineno-80-49"></a><span class="s1">      ]</span>
<a id="__codelineno-80-50" name="__codelineno-80-50"></a><span class="s1">    }&#39;</span>
<a id="__codelineno-80-51" name="__codelineno-80-51"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-80-52" name="__codelineno-80-52"></a>
<a id="__codelineno-80-53" name="__codelineno-80-53"></a><span class="w">  </span><span class="n">l_actual_extract</span><span class="w">   </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">json_array_t</span><span class="p">(</span><span class="n">json_query</span><span class="p">(</span><span class="n">l_actual</span><span class="p">.</span><span class="n">stringify</span><span class="p">,</span><span class="s1">&#39;$.Actors[1].children&#39;</span><span class="p">));</span>
<a id="__codelineno-80-54" name="__codelineno-80-54"></a><span class="w">  </span><span class="c1">--Act</span>
<a id="__codelineno-80-55" name="__codelineno-80-55"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">l_actual_extract</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">l_expected</span><span class="p">);</span>
<a id="__codelineno-80-56" name="__codelineno-80-56"></a>
<a id="__codelineno-80-57" name="__codelineno-80-57"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-80-58" name="__codelineno-80-58"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<p>Returns following output via DBMS_OUTPUT:
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>FAILURE
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>  Actual: json was expected to equal: json
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>  Diff: 2 differences found
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a>  1 unequal values, 1 missing properties
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>    Missing property: &quot;Exton Elias&quot; on path: $[2]
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>    Actual value: &quot;Avri Roel&quot; was expected to be: &quot;Exton Elias&quot; on path: $[1]
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>  at &quot;anonymous block&quot;, line 55
</code></pre></div></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">October 22, 2024 21:47:42</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">January 15, 2017 02:28:15</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2022 utPLSQL Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/utPLSQL" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://join.slack.com/t/utplsql/shared_invite/zt-xwm68udy-4cF_3PNEyczYEbWr38W5ww" target="_blank" rel="noopener" title="join.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/utPLSQL" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:utPLSQL@utPLSQL.org" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tracking", "toc.follow", "toc.integrate", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>