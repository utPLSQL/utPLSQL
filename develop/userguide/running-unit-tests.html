
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="utPLSQL Ultimate Testing Framework for Oracle PL/SQL & SQL">
      
      
      
        <link rel="canonical" href="http://utPLSQL.org/develop/userguide/running-unit-tests.html">
      
      
        <link rel="prev" href="advanced_data_comparison.html">
      
      
        <link rel="next" href="querying_suites.html">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Running unit tests - utPLSQL-framework</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#running-from-ci-servers-and-command-line" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="utPLSQL-framework" class="md-header__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            utPLSQL-framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Running unit tests
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../index.html" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="reporters.html" class="md-tabs__link">
          
  
  Reporting

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../about/project-details.html" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="utPLSQL-framework" class="md-nav__button md-logo" aria-label="utPLSQL-framework" data-md-component="logo">
      
  <img src="../assets/icon-transparent.png" alt="logo">

    </a>
    utPLSQL-framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/utPLSQL/utPLSQL" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="getting-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="annotations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="expectations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expectations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="advanced_data_comparison.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced data comparison
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Running unit tests
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="running-unit-tests.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Running unit tests
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-from-ci-servers-and-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Running from CI servers and command line
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utrun" class="md-nav__link">
    <span class="md-ellipsis">
      ut.run
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ut.run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utrun-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      ut.run procedures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utrun-functions" class="md-nav__link">
    <span class="md-ellipsis">
      ut.run functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ut_runnerrun-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      ut_runner.run procedures
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#order-of-test-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Order of test execution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Order of test execution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-order" class="md-nav__link">
    <span class="md-ellipsis">
      Default order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random-order" class="md-nav__link">
    <span class="md-ellipsis">
      Random order
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-by-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Run by Tags
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run by Tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tag-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Tag Expressions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-execution-of-test-with-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Sample execution of test with tags.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excluding-testssuites-by-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Excluding tests/suites by tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-execution-with-any-and-none" class="md-nav__link">
    <span class="md-ellipsis">
      Sample execution with any and none
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#keeping-uncommitted-data-after-test-run" class="md-nav__link">
    <span class="md-ellipsis">
      Keeping uncommitted data after test-run
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reports-character-set-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Reports character-set encoding
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="querying_suites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Querying for test suites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="best-practices.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing best practices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade utPLSQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reporting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Reporting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="reporters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using reporters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="coverage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code coverage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exception-reporting.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error handling and reporting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/project-details.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/support.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/authors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Running unit tests</h1>

<p><img alt="version" src="https://img.shields.io/badge/version-v3.1.14.4206--develop-blue.svg" /></p>
<p>utPLSQL framework provides two main entry points to run unit tests from within the database: </p>
<ul>
<li><code>ut.run</code> procedures and functions</li>
<li><code>ut_runner.run</code> procedures</li>
</ul>
<p>These two entry points differ in purpose and behavior.
Most of the time you will want to use <code>ut.run</code> as <code>ut_runner.run</code> is designed for API integration and does not display the results to the screen.</p>
<h2 id="running-from-ci-servers-and-command-line">Running from CI servers and command line<a class="headerlink" href="#running-from-ci-servers-and-command-line" title="Permanent link">&para;</a></h2>
<p>The best way to run your tests from CI server or command line is to use the <a href="https://github.com/utPLSQL/utPLSQL-cli">utPLSQL-cli</a> command line client.</p>
<p>Amongst many benefits it provides ability to:
* see the progress of test execution for long-running tests - real-time reporting
* use many reporting formats simultaneously and save reports to files (publish)
* map your project source files and test files into database objects </p>
<p>You may download the latest release of the command line client from <a href="https://github.com/utPLSQL/utPLSQL-cli/releases/latest">here</a> or do it automatically using the command below (Unix).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># Get the url to latest release &quot;zip&quot; file</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nv">DOWNLOAD_URL</span><span class="o">=</span><span class="k">$(</span>curl<span class="w"> </span>--silent<span class="w"> </span>https://api.github.com/repos/utPLSQL/utPLSQL-cli/releases/latest<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/browser_download_url/ { print $2 }&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;.zip\&quot;&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/&quot;//g&#39;</span><span class="k">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Download the latest release &quot;zip&quot; file</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>curl<span class="w"> </span>-Lk<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">DOWNLOAD_URL</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-o<span class="w"> </span>utplsql-cli.zip
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1"># Extract downloaded &quot;zip&quot; file</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>unzip<span class="w"> </span>-q<span class="w"> </span>utplsql-cli.zip
</code></pre></div>
<h2 id="utrun">ut.run<a class="headerlink" href="#utrun" title="Permanent link">&para;</a></h2>
<p>The <code>ut</code> package contains overloaded <code>run</code> procedures and functions.
The <code>run</code> API is designed to be called directly by a developer when using an IDE/SQL console to execute unit tests.
The main benefit of using this API is it's simplicity.
A single line call is enough to execute a set of tests from one or more schemes.</p>
<p>The <strong>procedures</strong> execute the specified tests and produce output to DBMS_OUTPUT using the specified reporter.
The <strong>functions</strong> can only be used in SELECT statements. They execute the specified tests and produce outputs as a pipelined data stream to be consumed by a select statement.</p>
<h3 id="utrun-procedures">ut.run procedures<a class="headerlink" href="#utrun-procedures" title="Permanent link">&para;</a></h3>
<p>The examples below illustrate different ways and options to invoke <code>ut.run</code> procedures.
You can use a wildcard character <code>*</code> to call tests by part of their name or to call tests that are located on paths matched by part of path string.
Wildcard character can be placed anywhere on the path and can occur mutliple times.
Schema name cannot contain a wildcard character whether is in a suitepath call or call by object name.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">alter</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">current_schema</span><span class="o">=</span><span class="n">hr</span><span class="p">;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="k">begin</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests in current schema (<em>HR</em>).</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">begin</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;HR&#39;</span><span class="p">);</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests in specified schema (<em>HR</em>).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">begin</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr:com.my_org.my_project&#39;</span><span class="p">);</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Executes all tests from all packages that are on the <em>com.my_org.my_project</em> suitepath.
Check the <a href="annotations.html">annotations documentation</a> to find out about suitepaths and how they can be used to organize test packages for your project.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">begin</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr:com*&#39;</span><span class="p">);</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Executes all tests in schema <code>hr</code> from all packages that are on suitepath starting with <code>com</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="k">begin</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr:co*.my_*.my_*&#39;</span><span class="p">);</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Executes all tests in schema <code>hr</code> from all packages that starting with <code>my_</code> and all tests starting with <code>my_*</code> that are on suitepath starting with <code>co</code> .</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="k">begin</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">);</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests from package <em>hr.test_apply_bonus</em>. </p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">begin</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus.bonus_cannot_be_negative&#39;</span><span class="p">);</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes single test procedure <em>hr.test_apply_bonus.bonus_cannot_be_negative</em>.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="k">begin</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="s1">&#39;cust&#39;</span><span class="p">));</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests from package <em>hr.test_apply_bonus</em> and all tests from schema <em>cust</em> (passing individual items to be executed as elements of the ut_varchar2_list table type).</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="k">begin</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">ut_varchar2_list</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus,cust&#39;</span><span class="p">));</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests from package <em>hr.test_apply_bonus</em> and all tests from schema <em>cust</em> (passing all items as a comma-separated-list of values into a single element of the ut_varchar2_list table type).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="k">begin</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus,cust&#39;</span><span class="p">);</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Executes all tests from package <em>hr.test_apply_bonus</em> and all tests from schema <em>cust</em> (no explicit ut_varchar2_list table type).</p>
<p>Using a list of items to execute allows you to execute a fine-grained set of tests.</p>
<p>List can be passed as a comma separated list or a list of <em>ut_varchar2_list objects</em> or as a list within ut_varchar2_list.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="k">begin</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test*&#39;</span><span class="p">);</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests in schema <code>hr</code> located in packages starting with name <code>test</code>.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="k">begin</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus.bonus_*&#39;</span><span class="p">);</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes test procedures with names starting with <code>bonus</code> in package <code>hr.test_apply_bonus</code> .</p>
<p><strong>Note:</strong></p>
<p><code>ut_documentation_reporter</code> is the default reporter for all APIs defined for running unit tests.</p>
<p>The <code>ut.run</code> procedures and functions accept <code>a_reporter</code> attribute that defines the reporter to be used in the run.
You can execute any set of tests with any of the predefined reporters.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="k">begin</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ut_junit_reporter</span><span class="p">());</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
Executes all tests from package <em>HR.TEST_APPLY_BONUS</em> and provide outputs to DBMS_OUTPUT using the JUnit reporter. </p>
<p>For details on build-in reporters look at <a href="reporters.html">reporters documentation</a>.</p>
<h3 id="utrun-functions">ut.run functions<a class="headerlink" href="#utrun-functions" title="Permanent link">&para;</a></h3>
<p>The <code>ut.run</code> functions provide exactly the same functionality as the <code>ut.run</code> procedures. 
You may use the same sets of parameters with both functions and procedures. 
The only difference is the output of the results.
Functions provide output as a pipelined stream and therefore need to be executed as select statements.</p>
<p><strong>Note:</strong></p>
<blockquote>
<p>When running tests with <code>ut.run</code> functions, whole test run is executed as autonomous transaction.
At the end of the run, the transaction is automatically rolled-back and all uncommitted changes are reverted.   </p>
</blockquote>
<p>Example.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ut_junit_reporter</span><span class="p">()));</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="ut_runnerrun-procedures">ut_runner.run procedures<a class="headerlink" href="#ut_runnerrun-procedures" title="Permanent link">&para;</a></h2>
<p>The <code>ut_runner</code> package provides an API for integrating utPLSQL with other products. Maven, Jenkins, SQL Develper, PL/SQL Developer, TOAD and others can leverage this API to call utPLSQL.</p>
<p>The main difference compared to the <code>ut.run</code> API is that <code>ut_runner.run</code> does not print output to the screen.</p>
<p><code>ut_runner.run</code> accepts multiple reporters. Each reporter pipes to a separate output (uniquely identified by output_id).
Outputs of multiple reporters can be consumed in parallel. This allows for live reporting of test execution progress with threads and several database sessions.</p>
<p><code>ut_runner.run</code> API is used by utPLSQL-cli, utPLSQL-SQLDeveloper extension and utPLSQL-maven-plugin and allows for:
- deciding on the scope of test run (by schema names, object names, suite paths or tags )
- running tests with several concurrent reporters
- real-time reporting of test execution progress
- controlling colored text output to the screen
- controlling scope of code coverage reports
- mapping of database source code to project files
- controlling behavior on test-failures
- controlling client character set for HTML and XML reports
- controlling rollback behavior of test-run
- controlling random order of test execution</p>
<p>Running with multiple reporters.</p>
<ul>
<li>in the main thread (session), define the reporters to be used. Each reporter has it's output_id and so you need to extract and store those output_ids.</li>
<li>as a separate thread, start <code>ut_runner.run</code> and pass reporters with previously defined output_ids.</li>
<li>for each reporter start a separate thread and read outputs from the <code>reporter.get_lines</code> table function or from <code>reporter.get_lines_cursor()</code> by providing the <code>reporter_id</code> defined in the main thread.</li>
<li>each reporter for each test-run must have a unique <code>reporter_id</code>. The <code>reporter_id</code> is used between two sessions to identify the data stream </li>
</ul>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span>
<span class="normal"><a href="#__codelineno-15-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1">--main test run ( session 1 )</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="k">declare</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">  </span><span class="n">l_reporter</span><span class="w">      </span><span class="n">ut_realtime_reporter</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ut_realtime_reporter</span><span class="p">();</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="k">begin</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="w">  </span><span class="n">l_reporter</span><span class="p">.</span><span class="n">set_reporter_id</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;d8a79e85915640a6a4e1698fdf90ba74&#39;</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="w">  </span><span class="n">l_reporter</span><span class="p">.</span><span class="n">output_buffer</span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">  </span><span class="n">ut_runner</span><span class="p">.</span><span class="n">run</span><span class="w"> </span><span class="p">(</span><span class="n">ut_varchar2_list</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ut3_tester&#39;</span><span class="p">,</span><span class="s1">&#39;ut3_user&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">ut_reporters</span><span class="p">(</span><span class="w"> </span><span class="n">l_reporter</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="c1">--report consumer ( session 2 )</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="k">set</span><span class="w"> </span><span class="n">arraysize</span><span class="w"> </span><span class="mi">1</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="k">set</span><span class="w"> </span><span class="n">pagesize</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">         </span><span class="n">ut_realtime_reporter</span><span class="p">()</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="w">           </span><span class="p">.</span><span class="n">set_reporter_id</span><span class="p">(</span><span class="s1">&#39;d8a79e85915640a6a4e1698fdf90ba74&#39;</span><span class="p">)</span>
<a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">           </span><span class="p">.</span><span class="n">get_lines</span><span class="p">()</span>
<a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span>
<span class="normal"><a href="#__codelineno-17-6">6</a></span>
<span class="normal"><a href="#__codelineno-17-7">7</a></span>
<span class="normal"><a href="#__codelineno-17-8">8</a></span>
<span class="normal"><a href="#__codelineno-17-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="c1">--alternative version of report consumer ( session 2 )</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="k">set</span><span class="w"> </span><span class="n">arraysize</span><span class="w"> </span><span class="mi">1</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="k">set</span><span class="w"> </span><span class="n">pagesize</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="k">select</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">    </span><span class="n">ut_realtime_reporter</span><span class="p">()</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">      </span><span class="p">.</span><span class="n">set_reporter_id</span><span class="p">(</span><span class="s1">&#39;d8a79e85915640a6a4e1698fdf90ba74&#39;</span><span class="p">)</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w">      </span><span class="p">.</span><span class="n">get_lines_cursor</span><span class="p">()</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h2 id="order-of-test-execution">Order of test execution<a class="headerlink" href="#order-of-test-execution" title="Permanent link">&para;</a></h2>
<h3 id="default-order">Default order<a class="headerlink" href="#default-order" title="Permanent link">&para;</a></h3>
<p>When unit tests are executed without random order, they are ordered by:
- schema name
- suite path or test package name if <code>--%suitepath</code> was not specified for that package<br />
- <code>--%test</code> line number in package</p>
<h3 id="random-order">Random order<a class="headerlink" href="#random-order" title="Permanent link">&para;</a></h3>
<p>You can force a test run to execute tests in random order by providing one of options to <code>ut.run</code>:
- <code>a_random_test_order</code> - true/false for procedures and 1/0 for functions
- <code>a_random_test_order_seed</code> - positive number in range of 1 .. 1 000 000 000 </p>
<p>When tests are executed with random order, randomization is applied to single level of suitepath hierarchy tree.
This is needed to maintain visibility and accessibility of common setup/cleanup <code>beforeall</code>/<code>afterall</code> in tests.</p>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="k">begin</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_random_test_order</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">true</span><span class="p">);</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_random_test_order</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>When running with random order, the default report (<code>ut_documentation_reporter</code>) will include information about the random test run seed.
Example output:
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>...
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>Finished in .12982 seconds
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>35 tests, 0 failed, 0 errored, 1 disabled, 0 warning(s)
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>Tests were executed with random order seed &#39;302980531&#39;.
</code></pre></div></p>
<p>If you want to re-run tests using previously generated seed, you may do so by running them with parameter <code>a_random_test_order_seed</code>
Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="k">begin</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_random_test_order_seed</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">302980531</span><span class="p">);</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_random_test_order_seed</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">302980531</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p><strong>Note</strong></p>
<blockquote>
<p>Random order seed must be a positive number within range of 1 .. 1 000 000 000. </p>
</blockquote>
<h2 id="run-by-tags">Run by Tags<a class="headerlink" href="#run-by-tags" title="Permanent link">&para;</a></h2>
<p>In addition to the path, you can filter the tests to be run by specifying tags. Tags are defined in the test / context / suite with the <code>--%tags</code>-annotation (<a href="annotations.html#tags">Read more</a>).<br />
Multiple tags are separated by comma. </p>
<h3 id="tag-expressions">Tag Expressions<a class="headerlink" href="#tag-expressions" title="Permanent link">&para;</a></h3>
<p>Tag expressions are boolean expressions created by combining tags with the <code>!</code>, <code>&amp;</code>, <code>|</code> operators. Tag expressions can be grouped using <code>(</code> and <code>)</code> braces. Grouping tag expressions affects operator precedence.</p>
<p>Two reserved keywords, <code>any</code> and <code>none</code>, can be used when creating a tag expression to run tests.
- <code>any</code> keyword represents tests and suites with any tags
- <code>none</code> keyword represents tests and suites without tags</p>
<p>These keywords may be combined with other expressions just like normal tags.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When specifying <code>none</code>, be aware that it will exclude any tests/suites/contexts contained within a tagged suite.</p>
</div>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>!</td>
<td>not</td>
</tr>
<tr>
<td>&amp;</td>
<td>and</td>
</tr>
<tr>
<td>|</td>
<td>or</td>
</tr>
</tbody>
</table>
<p>If you are tagging your tests across multiple dimensions, tag expressions help you to select which tests to execute. When tagging by test type (e.g., micro, integration, end-to-end) and feature (e.g., product, catalog, shipping), the following tag expressions can be useful.</p>
<table>
<thead>
<tr>
<th>Tag Expression</th>
<th>Selection</th>
</tr>
</thead>
<tbody>
<tr>
<td>product</td>
<td>all tests for product</td>
</tr>
<tr>
<td>catalog | shipping</td>
<td>all tests for catalog plus all tests for shipping</td>
</tr>
<tr>
<td>catalog &amp; shipping</td>
<td>all tests that are tagged with both <code>catalog</code> and <code>shipping</code> tags</td>
</tr>
<tr>
<td>product &amp; !end-to-end</td>
<td>all tests tagged <code>product</code>, except the tests tagged <code>end-to-end</code></td>
</tr>
<tr>
<td>(micro | integration) &amp; (product | shipping)</td>
<td>all micro or integration tests for product or shipping</td>
</tr>
</tbody>
</table>
<p>Taking the last expression above <code>(micro | integration) &amp; (product | shipping)</code></p>
<table>
<thead>
<tr>
<th>--%tags</th>
<th>included in run</th>
</tr>
</thead>
<tbody>
<tr>
<td>micro</td>
<td>no</td>
</tr>
<tr>
<td>integration</td>
<td>no</td>
</tr>
<tr>
<td>micro</td>
<td>no</td>
</tr>
<tr>
<td>product</td>
<td>no</td>
</tr>
<tr>
<td>shipping</td>
<td>no</td>
</tr>
<tr>
<td>micro</td>
<td>no</td>
</tr>
<tr>
<td>micro, integration</td>
<td>no</td>
</tr>
<tr>
<td>product, shipping</td>
<td>no</td>
</tr>
<tr>
<td>micro, product</td>
<td>yes</td>
</tr>
<tr>
<td>micro, shipping</td>
<td>yes</td>
</tr>
<tr>
<td>integration, product</td>
<td>yes</td>
</tr>
<tr>
<td>integration, shipping</td>
<td>yes</td>
</tr>
<tr>
<td>integration, micro, shipping</td>
<td>yes</td>
</tr>
<tr>
<td>integration, micro, product</td>
<td>yes</td>
</tr>
<tr>
<td>integration, shipping ,product</td>
<td>yes</td>
</tr>
<tr>
<td>micro, shipping ,product</td>
<td>yes</td>
</tr>
<tr>
<td>integration, micro, shipping ,product</td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="sample-execution-of-test-with-tags">Sample execution of test with tags.<a class="headerlink" href="#sample-execution-of-test-with-tags" title="Permanent link">&para;</a></h3>
<p>Execution of the test with tag expressions is done using the parameter <code>a_tags</code>.
Given a test package <code>ut_sample_test</code> defined below </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span>
<span class="normal"><a href="#__codelineno-23-22">22</a></span>
<span class="normal"><a href="#__codelineno-23-23">23</a></span>
<span class="normal"><a href="#__codelineno-23-24">24</a></span>
<span class="normal"><a href="#__codelineno-23-25">25</a></span>
<span class="normal"><a href="#__codelineno-23-26">26</a></span>
<span class="normal"><a href="#__codelineno-23-27">27</a></span>
<span class="normal"><a href="#__codelineno-23-28">28</a></span>
<span class="normal"><a href="#__codelineno-23-29">29</a></span>
<span class="normal"><a href="#__codelineno-23-30">30</a></span>
<span class="normal"><a href="#__codelineno-23-31">31</a></span>
<span class="normal"><a href="#__codelineno-23-32">32</a></span>
<span class="normal"><a href="#__codelineno-23-33">33</a></span>
<span class="normal"><a href="#__codelineno-23-34">34</a></span>
<span class="normal"><a href="#__codelineno-23-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">   </span><span class="c1">--%suite(Sample Test Suite)</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">   </span><span class="c1">--%tags(api)</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">   </span><span class="c1">--%test(Compare Ref Cursors)</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">   </span><span class="c1">--%tags(complex,fast)</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="p">;</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">   </span><span class="c1">--%test(Run equality test)</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">   </span><span class="c1">--%tags(simple,fast)</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="p">;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="o">/</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="w">      </span><span class="n">v_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w">      </span><span class="n">v_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="w">   </span><span class="k">begin</span>
<a id="__codelineno-23-23" name="__codelineno-23-23"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-23-24" name="__codelineno-23-24"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_actual</span><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-23-25" name="__codelineno-23-25"></a>
<a id="__codelineno-23-26" name="__codelineno-23-26"></a><span class="w">      </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">v_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">v_expected</span><span class="p">);</span>
<a id="__codelineno-23-27" name="__codelineno-23-27"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-23-28" name="__codelineno-23-28"></a>
<a id="__codelineno-23-29" name="__codelineno-23-29"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-23-30" name="__codelineno-23-30"></a><span class="w">   </span><span class="k">begin</span>
<a id="__codelineno-23-31" name="__codelineno-23-31"></a><span class="w">       </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-23-32" name="__codelineno-23-32"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-23-33" name="__codelineno-23-33"></a>
<a id="__codelineno-23-34" name="__codelineno-23-34"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span>
<a id="__codelineno-23-35" name="__codelineno-23-35"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ut_sample_test&#39;</span><span class="p">,</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;api&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
The above call will execute all tests from <code>ut_sample_test</code> package as the whole suite is tagged with <code>api</code></p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;fast&amp;complex&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
The above call will execute only the <code>ut_sample_test.ut_refcursors1</code> test, as only the test <code>ut_refcursors1</code> is tagged with <code>complex</code> and <code>fast</code></p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;fast&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
The above call will execute both <code>ut_sample_test.ut_refcursors1</code> and <code>ut_sample_test.ut_test</code> tests, as both tests are tagged with <code>fast</code></p>
<h3 id="excluding-testssuites-by-tags">Excluding tests/suites by tags<a class="headerlink" href="#excluding-testssuites-by-tags" title="Permanent link">&para;</a></h3>
<p>It is possible to exclude parts of test suites with tags.
In order to do so, prefix the tag name to exclude with a <code>!</code> (exclamation) sign when invoking the test run which is equivalent of <code>-</code> (dash) in legacy notation.
Examples (based on above sample test suite)</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;(api|fast)&amp;!complex&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>or </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;(api|fast)&amp;!complex&amp;!test1&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>which is equivalent of exclusion on whole expression</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;(api|fast)&amp;!(complex|test1)&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>The above calls  will execute all suites/contexts/tests that are marked with any of tags <code>api</code> or <code>fast</code> except those suites/contexts/tests that are marked as <code>complex</code> and except those suites/contexts/tests that are marked as <code>test1</code>. 
Given the above example package <code>ut_sample_test</code>, only <code>ut_sample_test.ut_test</code> will be executed.  </p>
<h3 id="sample-execution-with-any-and-none">Sample execution with <code>any</code> and <code>none</code><a class="headerlink" href="#sample-execution-with-any-and-none" title="Permanent link">&para;</a></h3>
<p>Given a sample test package:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span>
<span class="normal"><a href="#__codelineno-30-24">24</a></span>
<span class="normal"><a href="#__codelineno-30-25">25</a></span>
<span class="normal"><a href="#__codelineno-30-26">26</a></span>
<span class="normal"><a href="#__codelineno-30-27">27</a></span>
<span class="normal"><a href="#__codelineno-30-28">28</a></span>
<span class="normal"><a href="#__codelineno-30-29">29</a></span>
<span class="normal"><a href="#__codelineno-30-30">30</a></span>
<span class="normal"><a href="#__codelineno-30-31">31</a></span>
<span class="normal"><a href="#__codelineno-30-32">32</a></span>
<span class="normal"><a href="#__codelineno-30-33">33</a></span>
<span class="normal"><a href="#__codelineno-30-34">34</a></span>
<span class="normal"><a href="#__codelineno-30-35">35</a></span>
<span class="normal"><a href="#__codelineno-30-36">36</a></span>
<span class="normal"><a href="#__codelineno-30-37">37</a></span>
<span class="normal"><a href="#__codelineno-30-38">38</a></span>
<span class="normal"><a href="#__codelineno-30-39">39</a></span>
<span class="normal"><a href="#__codelineno-30-40">40</a></span>
<span class="normal"><a href="#__codelineno-30-41">41</a></span>
<span class="normal"><a href="#__codelineno-30-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="w">   </span><span class="c1">--%suite(Sample Test Suite)</span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">   </span><span class="c1">--%test(Compare Ref Cursors)</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="w">   </span><span class="c1">--%tags(complex,fast)</span>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="p">;</span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">   </span><span class="c1">--%test(Run equality test)</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="w">   </span><span class="c1">--%tags(simple,fast)</span>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="p">;</span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="w">   </span><span class="c1">--%test(Run equality test no tag)   </span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test_no_tag</span><span class="p">;</span>
<a id="__codelineno-30-15" name="__codelineno-30-15"></a>
<a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span>
<a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="o">/</span>
<a id="__codelineno-30-18" name="__codelineno-30-18"></a>
<a id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-30-20" name="__codelineno-30-20"></a>
<a id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_refcursors1</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-30-22" name="__codelineno-30-22"></a><span class="w">      </span><span class="n">v_actual</span><span class="w">   </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-30-23" name="__codelineno-30-23"></a><span class="w">      </span><span class="n">v_expected</span><span class="w"> </span><span class="n">sys_refcursor</span><span class="p">;</span>
<a id="__codelineno-30-24" name="__codelineno-30-24"></a><span class="w">   </span><span class="k">begin</span>
<a id="__codelineno-30-25" name="__codelineno-30-25"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_expected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-30-26" name="__codelineno-30-26"></a><span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="n">v_actual</span><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
<a id="__codelineno-30-27" name="__codelineno-30-27"></a>
<a id="__codelineno-30-28" name="__codelineno-30-28"></a><span class="w">      </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="n">v_actual</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="n">v_expected</span><span class="p">);</span>
<a id="__codelineno-30-29" name="__codelineno-30-29"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-30-30" name="__codelineno-30-30"></a>
<a id="__codelineno-30-31" name="__codelineno-30-31"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-30-32" name="__codelineno-30-32"></a><span class="w">   </span><span class="k">begin</span>
<a id="__codelineno-30-33" name="__codelineno-30-33"></a><span class="w">       </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-30-34" name="__codelineno-30-34"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span>
<a id="__codelineno-30-35" name="__codelineno-30-35"></a>
<a id="__codelineno-30-36" name="__codelineno-30-36"></a><span class="w">   </span><span class="k">procedure</span><span class="w"> </span><span class="n">ut_test_no_tag</span><span class="w"> </span><span class="k">is</span>
<a id="__codelineno-30-37" name="__codelineno-30-37"></a><span class="w">   </span><span class="k">begin</span>
<a id="__codelineno-30-38" name="__codelineno-30-38"></a><span class="w">       </span><span class="n">ut</span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">to_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-30-39" name="__codelineno-30-39"></a><span class="w">   </span><span class="k">end</span><span class="p">;</span><span class="w">   </span>
<a id="__codelineno-30-40" name="__codelineno-30-40"></a>
<a id="__codelineno-30-41" name="__codelineno-30-41"></a><span class="k">end</span><span class="w"> </span><span class="n">ut_sample_test</span><span class="p">;</span>
<a id="__codelineno-30-42" name="__codelineno-30-42"></a><span class="o">/</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ut_sample_test&#39;</span><span class="p">,</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>The above call will execute tests <code>ut_test_no_tag</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ut_sample_test&#39;</span><span class="p">,</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;any&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>The above call will execute tests <code>ut_test</code> and <code>ut_refcursors1</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_path</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ut_sample_test&#39;</span><span class="p">,</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;none|simple&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>The above call will execute tests <code>ut_test_no_tag</code> and <code>ut_test</code> </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table</span><span class="p">(</span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">a_tags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;none|!simple&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<p>The above call will execute tests <code>ut_test_no_tag</code> and <code>ut_refcursors1</code> </p>
<h2 id="keeping-uncommitted-data-after-test-run">Keeping uncommitted data after test-run<a class="headerlink" href="#keeping-uncommitted-data-after-test-run" title="Permanent link">&para;</a></h2>
<p>utPLSQL by default runs tests in autonomous transaction and performs automatic rollback to assure that tests do not impact one-another and do not have impact on the current session in your IDE.</p>
<p>If you would like to keep your uncommitted data persisted after running tests, you can do so by using <code>a_force_manual_rollback</code> flag.
Setting this flag to true has following side-effects:</p>
<ul>
<li>test execution is done in current transaction - if while running tests commit or rollback is issued your current session data will get commited too.</li>
<li>automatic rollback is forced to be disabled in test-run even if it was explicitly enabled by using annotation `--%rollback(manual)</li>
</ul>
<p>Example invocation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="k">begin</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">a_force_manual_rollback</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">true</span><span class="p">);</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Note:</strong></p>
<blockquote>
<p>This option is not available when running tests using <code>ut.run</code> as a table function.</p>
</blockquote>
<h2 id="reports-character-set-encoding">Reports character-set encoding<a class="headerlink" href="#reports-character-set-encoding" title="Permanent link">&para;</a></h2>
<p>To get properly encoded reports, when running utPLSQL with HTML/XML reports on data containing national characters you need to provide your client character set when calling <code>ut.run</code> functions and procedures.</p>
<p>If you run your tests using <code>utPLSQL-cli</code>, this is done automatically and no action needs to be taken.</p>
<p>To make sure that the reports will display your national characters properly when running from IDE like SQLDeveloper/TOAD/SQLPlus or sqlcl you need to provide the charaterset manualy to <code>ut.run</code>.</p>
<p>Example call with characterset provided:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">begin</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w">  </span><span class="n">ut</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;hr.test_apply_bonus&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ut_junit_reporter</span><span class="p">(),</span><span class="w"> </span><span class="n">a_client_character_set</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Windows-1251&#39;</span><span class="p">);</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="k">end</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">October 22, 2024 21:47:42</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 26, 2017 02:13:22</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2022 utPLSQL Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/utPLSQL" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://join.slack.com/t/utplsql/shared_invite/zt-xwm68udy-4cF_3PNEyczYEbWr38W5ww" target="_blank" rel="noopener" title="join.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/utPLSQL" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:utPLSQL@utPLSQL.org" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tracking", "toc.follow", "toc.integrate", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>